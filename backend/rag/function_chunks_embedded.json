[
  {
    "id": "cleanup.py_cleanup_old_uploads",
    "filename": "cleanup.py",
    "function_name": "cleanup_old_uploads",
    "text": "## Function: cleanup_old_uploads (cleanup.py)\n\n```python\ndef cleanup_old_uploads():\n    logger.info(\"Starting cleanup of old uploads...\")\n    print(\"Current working dir:\", os.getcwd())\n    print(\"BASE_DIR:\", BASE_DIR)\n    print(\"UPLOAD_FOLDER:\", UPLOAD_FOLDER)\n    print(\"RMS_ANALYSIS_FOLDER:\", RMS_ANALYSIS_FOLDER)\n    now = time.time()\n    db = SessionLocal()\n    try:\n        # Delete old audio files tracked in DB and remove their DB records\n        old_tracks = db.query(Track).all()\n        print(f\"Found {len(old_tracks)} tracks in DB\")\n        for track in old_tracks:\n            file_path_str = track.file_path\n            if not file_path_str:\n                print(\"Track has no file_path, skipping\")\n                continue\n\n            file_path = Path(file_path_str)\n            print(f\"Checking track file path: {file_path}\")\n\n            if file_path.exists():\n                file_age = now - file_path.stat().st_mtime\n                print(f\"File age (seconds): {file_age}\")\n                if file_age > MAX_FILE_AGE_SECONDS:\n                    try:\n                        file_path.unlink()\n                        logger.info(f\"Deleted old track file: {file_path}\")\n\n                        # Also delete associated RMS file if exists\n                        rms_filename = f\"{file_path.name}_rms.json\"\n                        rms_file_path = RMS_ANALYSIS_FOLDER / rms_filename\n                        if rms_file_path.exists():\n                            try:\n                                rms_file_path.unlink()\n                                logger.info(f\"Deleted RMS file: {rms_file_path}\")\n                            except Exception as e:\n                                logger.error(f\"Error deleting RMS file {rms_file_path}: {e}\")\n\n                        # Delete related analysis_results\n                        deleted_count = db.query(AnalysisResult).filter(AnalysisResult.track_id == track.id).delete()\n                        logger.info(f\"Deleted {deleted_count} analysis results for track {track.id}\")\n\n                        # Instead of deleting Track, just clear the file_path\n                        track.file_path = None\n                        db.add(track)  # mark for update\n\n                    except Exception as e:\n                        logger.error(f\"Error deleting files or DB record for {file_path}: {e}\")\n                else:\n                    print(f\"File not old enough to delete: {file_path}\")\n            else:\n                print(f\"File path does not exist: {file_path}\")\n\n        db.commit()  # Commit deletions after all done\n\n        # Delete all old orphan files in the UPLOAD_FOLDER (files not tracked in DB)\n        print(\"Checking for orphan files in upload folder...\")\n        for file_path in UPLOAD_FOLDER.iterdir():\n            if file_path.is_file():\n                file_age = now - file_path.stat().st_mtime\n                print(f\"Orphan file {file_path}, age: {file_age}\")\n                if file_age > MAX_FILE_AGE_SECONDS:\n                    try:\n                        file_path.unlink()\n                        logger.info(f\"Deleted orphan upload file: {file_path}\")\n                    except Exception as e:\n                        logger.error(f\"Error deleting orphan upload file {file_path}: {e}\")\n\n        # Delete all old RMS JSON files in the RMS_ANALYSIS_FOLDER (cleanup orphan RMS files)\n        print(\"Checking for orphan RMS JSON files...\")\n        for rms_file in RMS_ANALYSIS_FOLDER.glob(\"*.json\"):\n            file_age = now - rms_file.stat().st_mtime\n            print(f\"RMS file {rms_file}, age: {file_age}\")\n            if file_age > MAX_FILE_AGE_SECONDS:\n                try:\n                    rms_file.unlink()\n                    logger.info(f\"Deleted orphan RMS JSON file: {rms_file}\")\n                except Exception as e:\n                    logger.error(f\"Error deleting orphan RMS file {rms_file}: {e}\")\n\n    finally:\n        db.close()\n    logger.info(\"Cleanup finished.\")\n```\n",
    "embedding": [
      0.01050084363669157,
      -0.02292754501104355,
      -0.028353670611977577,
      0.00039806595304980874,
      0.08064857125282288,
      -0.03326234966516495,
      0.024639509618282318,
      -0.055538713932037354,
      -0.013165393844246864,
      -0.024898212403059006,
      0.030062507838010788,
      0.066966712474823,
      0.024149559438228607,
      0.008704856038093567,
      -0.08096013218164444,
      0.0026701828464865685,
      -0.10397502034902573,
      -0.00862843543291092,
      -0.027139388024806976,
      0.0027494917158037424,
      -0.04623487964272499,
      0.04027445614337921,
      0.07478759437799454,
      0.07180815190076828,
      0.06280041486024857,
      -0.017641017213463783,
      0.007610898464918137,
      -0.05749836936593056,
      -0.0783132016658783,
      -0.009084218181669712,
      0.03012690134346485,
      0.0635913833975792,
      0.08300259709358215,
      -0.013155704364180565,
      0.06483441591262817,
      -0.018361791968345642,
      -0.0004552639729809016,
      -0.03577934205532074,
      0.039123937487602234,
      -0.03586355969309807,
      0.018100524321198463,
      0.03761304169893265,
      -0.03027624823153019,
      -0.05085738003253937,
      -0.07207697629928589,
      -0.0044057718478143215,
      -0.12696844339370728,
      -0.00621153274551034,
      -0.0002694933791644871,
      0.042872052639722824,
      0.027460338547825813,
      -0.050520315766334534,
      -0.04866929352283478,
      0.029701292514801025,
      -0.0175054632127285,
      0.046921685338020325,
      0.05532318726181984,
      0.061790499836206436,
      -0.06003107503056526,
      -0.014615423046052456,
      0.021219661459326744,
      -0.025467896834015846,
      0.012739129364490509,
      -0.07186086475849152,
      0.0038191531784832478,
      -0.03321925550699234,
      0.004800330847501755,
      0.023446593433618546,
      0.054609593003988266,
      0.06740856915712357,
      -0.02547438256442547,
      0.062490370124578476,
      -0.05619146302342415,
      0.06878022104501724,
      -0.036686960607767105,
      -0.027867145836353302,
      0.09062428027391434,
      0.04535253718495369,
      -0.06868572533130646,
      -0.03807468339800835,
      0.012166471220552921,
      -0.12502577900886536,
      0.033341970294713974,
      -0.07937732338905334,
      -0.007162644062191248,
      -0.07195999473333359,
      0.009171619080007076,
      -0.07290937751531601,
      -0.007714210078120232,
      -0.08051658421754837,
      -0.021197833120822906,
      -0.004091678187251091,
      0.06531025469303131,
      -0.019758570939302444,
      0.032269224524497986,
      0.015080717392265797,
      -0.007011097855865955,
      0.1369071900844574,
      0.06429410725831985,
      0.047454193234443665,
      -0.0024879425764083862,
      0.04890209808945656,
      -0.0584566667675972,
      -0.027715543285012245,
      -0.004144349135458469,
      0.052770305424928665,
      -0.004194706678390503,
      0.04787784069776535,
      -0.030911067500710487,
      -0.03627476841211319,
      -0.009726561605930328,
      -0.0627688616514206,
      -0.03924728184938431,
      0.04681748151779175,
      0.08087360858917236,
      0.09230095893144608,
      -0.038318753242492676,
      0.13364504277706146,
      -0.1342886984348297,
      0.06972098350524902,
      0.03645903244614601,
      -0.02247549407184124,
      -0.007210597395896912,
      -0.0015249348944053054,
      -0.04775600507855415,
      0.00781481247395277,
      0.0857665166258812,
      4.125975253152644e-33,
      0.012548092752695084,
      -0.05567900836467743,
      0.02917085960507393,
      -0.05834360048174858,
      0.11048609018325806,
      0.009595646522939205,
      -0.015995711088180542,
      0.07524757832288742,
      0.06824224442243576,
      0.09334349632263184,
      0.00026483266265131533,
      0.07403028011322021,
      -0.04187897592782974,
      -0.0925283432006836,
      -0.003580208634957671,
      -0.01716967485845089,
      -0.03980094566941261,
      0.035774268209934235,
      0.01917128451168537,
      -0.029138779267668724,
      0.07803808897733688,
      -0.006275447551161051,
      -0.06810323894023895,
      0.003860047087073326,
      0.05284244194626808,
      -0.01825028471648693,
      0.05567054823040962,
      -0.02863774448633194,
      0.015513906255364418,
      -0.018038596957921982,
      -0.056976497173309326,
      -0.04245815426111221,
      -0.043610382825136185,
      0.04924517124891281,
      -0.05094991251826286,
      0.011458409018814564,
      -0.00856115110218525,
      -0.01800340600311756,
      -0.01173415593802929,
      -0.022546028718352318,
      0.05840618163347244,
      0.020761726424098015,
      -0.08757978677749634,
      -0.02976161241531372,
      -0.0757557600736618,
      0.019186483696103096,
      -0.027443042024970055,
      0.03876560553908348,
      0.0006237872294150293,
      0.046138469129800797,
      0.024911511689424515,
      -0.018254945054650307,
      -0.005135022569447756,
      0.00242648646235466,
      -0.07863657921552658,
      0.03498213738203049,
      0.07687267661094666,
      -0.022307749837636948,
      0.07172191888093948,
      -0.11147928982973099,
      0.20584768056869507,
      -0.019024193286895752,
      0.025526348501443863,
      -0.04971420019865036,
      0.025796543806791306,
      0.01944807916879654,
      0.06220538169145584,
      0.029140230268239975,
      0.0822068452835083,
      -0.022297298535704613,
      -0.05385323241353035,
      0.022064443677663803,
      -0.023986445739865303,
      -0.0814245268702507,
      0.05679311603307724,
      -0.06171528249979019,
      -0.03262963518500328,
      -0.023204412311315536,
      -0.09426950663328171,
      0.04826641082763672,
      0.009952221997082233,
      -0.0739186480641365,
      -0.04515122249722481,
      -0.04001137241721153,
      0.019939487800002098,
      -0.02884741500020027,
      0.029644986614584923,
      -0.023217808455228806,
      -0.05086999759078026,
      0.0068491664715111256,
      -0.03605230525135994,
      0.08461982011795044,
      -0.05866396054625511,
      -0.012381871230900288,
      0.03825730085372925,
      -3.97727007498584e-33,
      0.07889820635318756,
      0.057724401354789734,
      0.08253549784421921,
      -0.04510430246591568,
      0.03191656619310379,
      -0.04577917605638504,
      0.034697096794843674,
      0.08317557722330093,
      0.02108955755829811,
      -0.03703293949365616,
      -0.009028059430420399,
      -0.07856760919094086,
      0.006983778905123472,
      -0.06103123724460602,
      -0.007138412911444902,
      0.025796320289373398,
      -0.02272709645330906,
      0.013467111624777317,
      -0.13073351979255676,
      0.0232448261231184,
      -0.04427987337112427,
      -0.004494129214435816,
      0.026115858927369118,
      0.027033373713493347,
      -0.09250049293041229,
      -0.02620627172291279,
      -0.03396270424127579,
      -0.04178690165281296,
      0.03102928400039673,
      0.009303259663283825,
      -0.03692769631743431,
      0.04197736829519272,
      -0.0330011323094368,
      -0.03786797448992729,
      0.0255878958851099,
      -0.06835402548313141,
      0.0266710352152586,
      0.04615144059062004,
      -0.00956767052412033,
      -0.00898095965385437,
      0.020448246970772743,
      0.12306588888168335,
      -0.002332672942429781,
      -0.015363608486950397,
      0.009479516185820103,
      -0.01307283528149128,
      -0.019289236515760422,
      0.09573744982481003,
      -0.043444693088531494,
      -0.041229087859392166,
      0.06580720096826553,
      -0.08590158075094223,
      0.018289055675268173,
      -0.01607346534729004,
      0.04348425939679146,
      0.04091241583228111,
      0.02837396413087845,
      -0.07816045731306076,
      -0.023468878120183945,
      -0.024206072092056274,
      0.0026104915887117386,
      0.06369446218013763,
      -0.10815250128507614,
      -0.027709731832146645,
      -0.05062979832291603,
      0.056287895888090134,
      -0.00717513170093298,
      0.05025520548224449,
      -0.04514867812395096,
      0.02461928501725197,
      -0.014668988063931465,
      0.07805781811475754,
      0.015851806849241257,
      0.08166169375181198,
      -0.038054730743169785,
      0.04879111051559448,
      -0.10575301200151443,
      -0.06143346428871155,
      -0.030465712770819664,
      -0.000926804612390697,
      -0.017092302441596985,
      0.019565649330615997,
      -0.010333586484193802,
      -0.0497998483479023,
      -0.03482882305979729,
      0.027423055842518806,
      -0.003060373943299055,
      -0.019900087267160416,
      -0.023050257936120033,
      -0.01034170389175415,
      -0.02458200417459011,
      -0.005568626802414656,
      0.07148826122283936,
      -0.01215535681694746,
      0.015923574566841125,
      -4.462908620439521e-08,
      -0.03758564591407776,
      0.04987507686018944,
      0.02238326705992222,
      0.009654343128204346,
      0.10996207594871521,
      -0.025187818333506584,
      -0.008422444574534893,
      0.18094904720783234,
      0.06422941386699677,
      -0.07023024559020996,
      0.04210837557911873,
      -0.0277809277176857,
      -0.0339069664478302,
      0.05221496522426605,
      -0.07816609740257263,
      -0.04315866902470589,
      -0.011614028364419937,
      0.015901776030659676,
      -0.006429154891520739,
      0.005705717019736767,
      -0.0030920947901904583,
      0.007913119159638882,
      0.05675854533910751,
      0.030553806573152542,
      0.0043191444128751755,
      -0.014640926383435726,
      0.07580769807100296,
      0.04143217206001282,
      0.0367201529443264,
      -0.02226977050304413,
      0.019602786749601364,
      0.02546701580286026,
      0.024284115061163902,
      -0.0036687408573925495,
      0.004298269748687744,
      -0.005884577054530382,
      0.019854657351970673,
      0.037775617092847824,
      -0.13742466270923615,
      0.08566003292798996,
      -0.08000674843788147,
      0.052780989557504654,
      -0.034483108669519424,
      -0.036163076758384705,
      -0.0018667905824258924,
      -0.10185549408197403,
      0.013328992761671543,
      0.02149670012295246,
      -0.020390575751662254,
      0.012251378037035465,
      -0.017318308353424072,
      0.0361938439309597,
      -0.07211361825466156,
      0.05136040225625038,
      -9.894838876789436e-05,
      0.009894735179841518,
      0.011577918194234371,
      0.08642958849668503,
      -0.10415628552436829,
      -0.0002664061030372977,
      0.03501664847135544,
      -0.009906583465635777,
      0.06035449355840683,
      -0.04100370779633522
    ]
  },
  {
    "id": "utils.py_sanitize_input",
    "filename": "utils.py",
    "function_name": "sanitize_input",
    "text": "## Function: sanitize_input (utils.py)\n\n```python\ndef sanitize_input(input_str: str) -> str:\n    \"\"\"Sanitize string: trim, normalize whitespace, limit length.\"\"\"\n    if not isinstance(input_str, str):\n        return \"\"\n    return re.sub(r\"\\s+\", \" \", input_str.strip())[:100]\n```\n",
    "embedding": [
      -0.007717263884842396,
      0.08411307632923126,
      -0.014145991764962673,
      0.008534207008779049,
      -0.03307389095425606,
      -0.02939978800714016,
      0.03438691049814224,
      0.05687899515032768,
      0.0013849177630618215,
      -0.047312259674072266,
      -0.021383827552199364,
      0.0328579880297184,
      0.10077973455190659,
      0.04258102551102638,
      -0.05248795449733734,
      -0.05936363711953163,
      -0.08980271220207214,
      0.059919536113739014,
      -0.08081647008657455,
      -0.1025594174861908,
      0.04359535872936249,
      0.05814848840236664,
      -0.009373300708830357,
      0.07920562475919724,
      -0.06262541562318802,
      -0.0035561316180974245,
      -0.040771421045064926,
      0.017823390662670135,
      -0.011796134524047375,
      0.012187470681965351,
      0.05177930369973183,
      -0.02807646431028843,
      0.13006773591041565,
      -0.015032568946480751,
      0.035830914974212646,
      -0.00013788849173579365,
      -0.04205189272761345,
      -0.08232803642749786,
      0.04995625466108322,
      -0.017492009326815605,
      -0.057708945125341415,
      -0.11396779119968414,
      -0.04771030321717262,
      0.03937046602368355,
      -0.012684966437518597,
      0.0035614212974905968,
      -0.039805639535188675,
      -0.014889717102050781,
      0.03477802500128746,
      -0.01469174399971962,
      -0.012042705900967121,
      0.027144161984324455,
      -0.05146808922290802,
      0.07550302892923355,
      -0.009334835223853588,
      -0.10806971043348312,
      0.04050954803824425,
      -0.040529344230890274,
      0.0008108241599984467,
      -0.07762044668197632,
      -0.0034054704010486603,
      0.0021953843533992767,
      0.030601615086197853,
      -0.011186587624251842,
      -0.04631396010518074,
      0.045891717076301575,
      -0.022809311747550964,
      0.08578836172819138,
      0.014815094880759716,
      0.0757630467414856,
      -0.03141554072499275,
      0.07343074679374695,
      -0.10658631473779678,
      0.038661107420921326,
      0.0575396902859211,
      0.010163160040974617,
      -0.03474846109747887,
      0.00667896494269371,
      0.0044763945043087006,
      0.07029762119054794,
      0.05614618584513664,
      -0.0842871144413948,
      0.04569624736905098,
      0.07265753298997879,
      -0.005243076477199793,
      0.04945959523320198,
      -0.08064631372690201,
      0.0009635094902478158,
      0.09212689846754074,
      -0.04831728711724281,
      -0.03395173326134682,
      -0.059780094772577286,
      0.06505733728408813,
      -0.0019643809646368027,
      -0.0787431076169014,
      -0.0038581183180212975,
      -0.018582824617624283,
      -0.0030950764194130898,
      -0.03879164531826973,
      0.028633039444684982,
      -0.07079803198575974,
      -0.04164214804768562,
      0.02331082709133625,
      -0.05899398773908615,
      0.047568511217832565,
      0.0639108419418335,
      0.062496211379766464,
      -0.03031105175614357,
      0.08864408731460571,
      -0.06074879691004753,
      -0.008746523410081863,
      -0.05055058002471924,
      -0.037410613149404526,
      0.017978079617023468,
      0.06918918341398239,
      0.04191986843943596,
      0.10463839024305344,
      0.03446841984987259,
      0.046936389058828354,
      0.10293155163526535,
      0.035758472979068756,
      -0.017917273566126823,
      -0.09844458848237991,
      0.05897454544901848,
      0.03025052882730961,
      -0.05168917775154114,
      0.04757178947329521,
      3.2914047534535444e-33,
      -0.10370692610740662,
      0.09044206142425537,
      0.05227598547935486,
      -0.07120423018932343,
      -0.0003820635029114783,
      0.024583689868450165,
      -0.048815589398145676,
      0.0465373657643795,
      0.007833619602024555,
      -0.019774075597524643,
      -0.012447940185666084,
      -0.06322963535785675,
      0.0013881963677704334,
      -0.004890537820756435,
      0.07193692028522491,
      0.026403797790408134,
      0.05946332588791847,
      -0.027103833854198456,
      -0.04485359042882919,
      -0.06736239790916443,
      -0.004364966880530119,
      0.03787630796432495,
      -0.009675848297774792,
      -0.005511661060154438,
      -0.03464293107390404,
      -0.044186897575855255,
      -0.028245775029063225,
      -0.06849044561386108,
      0.018777715042233467,
      -0.015305821783840656,
      -0.03559969365596771,
      -0.021762356162071228,
      -0.04789967089891434,
      0.08096370846033096,
      -0.03243163228034973,
      0.044085439294576645,
      -0.0197198074311018,
      0.0515480600297451,
      -0.02227858081459999,
      0.012708229944109917,
      0.003111240454018116,
      -0.001190566341392696,
      0.001954557839781046,
      0.09246581047773361,
      0.06559044867753983,
      0.0006721072713844478,
      -0.058927178382873535,
      0.030711790546774864,
      -0.03683796152472496,
      0.005181227810680866,
      0.0022227491717785597,
      0.07999523729085922,
      -0.00021346646826714277,
      -0.0008645327761769295,
      -0.10730176419019699,
      -0.04094270244240761,
      0.06314259767532349,
      -0.022381586953997612,
      0.013449905440211296,
      -0.051570482552051544,
      -0.003806233638897538,
      0.010833991691470146,
      0.05981077253818512,
      0.053858961910009384,
      0.000820027431473136,
      -0.08744002878665924,
      0.07964728027582169,
      0.04245627298951149,
      -0.03839519992470741,
      0.03813653439283371,
      -0.11078499257564545,
      -0.0031489187385886908,
      -0.10433829575777054,
      0.01719682477414608,
      -0.14581725001335144,
      -0.07575809955596924,
      0.03888268023729324,
      -0.05270703509449959,
      0.02091939002275467,
      0.008027254603803158,
      -0.0020679838489741087,
      -0.005284380167722702,
      0.03579272702336311,
      0.03587232157588005,
      -0.01337948814034462,
      -0.05816976726055145,
      0.00919133797287941,
      -0.002726111328229308,
      0.03648294508457184,
      -0.029926283285021782,
      0.015260872431099415,
      -0.10759218782186508,
      -0.06978992372751236,
      -0.0442294180393219,
      -0.052593667060136795,
      -4.941891759530148e-33,
      0.07762657105922699,
      0.05550437048077583,
      -0.012849210761487484,
      0.04628506302833557,
      -0.08372191339731216,
      -0.057819560170173645,
      0.020410293713212013,
      0.1285906434059143,
      0.03353549540042877,
      -0.037530865520238876,
      -0.016813840717077255,
      -0.0038260857108980417,
      0.09487038105726242,
      -0.053400903940200806,
      -0.0017313399584963918,
      0.033350951969623566,
      -0.04053746908903122,
      0.10846153646707535,
      -0.031884245574474335,
      -0.031149031594395638,
      -0.0016222078120335937,
      -0.04311676323413849,
      0.014961715787649155,
      0.058580901473760605,
      -0.054872624576091766,
      0.0023969588801264763,
      0.02074139006435871,
      -0.0055933743715286255,
      0.06161341443657875,
      0.04943166673183441,
      -0.10975345969200134,
      0.08747021853923798,
      0.0008905216818675399,
      0.009191618300974369,
      -0.07406189292669296,
      -0.03813520446419716,
      0.041617780923843384,
      0.0704135075211525,
      0.08466210216283798,
      -0.021906327456235886,
      0.07351254671812057,
      0.08988095819950104,
      -0.015818404033780098,
      0.06870798021554947,
      -0.00016792821406852454,
      0.010263900272548199,
      -0.06322353333234787,
      0.02100421115756035,
      -0.0026763994246721268,
      -0.06431824713945389,
      -0.061735864728689194,
      0.0024759534280747175,
      -0.08159919083118439,
      -0.012469550594687462,
      -0.03906780481338501,
      -0.004494200926274061,
      0.048446740955114365,
      -0.02060954086482525,
      -0.07033859938383102,
      -0.00743850925937295,
      -0.08025256544351578,
      0.03342176228761673,
      -0.06764933466911316,
      -0.015825102105736732,
      0.014497780241072178,
      -0.04438626021146774,
      0.004270509351044893,
      0.02587706595659256,
      0.016147134825587273,
      -0.1327173411846161,
      0.11623355001211166,
      0.040410783141851425,
      -0.024067535996437073,
      0.023993168026208878,
      -0.12102414667606354,
      -0.016666678711771965,
      0.008066288195550442,
      -0.024123700335621834,
      -0.04743098095059395,
      0.060776639729738235,
      -0.011204555630683899,
      -0.032433364540338516,
      0.04016397148370743,
      0.04283715784549713,
      -0.03813354671001434,
      -0.0017695965943858027,
      -0.015257231891155243,
      0.039637982845306396,
      -0.04031471535563469,
      -0.05226906016469002,
      0.019870426505804062,
      0.04008188843727112,
      0.012797240167856216,
      0.03278731554746628,
      0.009758115746080875,
      -4.105942608134683e-08,
      0.08134181797504425,
      -0.003586399368941784,
      -0.015005072578787804,
      -0.013588254339993,
      -0.0009363358840346336,
      0.07047124952077866,
      -0.04016847163438797,
      0.025623904541134834,
      0.059389058500528336,
      -0.002872575307264924,
      -0.030969008803367615,
      -0.02222418040037155,
      -0.05958446487784386,
      -0.08358971029520035,
      -0.07160082459449768,
      0.09192037582397461,
      -0.031920451670885086,
      0.05620019510388374,
      -0.025423869490623474,
      -0.024059845134615898,
      0.039744969457387924,
      -0.01602979004383087,
      -0.03886289522051811,
      -0.023528866469860077,
      -0.011552448384463787,
      -0.02524590492248535,
      -0.045309197157621384,
      0.05499967932701111,
      -0.024299703538417816,
      -0.05295034125447273,
      0.04823062941431999,
      0.005987991113215685,
      -0.0016214112984016538,
      -0.016354305669665337,
      -0.0285634845495224,
      -0.011414667591452599,
      0.028264159336686134,
      -0.02431788668036461,
      -0.009153134189546108,
      0.1013874039053917,
      -0.009989534504711628,
      0.005470345262438059,
      -0.0881890282034874,
      -0.021099921315908432,
      -0.07200391590595245,
      -0.033762309700250626,
      0.05653093755245209,
      0.00028475167346186936,
      -0.002335317898541689,
      -0.024113457649946213,
      0.1257006675004959,
      0.030771853402256966,
      -0.03215515986084938,
      -0.04056832194328308,
      -0.03259805962443352,
      0.027587570250034332,
      0.03143024444580078,
      0.03788386657834053,
      -0.06748905777931213,
      1.496365530329058e-05,
      0.05784101411700249,
      0.02881717123091221,
      0.10609138011932373,
      -0.026713164523243904
    ]
  },
  {
    "id": "utils.py_sanitize_user_question",
    "filename": "utils.py",
    "function_name": "sanitize_user_question",
    "text": "## Function: sanitize_user_question (utils.py)\n\n```python\ndef sanitize_user_question(text: str) -> str:\n    if not isinstance(text, str):\n        return \"\"\n    # Remove unwanted characters (allow common punctuation)\n    cleaned = re.sub(r\"[^\\w\\s.,!?@&$()\\-+=:;\\'\\\"/]\", \"\", text.strip())\n    # Limit length to 400 chars (adjust as needed)\n    cleaned = cleaned[:400]\n    # Escape HTML entities to prevent injection\n    return html.escape(cleaned)\n```\n",
    "embedding": [
      0.01649305410683155,
      0.09791445732116699,
      0.014167288318276405,
      -0.0028042823541909456,
      -0.02346065826714039,
      -0.05764419212937355,
      0.07079488039016724,
      0.013261700049042702,
      0.03771660104393959,
      -0.05259521305561066,
      -0.015068466775119305,
      -0.004133534152060747,
      0.09379886090755463,
      0.025234518572688103,
      0.0002645460772328079,
      0.01028637308627367,
      -0.05075521394610405,
      0.013125845231115818,
      -0.05313419550657272,
      -0.014950741082429886,
      0.00799721572548151,
      0.09493650496006012,
      0.067837655544281,
      0.07061183452606201,
      -0.008677611127495766,
      -0.09070633351802826,
      0.025210915133357048,
      -0.004815035033971071,
      -0.026558928191661835,
      0.06496021896600723,
      0.07008127868175507,
      -0.07458016276359558,
      0.04404937103390694,
      0.014339441433548927,
      0.07221082597970963,
      0.037437520921230316,
      -0.00830012932419777,
      -0.05478120222687721,
      0.026152240112423897,
      -0.012054859660565853,
      -0.06814546883106232,
      -0.11075543612241745,
      -0.07337761670351028,
      0.046165987849235535,
      -0.02659422717988491,
      -0.027407320216298103,
      -0.04411212354898453,
      0.0019953548908233643,
      0.02890339121222496,
      -0.055483005940914154,
      -0.051525745540857315,
      0.0028987922705709934,
      -0.03601817041635513,
      0.014017882756888866,
      -0.010750019922852516,
      -0.07097461819648743,
      -0.005888634826987982,
      -0.06879682093858719,
      -0.011064782738685608,
      0.0030666475649923086,
      -0.04415066912770271,
      0.01222782302647829,
      0.058504100888967514,
      0.07152923941612244,
      0.0012171617709100246,
      -0.022003963589668274,
      -0.05788350850343704,
      0.028477415442466736,
      0.0077248564921319485,
      0.058964211493730545,
      -0.08555519580841064,
      0.009379711002111435,
      -0.11341425776481628,
      0.04118770733475685,
      0.02051038108766079,
      0.03167428821325302,
      -0.061763182282447815,
      -0.04120825603604317,
      -0.016171231865882874,
      0.043016549199819565,
      0.06337741017341614,
      -0.11194256693124771,
      0.07734644412994385,
      0.0634782686829567,
      0.0768333449959755,
      0.0889577567577362,
      0.003950863610953093,
      -0.02055376023054123,
      0.024020206183195114,
      -0.03746570274233818,
      0.005716114304959774,
      -0.02119803987443447,
      0.12254726141691208,
      -4.302343222661875e-05,
      -0.0640096366405487,
      0.011521288193762302,
      -0.006144064478576183,
      -0.07660646736621857,
      -0.0628921315073967,
      0.0742119625210762,
      0.006818748079240322,
      -0.07629372924566269,
      0.002744069090113044,
      -0.08240244537591934,
      0.021340275183320045,
      0.05043040215969086,
      0.049268171191215515,
      0.02138243056833744,
      0.04982650279998779,
      -0.05924681946635246,
      -0.024836111813783646,
      -0.01566270925104618,
      -0.07955522835254669,
      -0.055661890655756,
      0.01778971031308174,
      -0.004205829929560423,
      0.11741335690021515,
      0.030930854380130768,
      0.010992424562573433,
      0.09619475156068802,
      0.02797652967274189,
      -0.02966228872537613,
      -0.10271326452493668,
      0.05953711271286011,
      0.0599977932870388,
      -0.04736087843775749,
      0.06680630147457123,
      3.9685479069027385e-33,
      -0.0006035848055034876,
      0.06388604640960693,
      0.07863183319568634,
      -0.03679760918021202,
      0.0058006769977509975,
      0.09779747575521469,
      -0.04281657934188843,
      0.032130997627973557,
      0.022165827453136444,
      -0.02590569108724594,
      0.061858050525188446,
      -0.08534836769104004,
      0.02422339841723442,
      0.01842193864285946,
      0.04281984269618988,
      0.009917942807078362,
      -0.024490097537636757,
      -0.0634114071726799,
      0.033984310925006866,
      -0.012607814744114876,
      -0.001411721226759255,
      0.007924356497824192,
      0.02888890728354454,
      0.038158729672431946,
      -0.06892002373933792,
      -0.00764860725030303,
      -0.0453205443918705,
      -0.03140956908464432,
      0.04670104384422302,
      0.002319545019418001,
      -0.1020062267780304,
      -0.05007471516728401,
      -0.06910697370767593,
      0.0816410705447197,
      -0.039334896951913834,
      0.04618004709482193,
      0.010960659943521023,
      0.0006129058892838657,
      -0.06854266673326492,
      0.0020235117990523577,
      -0.01786547526717186,
      -0.004054727964103222,
      0.01767045073211193,
      0.04959111660718918,
      -0.02520688995718956,
      0.0004080759536009282,
      -0.030268481001257896,
      0.0162971168756485,
      -0.030528610572218895,
      -0.009398388676345348,
      -0.013791186735033989,
      0.0883217602968216,
      0.007284070830792189,
      -0.04892208054661751,
      -0.05638034641742706,
      -0.0392756387591362,
      0.00521179661154747,
      -0.0686568170785904,
      0.011700054630637169,
      -0.0027426499873399734,
      0.006107573863118887,
      0.013277322053909302,
      0.11042946577072144,
      -0.013646251522004604,
      0.031778786331415176,
      -0.1766522079706192,
      0.055137015879154205,
      0.045744165778160095,
      -0.03533647581934929,
      0.0044770678505301476,
      -0.050436604768037796,
      0.019235525280237198,
      0.010026381351053715,
      -0.00951855257153511,
      -0.1863211691379547,
      -0.051800988614559174,
      -0.03653629124164581,
      0.008788354694843292,
      0.054778773337602615,
      0.03396196290850639,
      0.04451128840446472,
      -0.10394083708524704,
      0.0015481011942029,
      -0.03342572972178459,
      -0.03597719967365265,
      -0.025752531364560127,
      0.03940899297595024,
      0.008334019221365452,
      0.03012814000248909,
      -0.0031767224427312613,
      0.05778700113296509,
      -0.04619848355650902,
      -0.05282330513000488,
      -0.04594165086746216,
      -0.034684956073760986,
      -6.98853211677737e-33,
      0.06850644946098328,
      -0.02258177660405636,
      -0.08623499423265457,
      0.033415451645851135,
      0.014094576239585876,
      -0.10243427753448486,
      0.0009882295271381736,
      0.1212167963385582,
      0.03442563861608505,
      -0.059329163283109665,
      -0.02554936334490776,
      -0.004327460192143917,
      0.05453380197286606,
      -0.03807124122977257,
      0.018051663413643837,
      0.044723715633153915,
      -0.017005542293190956,
      0.07643583416938782,
      -0.04023497551679611,
      -0.02962222509086132,
      -0.039406176656484604,
      0.05151693522930145,
      -0.024665281176567078,
      0.0481116957962513,
      -0.07573448121547699,
      -0.005503388587385416,
      0.026346292346715927,
      -0.045316923409700394,
      0.0356631837785244,
      0.07302659749984741,
      -0.0859982892870903,
      0.0824652910232544,
      -0.02108914405107498,
      -0.007114083971828222,
      -0.03550904989242554,
      -0.025899197906255722,
      -0.011104777455329895,
      0.014105424284934998,
      0.053911320865154266,
      0.04474565386772156,
      0.11550411581993103,
      0.06562469899654388,
      -0.008879742585122585,
      0.02537621557712555,
      0.008851449936628342,
      0.029558254405856133,
      -0.07452081143856049,
      -0.05665513500571251,
      0.03247185796499252,
      0.024655770510435104,
      -0.035741135478019714,
      -0.02359848842024803,
      -0.01632339507341385,
      -0.05375978350639343,
      -0.025419414043426514,
      -0.058493342250585556,
      -0.010156290605664253,
      -0.024341214448213577,
      -0.04670053347945213,
      0.0026786145754158497,
      -0.08534175902605057,
      0.05346917733550072,
      -0.007452399004250765,
      -0.004815977066755295,
      0.012706691399216652,
      -0.09894219785928726,
      -0.041099708527326584,
      0.08128311485052109,
      -0.0003432416415307671,
      -0.15632525086402893,
      0.0338524729013443,
      -0.04556034132838249,
      -0.019091656431555748,
      -0.00857421476393938,
      -0.008420659229159355,
      -0.02081001177430153,
      0.012797155417501926,
      -0.057413797825574875,
      -0.02807721681892872,
      0.05187367647886276,
      0.03521978482604027,
      -0.038440871983766556,
      0.006888114847242832,
      0.062226083129644394,
      -0.07298464328050613,
      -0.11557400226593018,
      -0.051794685423374176,
      0.07841943204402924,
      -0.048782676458358765,
      -0.03914540261030197,
      0.06145397573709488,
      0.05788261443376541,
      0.010251141153275967,
      0.006718209944665432,
      -0.0050409403629601,
      -4.607255021937817e-08,
      0.0026021446101367474,
      -0.009811879135668278,
      -0.028374888002872467,
      0.06680230796337128,
      -0.020610883831977844,
      0.04021671786904335,
      -0.04809847101569176,
      -0.025342481210827827,
      0.02211887203156948,
      -0.0037808711640536785,
      -0.0019160397350788116,
      0.007535319775342941,
      0.006333698984235525,
      -0.06712697446346283,
      -0.05533621832728386,
      0.04602019861340523,
      -0.07789603620767593,
      0.08320323377847672,
      0.003715935628861189,
      -0.0630018413066864,
      0.0005415608757175505,
      0.002928995294496417,
      -0.04727194085717201,
      0.00961895938962698,
      0.014987052418291569,
      0.1255139410495758,
      -0.0634947344660759,
      0.02695522829890251,
      -0.09264674782752991,
      0.0048853326588869095,
      0.04778812825679779,
      -0.03849934786558151,
      -0.040994420647621155,
      0.026604801416397095,
      -0.008322782814502716,
      0.04550263285636902,
      -0.04392366111278534,
      -0.031474750488996506,
      -0.023377254605293274,
      0.06167719140648842,
      -0.020566973835229874,
      -0.022170402109622955,
      -0.062022287398576736,
      -0.0012790277833119035,
      -0.050408732146024704,
      -0.020678391680121422,
      0.01994006521999836,
      -0.024422883987426758,
      0.0010432510171085596,
      -0.053842756897211075,
      0.05319038778543472,
      -0.0016848553204908967,
      -0.020896319299936295,
      0.004786078818142414,
      0.018397262319922447,
      -0.025390543043613434,
      0.11208251118659973,
      0.09232189506292343,
      -0.07103981077671051,
      -0.027836069464683533,
      0.09600648283958435,
      0.07329261302947998,
      0.07345381379127502,
      -7.369912054855376e-05
    ]
  },
  {
    "id": "utils.py_normalize_session_name",
    "filename": "utils.py",
    "function_name": "normalize_session_name",
    "text": "## Function: normalize_session_name (utils.py)\n\n```python\ndef normalize_session_name(name: str) -> str:\n    \"\"\"\n    Sanitize user-provided session name:\n    - Trim whitespace\n    - Allow only letters, numbers, spaces, dashes, and underscores\n    - Truncate to 60 characters\n    - Escape HTML for safety in prompts/UI\n    \"\"\"\n    if not isinstance(name, str):\n        return \"\"\n    name = name.strip()\n    name = re.sub(r\"[^\\w\\s\\-]\", \"\", name)  # Keep alphanumeric, space, dash, underscore\n    name = name[:60]\n    return html.escape(name)\n```\n",
    "embedding": [
      -0.01994055137038231,
      0.11180035024881363,
      -0.03833117336034775,
      0.0010924632661044598,
      -0.06914151459932327,
      -0.06983404606580734,
      0.09964487701654434,
      0.045657575130462646,
      -0.026564452797174454,
      -0.01388970110565424,
      -0.03944127634167671,
      0.0113991042599082,
      0.049209561198949814,
      0.041131388396024704,
      0.014793453738093376,
      -0.023288734257221222,
      -0.04460802301764488,
      0.08361440151929855,
      -0.03294407203793526,
      -0.030994435772299767,
      0.031877536326646805,
      0.08837129920721054,
      0.01102500967681408,
      0.02294328436255455,
      0.029564594849944115,
      -0.005760247353464365,
      -0.03133701533079147,
      0.02877070941030979,
      -0.008141479454934597,
      -0.015877394005656242,
      0.04436035826802254,
      -0.0028233975172042847,
      0.11489851027727127,
      0.006727518513798714,
      0.07584790885448456,
      0.024235645309090614,
      -0.08373000472784042,
      -0.0005088667967356741,
      0.11083916574716568,
      -0.023593099787831306,
      -0.052334100008010864,
      -0.07791097462177277,
      -0.07308915257453918,
      0.050415895879268646,
      -0.09288544207811356,
      -0.03413679450750351,
      -0.04146590828895569,
      -0.042289894074201584,
      0.03375503048300743,
      -0.02252875454723835,
      -0.019161254167556763,
      0.02992469072341919,
      -0.01365947350859642,
      0.01634245552122593,
      -0.10507934540510178,
      -0.029642701148986816,
      -0.008452825248241425,
      -0.021285530179739,
      -0.037716593593358994,
      0.0063948919996619225,
      -0.1283395141363144,
      0.009477633982896805,
      0.027315925806760788,
      -0.0022769502829760313,
      -0.03298434615135193,
      0.02663794346153736,
      -0.03194223716855049,
      0.02447183057665825,
      0.04480541869997978,
      0.08449850976467133,
      -0.08099997788667679,
      -0.0043152133002877235,
      -0.042560551315546036,
      -0.03838898614048958,
      -0.024059990420937538,
      -0.040973857045173645,
      -0.03954407572746277,
      0.05938374251127243,
      -0.07793466746807098,
      0.04294246807694435,
      0.04077007248997688,
      -0.04026961699128151,
      0.028752880170941353,
      0.04073707014322281,
      0.028816282749176025,
      0.04531038925051689,
      -0.07199843227863312,
      0.005565243307501078,
      0.0030094694811850786,
      -0.035219330340623856,
      -0.08443130552768707,
      -0.07051683962345123,
      0.06283926218748093,
      -0.03351730853319168,
      -0.09051037579774857,
      0.023284772410988808,
      0.04532633721828461,
      0.03154679015278816,
      -0.033397939056158066,
      0.0827060267329216,
      -0.006360729690641165,
      -0.04141056165099144,
      0.01040529552847147,
      -0.009030207060277462,
      -0.024454761296510696,
      0.0312240831553936,
      0.03172624856233597,
      -0.028964992612600327,
      0.08727438747882843,
      -0.030125057324767113,
      -0.03236463665962219,
      -0.004630557727068663,
      -0.04070679470896721,
      -0.026791302487254143,
      0.06006671488285065,
      0.0023050911258906126,
      0.036992397159338,
      0.01600000448524952,
      0.07208073139190674,
      0.09196825325489044,
      0.08998716622591019,
      -0.023458076640963554,
      -0.04121658578515053,
      0.062333039939403534,
      0.03342236950993538,
      0.02142752893269062,
      0.10182622075080872,
      4.931713080477981e-33,
      -0.04840826243162155,
      0.04027574136853218,
      -0.009226989932358265,
      0.057530730962753296,
      0.019579630345106125,
      0.1278417855501175,
      -0.039565958082675934,
      -0.02462582290172577,
      -0.029635226354002953,
      -0.009280961938202381,
      0.037567634135484695,
      0.001386531861498952,
      0.07633823156356812,
      -0.020579462870955467,
      -0.052744895219802856,
      0.023925434798002243,
      -0.02330513671040535,
      0.05472392588853836,
      0.004148810636252165,
      -0.033935729414224625,
      0.004434602800756693,
      0.04575834050774574,
      0.046841032803058624,
      0.0491909421980381,
      -0.022682644426822662,
      -0.03340328857302666,
      -0.036848559975624084,
      0.005410029552876949,
      0.012831730768084526,
      -0.01567840576171875,
      -0.03370682895183563,
      -0.007437943946570158,
      0.01500655710697174,
      0.039724212139844894,
      0.027362745255231857,
      0.04468739405274391,
      0.02888086996972561,
      0.0061513278633356094,
      -0.05263793095946312,
      0.033407263457775116,
      -0.02851768024265766,
      0.060167159885168076,
      -0.01096292119473219,
      0.08015789091587067,
      -0.050101350992918015,
      -0.0012033020611852407,
      0.014011061750352383,
      0.0257166288793087,
      -0.04582895338535309,
      -0.021747808903455734,
      -0.08584097772836685,
      0.03857287019491196,
      0.004311530850827694,
      0.03963055461645126,
      -0.10427529364824295,
      -0.034906547516584396,
      0.024065732955932617,
      -0.00014162056322675198,
      -0.034232188016176224,
      -0.07644002139568329,
      0.012972353957593441,
      -0.006344162859022617,
      0.025057902559638023,
      -0.026066496968269348,
      0.010692745447158813,
      -0.08851716667413712,
      0.046991463750600815,
      0.08644744008779526,
      -0.046409886330366135,
      0.017058731988072395,
      -0.09952756017446518,
      0.017251288518309593,
      -0.005801904946565628,
      0.02770731970667839,
      -0.07072274386882782,
      -0.07170913368463516,
      0.058170419186353683,
      0.049694884568452835,
      -0.0002555967657826841,
      0.027059512212872505,
      0.04586777091026306,
      -0.0027284102980047464,
      -0.026294276118278503,
      0.03361058235168457,
      -0.04605638235807419,
      -0.09186737984418869,
      0.04307737201452255,
      -0.03166988492012024,
      -0.04419666528701782,
      -0.032336946576833725,
      0.017995836213231087,
      -0.05945657938718796,
      -0.049016471952199936,
      0.0196976438164711,
      -0.06946368515491486,
      -6.819445335935246e-33,
      0.07681416720151901,
      -0.0022515831515192986,
      -0.0424172505736351,
      0.054600849747657776,
      -0.03496745973825455,
      -0.0055727725848555565,
      0.09275566041469574,
      0.0840257778763771,
      -0.05435282737016678,
      -0.0910804495215416,
      0.04819900169968605,
      0.024400705471634865,
      0.02896708808839321,
      -0.05106157436966896,
      0.05489661544561386,
      0.08049150556325912,
      -0.03147805482149124,
      0.1252414733171463,
      -0.06957103312015533,
      -0.0233223307877779,
      0.012564638629555702,
      0.02026662975549698,
      -0.11125591397285461,
      0.01756766065955162,
      0.06706768274307251,
      -0.0766812190413475,
      -0.001114947022870183,
      -0.01580377109348774,
      0.04766411334276199,
      0.07282903790473938,
      -0.04180239513516426,
      0.09276740252971649,
      -0.04711230844259262,
      0.035424862056970596,
      -0.05307723581790924,
      -0.038741689175367355,
      -0.005189073272049427,
      0.05225711315870285,
      0.008166438899934292,
      0.033978331834077835,
      0.09591994434595108,
      0.04659290611743927,
      -0.030328691005706787,
      0.025281494483351707,
      0.0351843535900116,
      0.05615304037928581,
      -0.12628191709518433,
      -0.0076601398177444935,
      -0.05071664974093437,
      0.025115855038166046,
      -0.012827739119529724,
      -0.08777157217264175,
      -0.10815081745386124,
      -0.08633294701576233,
      -0.017817562445998192,
      -0.08481855690479279,
      -0.016381990164518356,
      -0.03451591730117798,
      -0.10073511302471161,
      -0.047263119369745255,
      -0.033351119607686996,
      -0.007259090896695852,
      -0.026834474876523018,
      0.05871601775288582,
      -0.045580971986055374,
      -0.1036313846707344,
      -0.06869372725486755,
      0.0507161021232605,
      0.005171961151063442,
      -0.08783770352602005,
      0.06511764228343964,
      -0.10065802931785583,
      -0.01993653178215027,
      0.05759062245488167,
      -0.03334309160709381,
      0.010037382133305073,
      0.03677758574485779,
      -0.06254862993955612,
      -0.054377228021621704,
      0.07223685085773468,
      -0.030220380052924156,
      0.00995829701423645,
      -0.007119365036487579,
      0.012056775391101837,
      -0.013960323296487331,
      0.0229328740388155,
      -0.02056547813117504,
      0.17238229513168335,
      -0.06173305585980415,
      -0.04456302523612976,
      0.040321722626686096,
      0.039722032845020294,
      0.010490508750081062,
      0.0479748398065567,
      0.014479958452284336,
      -4.733380265520282e-08,
      0.013616422191262245,
      -0.0905252993106842,
      0.017930898815393448,
      0.060280632227659225,
      -0.032659776508808136,
      0.06792238354682922,
      -0.04810523986816406,
      -0.04297849163413048,
      0.005652362015098333,
      0.018720580264925957,
      0.00021076416305731982,
      -0.03085407428443432,
      -0.02107582613825798,
      -0.04052312672138214,
      -0.08735591173171997,
      0.10364130884408951,
      -0.034474246203899384,
      0.1629430055618286,
      0.003603314748033881,
      -0.0032827232498675585,
      -0.039748772978782654,
      -0.013986814767122269,
      -0.008947224356234074,
      -0.023145385086536407,
      0.039383407682180405,
      0.009114205837249756,
      -0.06473679095506668,
      0.06677806377410889,
      -0.0708770751953125,
      -0.04728066548705101,
      0.024177826941013336,
      0.00661280145868659,
      -0.005739207845181227,
      -0.0027490274515002966,
      -0.024882832542061806,
      0.005612943321466446,
      -0.05512186139822006,
      -0.032270368188619614,
      -0.015286835841834545,
      0.08383680880069733,
      -0.021105654537677765,
      -0.03440713509917259,
      -0.058372028172016144,
      0.0022700373083353043,
      -0.027157053351402283,
      0.04740780591964722,
      0.005033130757510662,
      0.011267232708632946,
      0.028334494680166245,
      -0.050548944622278214,
      0.1247304230928421,
      0.025366047397255898,
      0.00251699797809124,
      -0.018189547583460808,
      0.01628565974533558,
      0.049447912722826004,
      0.06005518138408661,
      0.10082639008760452,
      -0.010272550396621227,
      -0.03760116174817085,
      0.0005871806060895324,
      0.06919071078300476,
      -0.0005621170275844634,
      -0.05454876273870468
    ]
  },
  {
    "id": "utils.py_safe_track_name",
    "filename": "utils.py",
    "function_name": "safe_track_name",
    "text": "## Function: safe_track_name (utils.py)\n\n```python\ndef safe_track_name(name, fallback_filename):\n    name = name.strip() if name else \"\"\n    return name if name and name.lower() != \"string\" else os.path.splitext(fallback_filename)[0]\n```\n",
    "embedding": [
      -0.04836118966341019,
      0.031540289521217346,
      -0.01860722154378891,
      0.02516692504286766,
      0.09480831772089005,
      -0.04519838094711304,
      0.07937782257795334,
      0.0808640792965889,
      -0.03392588719725609,
      -0.08265747129917145,
      0.013585393317043781,
      -0.01186743751168251,
      0.051100149750709534,
      -0.027152780443429947,
      -0.059846699237823486,
      -0.016744164749979973,
      -0.08054407685995102,
      0.09263966977596283,
      -0.04264679178595543,
      -0.07772655785083771,
      0.021521907299757004,
      0.03897915780544281,
      0.059757012873888016,
      0.07730040699243546,
      -0.0064234016463160515,
      -0.014705692417919636,
      -0.03316163644194603,
      0.018890654668211937,
      -0.08391327410936356,
      -0.034821707755327225,
      0.06260117888450623,
      -0.02712252177298069,
      -0.001338541624136269,
      0.009357770904898643,
      0.12016747146844864,
      -0.016501901671290398,
      -0.10242078453302383,
      0.019668910652399063,
      0.026220552623271942,
      0.004433923400938511,
      0.024761466309428215,
      -0.01600351184606552,
      0.01770954206585884,
      -0.04330633953213692,
      -0.044635508209466934,
      -0.007985812611877918,
      -0.017853276804089546,
      -0.01916666142642498,
      0.01643242873251438,
      0.04534165561199188,
      0.03993930667638779,
      -0.04826735705137253,
      -0.03690117597579956,
      0.012261081486940384,
      0.03452713042497635,
      -0.006328652147203684,
      -0.01343626156449318,
      0.030991625040769577,
      -0.08255372941493988,
      0.0650317445397377,
      0.037770092487335205,
      -0.02819587104022503,
      -0.06114068999886513,
      -0.04759994521737099,
      0.01215185783803463,
      0.0013225390575826168,
      -0.07461319863796234,
      0.037117909640073776,
      0.05288594961166382,
      0.0600227527320385,
      -0.013933355920016766,
      0.012060638517141342,
      0.002740213181823492,
      -0.0029050048906356096,
      0.0012723053805530071,
      -0.03465719893574715,
      -0.04223833978176117,
      0.08892450481653214,
      -0.08448023349046707,
      -0.004277903586626053,
      0.03271879628300667,
      -0.09624951332807541,
      -0.009878132492303848,
      0.002189508406445384,
      0.03332675248384476,
      0.012861118651926517,
      -0.03661545366048813,
      0.03024643287062645,
      0.012878332287073135,
      -0.07433252781629562,
      -0.08570953458547592,
      -0.07038196921348572,
      0.1332462877035141,
      -0.016732679679989815,
      0.008128565736114979,
      0.07399211078882217,
      0.000665689236484468,
      0.06448929756879807,
      0.017229193821549416,
      0.007998839020729065,
      -0.04582657292485237,
      -0.05774324759840965,
      0.04838079959154129,
      0.03779683634638786,
      0.08728425949811935,
      0.015054750256240368,
      0.04906729608774185,
      -0.048620931804180145,
      0.08674991875886917,
      0.0064329104498028755,
      -0.007969114929437637,
      0.01193712092936039,
      0.03400889411568642,
      0.03953985124826431,
      0.060820627957582474,
      -0.02452518232166767,
      -0.017590586096048355,
      0.046275973320007324,
      -0.023563742637634277,
      0.056426215916872025,
      0.0237676240503788,
      -0.04813697934150696,
      0.03967539593577385,
      -0.02940276823937893,
      -0.04010581597685814,
      -0.012007450684905052,
      0.08988887071609497,
      1.735175312910603e-33,
      -0.054948367178440094,
      -0.02012612484395504,
      0.06180387735366821,
      -0.0768132284283638,
      0.0779920294880867,
      -0.031362809240818024,
      -0.07363607734441757,
      -0.061450839042663574,
      -0.04761131852865219,
      0.055665742605924606,
      0.016677243635058403,
      -0.057158008217811584,
      0.007677354384213686,
      -0.033273980021476746,
      -0.03521290421485901,
      -0.039172880351543427,
      -0.00399535009637475,
      0.011621376499533653,
      -0.012411142699420452,
      0.00368041405454278,
      0.013772250153124332,
      0.020924242213368416,
      -0.04016057029366493,
      -0.0029723644256591797,
      0.0012981683248654008,
      -0.10070443898439407,
      -0.023258263245224953,
      -0.0684705451130867,
      0.07241859287023544,
      0.005041033495217562,
      -0.0885758101940155,
      -0.10682886838912964,
      0.07553672045469284,
      0.006449542474001646,
      0.01709924452006817,
      0.02290334552526474,
      -0.06793899089097977,
      -0.010983016341924667,
      -0.0840168297290802,
      0.0020090285688638687,
      0.031584154814481735,
      -0.03696693480014801,
      0.004017035011202097,
      0.01796920783817768,
      -0.04060814157128334,
      0.023003917187452316,
      -0.06799157708883286,
      0.03581388667225838,
      -0.01005595549941063,
      -0.03040129318833351,
      0.005154637154191732,
      0.01711628958582878,
      0.02990652434527874,
      -0.0009757970692589879,
      -0.08625870943069458,
      0.007487188093364239,
      -0.051540307700634,
      0.04745086282491684,
      -0.010732488706707954,
      -0.0788557305932045,
      0.0690307468175888,
      0.027756186202168465,
      -0.02534404583275318,
      -0.005531647242605686,
      0.023978903889656067,
      -0.035313431173563004,
      0.13593046367168427,
      0.013709905557334423,
      -0.009362921118736267,
      0.05450058728456497,
      -0.10027923434972763,
      -0.0515868216753006,
      -0.006589874159544706,
      -0.061971452087163925,
      0.10273090749979019,
      -0.024751268327236176,
      -0.025885416194796562,
      -0.01647467166185379,
      -0.008792975917458534,
      -0.058107394725084305,
      -0.0869578942656517,
      -0.06308649480342865,
      0.034954365342855453,
      -0.026571696624159813,
      -0.0029114126227796078,
      -0.017781153321266174,
      -0.003499720012769103,
      -0.029799165204167366,
      -0.04592087119817734,
      -0.044475898146629333,
      -0.016241157427430153,
      -0.04091301187872887,
      -0.0903603583574295,
      0.05053506791591644,
      0.0317685529589653,
      -2.3827378857053234e-33,
      0.10668836534023285,
      0.06385663151741028,
      0.10285024344921112,
      -0.030403833836317062,
      -0.060551486909389496,
      -0.00537771126255393,
      0.04932033270597458,
      0.060461584478616714,
      0.06152119114995003,
      0.04044434800744057,
      -0.06531275808811188,
      -0.03365624323487282,
      -0.01557682454586029,
      -0.03336254507303238,
      0.05104765295982361,
      0.012133943848311901,
      -0.028935234993696213,
      0.042520247399806976,
      -0.007991637103259563,
      -0.06931466609239578,
      -0.04665091261267662,
      -0.029495030641555786,
      -0.07800096273422241,
      0.057069189846515656,
      -0.03330543637275696,
      -0.022563878446817398,
      0.08896977454423904,
      -0.006561167072504759,
      0.03498731926083565,
      -0.010961763560771942,
      -0.07095291465520859,
      0.06040024384856224,
      -0.028668148443102837,
      0.0005025159334763885,
      -0.06692932546138763,
      -0.013519070111215115,
      -0.0015414119698107243,
      0.02592317946255207,
      0.008825790137052536,
      -0.007013266906142235,
      0.005669570527970791,
      0.15938284993171692,
      -0.026639163494110107,
      0.0013591139577329159,
      -0.013784497044980526,
      0.03749893978238106,
      0.007833816111087799,
      0.13107958436012268,
      0.012720468454062939,
      -0.04067419096827507,
      0.04095243290066719,
      -0.056674081832170486,
      -0.021896297112107277,
      0.010812363587319851,
      0.04964781552553177,
      0.005091594532132149,
      0.040522485971450806,
      -0.00047443495714105666,
      -0.13429704308509827,
      0.0022830297239124775,
      -0.04433047026395798,
      0.010236172936856747,
      -0.046412479132413864,
      0.01380598172545433,
      0.003123167436569929,
      0.029857419431209564,
      -0.13418307900428772,
      0.00820615142583847,
      -0.02220025658607483,
      -0.031438134610652924,
      0.03896075487136841,
      0.038244131952524185,
      -0.04245299845933914,
      0.006508695427328348,
      -0.02678900770843029,
      0.07167522609233856,
      -0.046734392642974854,
      -0.06633814424276352,
      -0.0638275071978569,
      0.05655289813876152,
      0.0342668779194355,
      0.00781957432627678,
      -0.028414126485586166,
      0.01474914699792862,
      -0.01873800717294216,
      -0.03541605919599533,
      -0.05244655907154083,
      0.08847454190254211,
      -0.021387604996562004,
      -0.053447920829057693,
      0.047432467341423035,
      0.05367108806967735,
      0.08826468139886856,
      -0.01628718711435795,
      -0.12718600034713745,
      -3.4640347479353295e-08,
      -0.010234777815639973,
      -0.007342893164604902,
      -0.013612055219709873,
      0.024604786187410355,
      0.036472905427217484,
      0.12565815448760986,
      0.008824609220027924,
      -0.019326232373714447,
      0.05764247849583626,
      0.0051908851601183414,
      0.038660552352666855,
      -0.074430450797081,
      -0.03317596763372421,
      0.04618898779153824,
      -0.07543415576219559,
      0.01740729622542858,
      0.02006596326828003,
      0.20597662031650543,
      -0.00471595861017704,
      0.09450104087591171,
      0.013640781864523888,
      -0.02866056002676487,
      -0.025639217346906662,
      -0.020659789443016052,
      0.03367691859602928,
      -0.014349824748933315,
      0.005670843180269003,
      0.049721114337444305,
      -0.04853026941418648,
      0.0361277274787426,
      0.04261745885014534,
      0.010424905456602573,
      -0.028964493423700333,
      0.07429150491952896,
      -0.03761095926165581,
      0.05812907963991165,
      0.06878527998924255,
      0.054442308843135834,
      0.0475568026304245,
      0.12104598432779312,
      -0.006778829265385866,
      0.046534545719623566,
      0.04778897389769554,
      -0.005692704580724239,
      -0.010241332463920116,
      -0.04502304643392563,
      0.03092021308839321,
      -0.04217858240008354,
      0.05717013031244278,
      -0.03336123004555702,
      -0.012231907807290554,
      -0.020719900727272034,
      0.05941226705908775,
      0.02935170568525791,
      -0.011838467791676521,
      -0.027935942634940147,
      0.03685488924384117,
      0.056604012846946716,
      -0.08058332651853561,
      -0.0006064677727408707,
      -0.06315372884273529,
      -0.03148646652698517,
      0.12797808647155762,
      0.09359356015920639
    ]
  },
  {
    "id": "utils.py_normalize_type",
    "filename": "utils.py",
    "function_name": "normalize_type",
    "text": "## Function: normalize_type (utils.py)\n\n```python\ndef normalize_type(input_str: str) -> str:\n    \"\"\"Sanitize and validate track type.\"\"\"\n    val = sanitize_input(input_str).lower()\n    return val if val in ALLOWED_TYPES else \"mixdown\"\n```\n",
    "embedding": [
      0.03273838013410568,
      0.03702565282583237,
      0.013778209686279297,
      0.03114219941198826,
      -0.02349061891436577,
      -0.03344816341996193,
      0.05081611126661301,
      -0.019123293459415436,
      -0.10669148713350296,
      -0.08851984888315201,
      -0.029843589290976524,
      0.022786347195506096,
      0.029663192108273506,
      0.06999867409467697,
      -0.04256746917963028,
      -0.012200894765555859,
      -0.03855555132031441,
      0.10107725113630295,
      -0.09823797643184662,
      -0.04740242287516594,
      0.012192439287900925,
      0.04152357578277588,
      -0.02304951287806034,
      0.10885559022426605,
      -0.07651615887880325,
      -0.03183520585298538,
      -0.02224746160209179,
      0.008145288564264774,
      0.0474647656083107,
      -0.021958688274025917,
      -0.04550753906369209,
      0.049638912081718445,
      0.07853065431118011,
      0.040161363780498505,
      0.018304986879229546,
      -0.019618969410657883,
      -0.06989973783493042,
      0.0060477782972157,
      0.08496537059545517,
      0.002177761634811759,
      0.011728312820196152,
      -0.07910574972629547,
      -0.03298424556851387,
      -0.03024781495332718,
      -0.08195822685956955,
      0.007865170016884804,
      -0.07197573035955429,
      -0.027747515588998795,
      0.018308641389012337,
      -0.06857320666313171,
      0.004988054279237986,
      0.03981754556298256,
      -0.07743176817893982,
      0.011059044860303402,
      -0.047234367579221725,
      -0.06844541430473328,
      0.014436060562729836,
      -0.010755094699561596,
      -0.007493822835385799,
      -0.0811920240521431,
      -0.0879426822066307,
      -0.008260799571871758,
      0.018856367096304893,
      -0.07156055420637131,
      -0.030214445665478706,
      0.041277527809143066,
      0.0006707996362820268,
      0.0596061535179615,
      0.024230144917964935,
      0.08427021652460098,
      0.01079657580703497,
      0.035081565380096436,
      -0.011226974427700043,
      -0.004747905768454075,
      0.027004769071936607,
      0.01814557984471321,
      -0.03307484835386276,
      -0.0055236308835446835,
      -0.051555365324020386,
      0.03586042299866676,
      -0.023893339559435844,
      -0.046548862010240555,
      0.008882109075784683,
      0.03981780260801315,
      0.08827979117631912,
      0.03485622629523277,
      -0.10444393008947372,
      0.020484330132603645,
      0.06466276943683624,
      0.023538662120699883,
      -0.07537747919559479,
      0.046622663736343384,
      0.07813037931919098,
      -0.03723963350057602,
      0.01918996497988701,
      0.012009511701762676,
      0.009337027557194233,
      -0.01760951057076454,
      0.042267099022865295,
      0.052889514714479446,
      -0.05440593883395195,
      -0.022454269230365753,
      0.04432668536901474,
      -0.043678607791662216,
      0.057624951004981995,
      0.04139602184295654,
      0.06993281096220016,
      -0.07411439716815948,
      0.03280285745859146,
      -0.05640574172139168,
      0.003331391606479883,
      -0.050326958298683167,
      -0.006169017869979143,
      -0.03220779448747635,
      0.02875734306871891,
      0.10166899114847183,
      0.04776192829012871,
      0.041090227663517,
      -0.026914728805422783,
      0.019872870296239853,
      0.031025392934679985,
      -0.024553682655096054,
      0.002143234247341752,
      0.003984436858445406,
      0.02377420850098133,
      -0.001527536427602172,
      0.03798818588256836,
      3.7784895721579755e-33,
      -0.08049342036247253,
      0.008438591845333576,
      0.00770744401961565,
      -0.029913121834397316,
      -0.017207631841301918,
      0.11836593598127365,
      -0.12165819853544235,
      -0.04451940581202507,
      -0.023750951513648033,
      -0.029555540531873703,
      0.048509206622838974,
      0.01496897917240858,
      -0.10650137066841125,
      0.017270654439926147,
      0.05687627196311951,
      0.003978542983531952,
      0.03037487342953682,
      0.013465971685945988,
      -0.05193096771836281,
      -0.05586410313844681,
      0.08563727885484695,
      0.052269261330366135,
      -0.08463060110807419,
      0.006838106084614992,
      -0.044241514056921005,
      -0.0733502134680748,
      -0.041145242750644684,
      -0.022303108125925064,
      0.023242676630616188,
      -0.03223690390586853,
      -0.0725758820772171,
      -0.0910598486661911,
      0.008347970433533192,
      0.04112182557582855,
      0.001866666367277503,
      0.07392384111881256,
      -0.03244227543473244,
      0.06906508654356003,
      0.054412927478551865,
      -0.014612958766520023,
      0.027721645310521126,
      0.03490953892469406,
      0.008523943834006786,
      0.033934030681848526,
      0.027143873274326324,
      0.06693488359451294,
      -0.041490085422992706,
      0.07345759868621826,
      -0.04144623503088951,
      -0.012167545966804028,
      -0.000317688740324229,
      0.017281001433730125,
      0.007146305404603481,
      -0.01695930026471615,
      -0.025709163397550583,
      -0.001818423392251134,
      0.09034790843725204,
      0.059783000499010086,
      0.032873596996068954,
      -0.05156975984573364,
      0.06080526113510132,
      -0.00209115375764668,
      0.04548202455043793,
      -0.006426696199923754,
      -0.00010232161002932116,
      -0.005322484765201807,
      0.004791376646608114,
      0.02548672817647457,
      -0.012192525900900364,
      0.003366730408743024,
      -0.04869071766734123,
      0.05765889585018158,
      -0.1072370633482933,
      0.07949024438858032,
      -0.08475998044013977,
      -0.08053938299417496,
      -0.011313746683299541,
      -0.013844700530171394,
      0.018136652186512947,
      -0.07053061574697495,
      -0.02961120940744877,
      0.026661602780222893,
      -0.0158319603651762,
      0.07915297150611877,
      -0.04629569128155708,
      -0.05560024827718735,
      -0.023848766461014748,
      0.026624910533428192,
      0.027681265026330948,
      -0.012838945724070072,
      -0.061815086752176285,
      -0.04780515283346176,
      -0.027140112593770027,
      -0.04440693184733391,
      -0.03063029609620571,
      -5.274428091118234e-33,
      0.007500797510147095,
      0.0704478845000267,
      -0.000518453074619174,
      0.0935697853565216,
      -0.07614710181951523,
      -0.018748167902231216,
      0.06351621448993683,
      0.06896572560071945,
      0.07586760818958282,
      0.020577801391482353,
      0.0728304386138916,
      -0.032600633800029755,
      0.07191667705774307,
      -0.13866564631462097,
      -0.032943595200777054,
      0.02793617732822895,
      -0.10222550481557846,
      0.17102277278900146,
      0.015132613480091095,
      -0.009562486782670021,
      -0.0339328795671463,
      -0.03667173534631729,
      -0.018591325730085373,
      0.10019545257091522,
      -0.01769295334815979,
      0.014958360232412815,
      -0.02522178925573826,
      0.056535959243774414,
      0.0449395626783371,
      0.031403787434101105,
      -0.10132234543561935,
      0.07402608543634415,
      -0.03196132555603981,
      0.01242889929562807,
      -0.06543412059545517,
      -0.09094836562871933,
      -0.008656034246087074,
      0.04283304139971733,
      0.040335603058338165,
      -0.0009143142378889024,
      0.04936366155743599,
      0.091466523706913,
      -0.05843615531921387,
      0.06730710715055466,
      -0.005986211355775595,
      0.009758714586496353,
      -0.019869279116392136,
      -0.027252744883298874,
      0.0364605076611042,
      -0.10948514938354492,
      -0.020579727366566658,
      0.005067210178822279,
      -0.029613226652145386,
      -0.00716839823871851,
      -0.052132342010736465,
      0.03543506935238838,
      0.07168219238519669,
      -0.02919594570994377,
      -0.105927474796772,
      0.03266984224319458,
      -0.0639057457447052,
      -0.0198652483522892,
      -0.052272502332925797,
      0.0018187346868216991,
      -0.02098541148006916,
      -0.10335908085107803,
      -0.02386196330189705,
      -0.03999979421496391,
      -0.03146759048104286,
      -0.037229832261800766,
      0.12657448649406433,
      0.02774006687104702,
      0.03861904889345169,
      0.016071155667304993,
      -0.08981955796480179,
      -0.09083405882120132,
      0.025830760598182678,
      0.013702291995286942,
      0.018679702654480934,
      0.028646351769566536,
      -0.014161795377731323,
      -0.02698352187871933,
      0.06853141635656357,
      0.01942669227719307,
      -0.04844227433204651,
      0.09132051467895508,
      -0.05646303668618202,
      0.02876352146267891,
      -0.01658753678202629,
      0.03050430864095688,
      0.010691031813621521,
      -0.01797430031001568,
      -0.019915731623768806,
      0.006798955146223307,
      -0.06906462460756302,
      -3.94947754500663e-08,
      0.0042526512406766415,
      -0.08505502343177795,
      -0.048248324543237686,
      -0.01798783615231514,
      -0.029608896002173424,
      0.02129736915230751,
      -0.0639040395617485,
      -0.042250800877809525,
      0.062254391610622406,
      -0.018448464572429657,
      -0.06324724853038788,
      -0.003880976466462016,
      -0.08743515610694885,
      -0.0647672489285469,
      -0.0028970560524612665,
      0.09356609731912613,
      -0.0266269538551569,
      0.11166264116764069,
      -0.023794302716851234,
      0.01716780476272106,
      0.029476018622517586,
      -0.03643592447042465,
      -0.023822708055377007,
      0.015181180089712143,
      -0.0052414522506296635,
      -0.007699326612055302,
      -0.049583740532398224,
      0.0650290995836258,
      0.04175511747598648,
      -0.007234507706016302,
      0.0879070907831192,
      0.01770254224538803,
      0.00509221525862813,
      -0.01909419521689415,
      -0.005499906837940216,
      0.04164081811904907,
      0.013185720890760422,
      0.03221314027905464,
      -0.01232202723622322,
      0.09757950901985168,
      -0.02951587736606598,
      -0.009469875134527683,
      -0.11615613102912903,
      -0.052994661033153534,
      -0.0018517296994104981,
      -0.047834813594818115,
      0.05121295154094696,
      -0.016827279701828957,
      0.01740650273859501,
      0.04279177263379097,
      0.10993652045726776,
      0.06174694746732712,
      0.0347551554441452,
      -0.006115269381552935,
      -0.020409265533089638,
      0.03530262038111687,
      0.0055982805788517,
      0.08326370269060135,
      -0.07899913936853409,
      -0.027254071086645126,
      0.03642549365758896,
      -0.0404263474047184,
      0.13075318932533264,
      0.013518037274479866
    ]
  },
  {
    "id": "utils.py_normalize_profile",
    "filename": "utils.py",
    "function_name": "normalize_profile",
    "text": "## Function: normalize_profile (utils.py)\n\n```python\ndef normalize_profile(input_str: str) -> str:\n    \"\"\"Sanitize and validate feedback profile.\"\"\"\n    val = sanitize_input(input_str).lower()\n    return val if val in ALLOWED_PROFILES else \"simple\"\n```\n",
    "embedding": [
      0.0473068468272686,
      0.07172449678182602,
      -0.06323997676372528,
      0.023619579151272774,
      -0.03382955119013786,
      -0.008579120971262455,
      0.031826164573431015,
      0.06215694546699524,
      -0.161744624376297,
      -0.10617216676473618,
      0.0034105388913303614,
      -0.034070804715156555,
      0.1392834186553955,
      0.05356500297784805,
      -0.03628206253051758,
      -0.035704635083675385,
      -0.024844853207468987,
      0.08502770960330963,
      -0.05402535945177078,
      -0.10023240745067596,
      -0.01442298386245966,
      0.03806685283780098,
      0.023526158183813095,
      0.007550681941211224,
      -0.06794904172420502,
      -0.03928067907691002,
      -0.02709479257464409,
      0.01642616279423237,
      0.011099396273493767,
      -0.023353692144155502,
      0.03773617744445801,
      0.011389055289328098,
      0.042664527893066406,
      -0.009344588965177536,
      0.05074187368154526,
      0.0002882610133383423,
      -0.051401399075984955,
      -0.021814584732055664,
      0.03206263855099678,
      -0.02416745200753212,
      -0.02626938559114933,
      -0.10065983235836029,
      -0.10270152986049652,
      0.02647266536951065,
      -0.09102241694927216,
      -0.008057869970798492,
      -0.044331926852464676,
      -0.04121249541640282,
      -0.02826710045337677,
      -0.05811668559908867,
      -0.02535124309360981,
      0.010807180777192116,
      -0.04720810055732727,
      -0.007768423296511173,
      0.02064952626824379,
      -0.01715443655848503,
      0.07132035493850708,
      -0.007152781821787357,
      -0.011985347606241703,
      -0.07866464555263519,
      -0.09621946513652802,
      -0.03800809010863304,
      0.008222903124988079,
      -0.02170710451900959,
      -0.04925196245312691,
      0.0484791174530983,
      -0.03003946878015995,
      0.006217306014150381,
      -0.02035246416926384,
      0.08179988712072372,
      -0.05212097987532616,
      0.003601528238505125,
      -0.020658748224377632,
      -0.024560973048210144,
      0.07809899002313614,
      -0.009536679834127426,
      -0.09720262140035629,
      0.04209424555301666,
      -0.028152797371149063,
      0.035076119005680084,
      0.020499389618635178,
      -0.06544870883226395,
      0.008033460937440395,
      0.04204092547297478,
      0.06307818740606308,
      0.00666443444788456,
      -0.06885191798210144,
      -0.06017335131764412,
      0.07655642181634903,
      0.05673512816429138,
      -0.0014064303832128644,
      0.02800479345023632,
      0.08567477762699127,
      -0.015978695824742317,
      -0.07008500397205353,
      -0.02728031389415264,
      -0.013763549737632275,
      -0.05568942427635193,
      -0.010190674103796482,
      0.04523065313696861,
      -0.0992579460144043,
      -0.0858786404132843,
      0.07154187560081482,
      0.05599983409047127,
      0.08116573840379715,
      0.0770178958773613,
      0.02455047145485878,
      -0.053300514817237854,
      0.003264151979237795,
      -0.052735455334186554,
      -0.026534775272011757,
      -0.03943796828389168,
      -0.014460833743214607,
      0.02405404858291149,
      0.10723790526390076,
      0.04897915944457054,
      0.1073155552148819,
      0.02134757861495018,
      -0.03077983669936657,
      0.04622437432408333,
      0.09824240207672119,
      -0.012665120884776115,
      -0.004848398733884096,
      0.013280075043439865,
      -0.019716685637831688,
      -0.017509719356894493,
      0.009451892226934433,
      2.570026278214969e-33,
      0.0012151832925155759,
      0.04916146770119667,
      -0.01870541274547577,
      0.00200071488507092,
      -0.08924713730812073,
      0.08186572790145874,
      -0.06463731080293655,
      -0.016173014417290688,
      0.0007010422996245325,
      -0.05191615968942642,
      0.07140584290027618,
      -0.006607789546251297,
      -0.03418562188744545,
      0.09261644631624222,
      0.01394848246127367,
      0.036028023809194565,
      0.10412126034498215,
      0.0532367043197155,
      -0.037300534546375275,
      -0.044967200607061386,
      0.06231781095266342,
      0.007377481088042259,
      -0.06060777232050896,
      -0.007439900189638138,
      -0.018504610285162926,
      -0.04864943027496338,
      0.014137525111436844,
      -0.03159167245030403,
      -0.017230501398444176,
      -0.027904087677598,
      -0.04646322503685951,
      -0.05518852546811104,
      0.03969221189618111,
      0.08610668778419495,
      0.012512286193668842,
      0.041099853813648224,
      0.05504133924841881,
      0.0575920008122921,
      0.010737014934420586,
      -0.03273174911737442,
      0.011999771930277348,
      0.030238505452871323,
      0.03146756812930107,
      0.05165133252739906,
      -0.0424329899251461,
      0.055621057748794556,
      -0.024810735136270523,
      -0.0053657894022762775,
      -0.03899874910712242,
      -0.010452036745846272,
      0.025908712297677994,
      0.014401216991245747,
      -0.016500771045684814,
      0.013066263869404793,
      -0.05658518150448799,
      -0.02315952256321907,
      0.018750611692667007,
      0.02074897289276123,
      0.0009598515462130308,
      -0.05837645009160042,
      0.04890147224068642,
      0.004256309475749731,
      -0.01001022756099701,
      -0.04708058387041092,
      -0.012234470807015896,
      -0.04663672670722008,
      -0.0055594490841031075,
      -0.013080691918730736,
      0.007602115161716938,
      0.0007628016755916178,
      -0.12160003185272217,
      0.06558381021022797,
      -0.03159612417221069,
      -0.01943855918943882,
      -0.12244489043951035,
      -0.08206596970558167,
      -0.005366291385143995,
      0.0034559459891170263,
      -0.0696219801902771,
      -0.016055738553404808,
      0.04722249135375023,
      0.08688359707593918,
      -0.08906632661819458,
      0.03341149538755417,
      -0.01439711730927229,
      -0.08622435480356216,
      0.029499957337975502,
      0.039176639169454575,
      -0.052457209676504135,
      -0.01876913383603096,
      0.008976767770946026,
      -0.06292421370744705,
      -0.016100574284791946,
      0.011076987721025944,
      -0.08134345710277557,
      -4.450935156307696e-33,
      0.05602507293224335,
      -0.02204710990190506,
      0.0033387052826583385,
      0.06229190528392792,
      -0.028413547202944756,
      -0.04123814031481743,
      0.0865461677312851,
      0.10641032457351685,
      0.03326822444796562,
      -0.033339567482471466,
      -0.009242571890354156,
      -0.01865178346633911,
      0.0642942562699318,
      -0.08551210910081863,
      0.05140196904540062,
      0.05044934153556824,
      -0.12455056607723236,
      0.133041650056839,
      0.011674275621771812,
      -0.010635558515787125,
      0.022436410188674927,
      0.007972104474902153,
      -0.08348844200372696,
      0.0716901645064354,
      -0.042591243982315063,
      0.0007306992774829268,
      -0.027994561940431595,
      -0.0047182925045490265,
      0.012077718041837215,
      0.0661843866109848,
      -0.07896938920021057,
      0.08404962718486786,
      -0.06131882220506668,
      0.01217716932296753,
      -0.037992533296346664,
      -0.03923444449901581,
      -0.08216647058725357,
      -0.004110018722712994,
      0.01012654323130846,
      0.03961590677499771,
      0.07100415974855423,
      0.12646690011024475,
      -0.04340582340955734,
      0.02290886826813221,
      0.05162680149078369,
      0.03603741526603699,
      0.025768283754587173,
      -0.10675066709518433,
      -0.0015373582718893886,
      -0.06938980519771576,
      0.01194554753601551,
      -0.003540442092344165,
      0.01335826888680458,
      0.03845779225230217,
      -0.05739554390311241,
      -0.00505466666072607,
      0.07783253490924835,
      -0.026894772425293922,
      0.00866447202861309,
      0.02858840860426426,
      0.007090190425515175,
      -0.00037094278377480805,
      -0.028753867372870445,
      0.016949834302067757,
      -0.03168082982301712,
      -0.07804515212774277,
      0.03140869364142418,
      0.004215151071548462,
      -0.0022320265416055918,
      -0.056765101850032806,
      0.08537814766168594,
      0.02895747870206833,
      0.031534235924482346,
      0.01331238355487585,
      -0.04779887571930885,
      -0.09886668622493744,
      -0.056308284401893616,
      -0.03285016492009163,
      -0.05755198374390602,
      0.0788210779428482,
      -0.013406571932137012,
      -0.003057702211663127,
      0.016723623499274254,
      0.00040105407242663205,
      -0.05017755553126335,
      0.020766284316778183,
      -0.010107389651238918,
      0.022184941917657852,
      -0.00843246653676033,
      -0.006922597531229258,
      0.025813831016421318,
      -0.01480592880398035,
      -0.05240384861826897,
      -0.0032724328339099884,
      -0.042870525270700455,
      -3.743573628867125e-08,
      -0.014643675647675991,
      -0.10576745867729187,
      -0.02303616888821125,
      0.07517656683921814,
      -0.020734461024403572,
      0.05374636501073837,
      -0.06088586896657944,
      -0.041644640266895294,
      0.0807175561785698,
      -0.015635661780834198,
      0.002118437783792615,
      -0.01398948859423399,
      -0.07271350920200348,
      -0.046376366168260574,
      -0.022291800007224083,
      0.08616374433040619,
      -0.04135119169950485,
      0.1450338214635849,
      0.019872315227985382,
      0.034041740000247955,
      0.015686307102441788,
      0.032624389976263046,
      -0.06479120254516602,
      0.005629201885312796,
      0.03566301241517067,
      -0.032136980444192886,
      -0.0342395044863224,
      0.04405241459608078,
      -0.02819996513426304,
      -0.016255736351013184,
      0.07371251285076141,
      -0.011455762200057507,
      0.03686759993433952,
      -0.03920537978410721,
      0.004768275190144777,
      0.014798728749155998,
      -0.04132498428225517,
      0.028902512043714523,
      -0.004813878331333399,
      0.1301610916852951,
      0.0353982113301754,
      0.012049800716340542,
      -0.07037849724292755,
      0.013050368055701256,
      -0.07121274620294571,
      0.006711793597787619,
      0.10385029762983322,
      -0.06454507261514664,
      0.0290991198271513,
      -0.009107924066483974,
      0.0933593362569809,
      0.02049161307513714,
      0.008839092217385769,
      -0.02581825666129589,
      -0.0536869540810585,
      0.03513573110103607,
      0.034352581948041916,
      0.09829174727201462,
      -0.07140446454286575,
      -0.008607979863882065,
      0.02045341767370701,
      0.06338273733854294,
      0.09414204210042953,
      -0.009745939634740353
    ]
  },
  {
    "id": "utils.py_normalize_genre",
    "filename": "utils.py",
    "function_name": "normalize_genre",
    "text": "## Function: normalize_genre (utils.py)\n\n```python\ndef normalize_genre(input_str: str) -> str:\n    \"\"\"Sanitize and validate genre.\"\"\"\n    val = sanitize_input(input_str).lower()\n    return val if val in ALLOWED_GENRES else \"electronic\"\n```\n",
    "embedding": [
      0.06959373503923416,
      0.04151713848114014,
      -0.02399170771241188,
      -0.026167642325162888,
      -0.01624063216149807,
      0.010676156729459763,
      0.06613153964281082,
      -0.058867037296295166,
      -0.040783077478408813,
      -0.06170986592769623,
      0.0020320669282227755,
      -0.003823434468358755,
      0.07264332473278046,
      0.03421284258365631,
      0.019201669842004776,
      -0.0031565066892653704,
      -0.007726465351879597,
      0.056935057044029236,
      -0.09193098545074463,
      -0.07069070637226105,
      0.05864197015762329,
      0.07169938832521439,
      0.028683530166745186,
      0.031892526894807816,
      -0.038287173956632614,
      -0.015108493156731129,
      0.0015640908386558294,
      0.0864773839712143,
      -0.014565437100827694,
      -0.03258626163005829,
      0.00016040685295592993,
      0.058115314692258835,
      0.07445204257965088,
      0.020903734490275383,
      0.04055347293615341,
      -0.028194565325975418,
      -0.1179732233285904,
      -0.02681858465075493,
      0.05523816496133804,
      0.01568063534796238,
      -0.017499255016446114,
      -0.10329711437225342,
      -0.04418681561946869,
      -0.04097846522927284,
      -0.06963606923818588,
      -0.0032394803129136562,
      -0.10243821889162064,
      -0.0232493057847023,
      0.03806910291314125,
      -0.0526641383767128,
      -0.005696629639714956,
      0.0026827198453247547,
      -0.04667827859520912,
      0.058817069977521896,
      -0.04053344205021858,
      -0.05988869071006775,
      0.02278864197432995,
      -0.019812975078821182,
      -0.00045094211236573756,
      -0.12177181243896484,
      -0.04548449441790581,
      -0.03143337741494179,
      0.03198998421430588,
      -0.03173883631825447,
      -0.03172862529754639,
      0.0212814100086689,
      0.021890342235565186,
      0.0724697932600975,
      -0.009367379359900951,
      0.08814529329538345,
      0.01720363460481167,
      0.02014758437871933,
      -0.01072035264223814,
      0.036299463361501694,
      0.05619437247514725,
      0.02329709380865097,
      -0.08006585389375687,
      -0.042831066995859146,
      -0.03594990074634552,
      -0.010499479249119759,
      0.009382364340126514,
      -0.05601826682686806,
      -0.010871600359678268,
      0.0201033316552639,
      0.06321169435977936,
      0.06452343612909317,
      -0.10553649812936783,
      0.024705061689019203,
      0.0032773420680314302,
      0.017746973782777786,
      -0.058053091168403625,
      -0.02802968956530094,
      0.0930604338645935,
      -0.029275350272655487,
      -0.03520708158612251,
      -0.016231050714850426,
      0.0020456851925700903,
      -0.052924443036317825,
      0.031310856342315674,
      0.014325263909995556,
      -0.03599432483315468,
      -0.05658877640962601,
      -0.010636996477842331,
      -0.07595069706439972,
      0.01466390024870634,
      -0.009996158070862293,
      0.10861664265394211,
      -0.025727687403559685,
      0.008246468380093575,
      -0.03014153055846691,
      -0.02086033672094345,
      0.005740032996982336,
      0.002831305144354701,
      -0.03602950647473335,
      0.05028018727898598,
      0.10450278222560883,
      0.11405514180660248,
      0.08849603682756424,
      0.03080999292433262,
      0.031099114567041397,
      0.008628174662590027,
      -0.0223280880600214,
      -0.03785554692149162,
      0.06453707814216614,
      0.020744934678077698,
      -0.011993358843028545,
      -0.013864071108400822,
      2.6692728989129102e-33,
      -0.0709187462925911,
      0.023796943947672844,
      0.015746811404824257,
      -0.037919845432043076,
      -0.01795029453933239,
      0.05664719641208649,
      -0.11048713326454163,
      0.0006253562751226127,
      -0.01909444108605385,
      -0.0030503515154123306,
      0.030363118276000023,
      0.07034064084291458,
      -0.0519818477332592,
      -0.043950848281383514,
      0.03195400536060333,
      -0.008624366484582424,
      0.036443669348955154,
      -0.009550493210554123,
      -0.005116203799843788,
      -0.07811760902404785,
      0.0244121216237545,
      0.021048178896307945,
      -0.024369141086935997,
      0.03444189950823784,
      -0.09331043809652328,
      -0.08175366371870041,
      -0.04677428677678108,
      -0.0492781400680542,
      0.04961620271205902,
      -0.01097193919122219,
      -0.06419829279184341,
      -0.05181533098220825,
      0.038488052785396576,
      0.017142999917268753,
      0.03624263405799866,
      0.04350642114877701,
      -0.015217342413961887,
      0.07414666563272476,
      0.059597015380859375,
      0.006526264362037182,
      -0.04874591529369354,
      0.026779992505908012,
      -0.014597898349165916,
      0.06622689962387085,
      0.01784151792526245,
      0.10909814387559891,
      -0.019570743665099144,
      0.015283205546438694,
      -0.0234648659825325,
      0.014623860828578472,
      0.012296103872358799,
      -0.00751083716750145,
      0.024034127593040466,
      0.015662170946598053,
      -0.04091658815741539,
      0.021829752251505852,
      0.07156643271446228,
      -0.0070142666809260845,
      0.018519360572099686,
      -0.11222067475318909,
      0.06101127341389656,
      0.06817187368869781,
      0.08021325618028641,
      -0.05771176889538765,
      0.027859121561050415,
      0.027324898168444633,
      0.07857675850391388,
      0.028424127027392387,
      -0.03378749638795853,
      0.004524849355220795,
      -0.05883873999118805,
      -0.025172626599669456,
      -0.048434048891067505,
      0.05271739140152931,
      -0.09579574316740036,
      -0.02868235483765602,
      -0.006302060559391975,
      -0.04588024690747261,
      0.004377453122287989,
      -0.04743955284357071,
      -0.04246779903769493,
      0.02313699759542942,
      -0.04316356033086777,
      0.03378266841173172,
      -0.05758525803685188,
      -0.07754158228635788,
      0.02347782999277115,
      -0.013209087774157524,
      0.02570623904466629,
      -0.017248330637812614,
      -0.052018653601408005,
      -0.05186466872692108,
      -0.07175522297620773,
      -0.046227190643548965,
      -0.03285707160830498,
      -3.84755978350237e-33,
      0.024316947907209396,
      0.01801311783492565,
      0.011218210682272911,
      0.07658708095550537,
      -0.04051624611020088,
      -0.057868052273988724,
      0.020559020340442657,
      0.054204702377319336,
      0.07149407267570496,
      -0.028751960024237633,
      0.08297306299209595,
      -0.07682483643293381,
      0.050950635224580765,
      -0.15352873504161835,
      0.010572175495326519,
      0.01770167611539364,
      -0.12748748064041138,
      0.1747211068868637,
      -0.0024505378678441048,
      0.05874611437320709,
      -0.06617596000432968,
      -0.005689795129001141,
      -0.05032465234398842,
      0.09930703788995743,
      -0.026599276810884476,
      0.03600272908806801,
      -0.06282022595405579,
      0.0018030529608950019,
      0.05916457250714302,
      0.009836150333285332,
      -0.05636391416192055,
      0.05906355008482933,
      -0.020536988973617554,
      0.00926144514232874,
      -0.06195282191038132,
      -0.059150680899620056,
      0.03801798075437546,
      0.006382876541465521,
      0.02484554797410965,
      0.005019462201744318,
      0.029491471126675606,
      0.08797936141490936,
      -0.06837572902441025,
      0.06874458491802216,
      -0.010720801539719105,
      -0.019980652257800102,
      -0.009781974367797375,
      0.010088005103170872,
      0.018871566280722618,
      -0.09147696942090988,
      0.026234012097120285,
      0.01608489267528057,
      -0.01217698398977518,
      -0.045578911900520325,
      -0.010736843571066856,
      0.011180849745869637,
      0.029947878792881966,
      -0.0592387355864048,
      -0.08765510469675064,
      0.04977389797568321,
      -0.027759963646531105,
      -0.012132042087614536,
      -0.05689553543925285,
      -0.007086442317813635,
      -0.01600135862827301,
      -0.07415570318698883,
      0.017068294808268547,
      0.05129299312829971,
      0.021704427897930145,
      -0.060465697199106216,
      0.13893701136112213,
      0.03984970226883888,
      -0.0057301330380141735,
      0.017537210136651993,
      -0.11606540530920029,
      -0.07844951003789902,
      -0.023010410368442535,
      -0.0014730559196323156,
      -0.043695032596588135,
      0.06269989907741547,
      -0.01190966460853815,
      0.02037135325372219,
      0.014014506712555885,
      0.019118042662739754,
      -0.058694519102573395,
      0.09116378426551819,
      -0.00402940483763814,
      -0.003729667514562607,
      -0.05786528438329697,
      0.015591676346957684,
      0.041387833654880524,
      -0.015356218442320824,
      0.020819492638111115,
      0.03788839280605316,
      -0.0482012964785099,
      -3.51566420420113e-08,
      0.011558547616004944,
      -0.0538378469645977,
      -0.0015365215949714184,
      0.012935083359479904,
      -0.004592255689203739,
      0.0342559851706028,
      -0.045273758471012115,
      -0.06839211285114288,
      0.07417363673448563,
      0.0020430153235793114,
      -0.025820843875408173,
      -0.010335210710763931,
      -0.05524875968694687,
      -0.032556064426898956,
      -0.032054513692855835,
      0.09437857568264008,
      -0.00015615990560036153,
      0.13576480746269226,
      -0.0014279709430411458,
      0.05578206479549408,
      0.10018561780452728,
      0.0109026487916708,
      -0.026110870763659477,
      -0.06133856996893883,
      0.026503005996346474,
      0.0014003674732521176,
      -0.04879048839211464,
      -0.029405809938907623,
      0.03884465992450714,
      0.05725494772195816,
      0.03954707086086273,
      -0.041471678763628006,
      -0.011797856539487839,
      0.009950485080480576,
      -0.03510371223092079,
      0.010165817104279995,
      -0.01060382928699255,
      -0.0012650237185880542,
      -0.059493839740753174,
      0.09533793479204178,
      -0.015949327498674393,
      -0.022222938016057014,
      -0.12845659255981445,
      -0.011606776155531406,
      -0.04946466162800789,
      -0.04967896640300751,
      0.10421403497457504,
      -0.0054995398968458176,
      0.04412153363227844,
      0.05190486088395119,
      0.07607202231884003,
      0.035348258912563324,
      -0.0005423664697445929,
      -0.02116384729743004,
      -0.0367935411632061,
      0.016039106994867325,
      0.012972615659236908,
      0.15753912925720215,
      -0.08331691473722458,
      -0.04327807575464249,
      0.06903398036956787,
      -0.018756873905658722,
      0.1262051910161972,
      -0.009424030780792236
    ]
  },
  {
    "id": "utils.py_normalize_subgenre",
    "filename": "utils.py",
    "function_name": "normalize_subgenre",
    "text": "## Function: normalize_subgenre (utils.py)\n\n```python\ndef normalize_subgenre(sub: str) -> str:\n    \"\"\"\n    Sanitize and normalize a user-provided subgenre string.\n\n    - Strips leading/trailing whitespace\n    - Limits to ASCII letters, digits, spaces, dashes, ampersands, and apostrophes\n    - Truncates to 50 characters\n    - Escapes HTML for safe injection into prompts\n    - Converts to title case (e.g., 'neo-soul' → 'Neo-Soul')\n    \"\"\"\n    if not isinstance(sub, str):\n        return \"\"\n\n    # Basic cleanup\n    sub = sub.strip()\n\n    # Remove unwanted characters (but allow dashes, ampersands, apostrophes)\n    sub = re.sub(r\"[^a-zA-Z0-9 &\\-']\", \"\", sub)\n\n    # Truncate to prevent abuse or overflow\n    sub = sub[:50]\n\n    # Convert to title case\n    sub = sub.title()\n\n    # Escape for prompt safety\n    return html.escape(sub)\n```\n",
    "embedding": [
      -0.01662464067339897,
      0.08400405198335648,
      0.02740129642188549,
      0.0036316001787781715,
      -0.0328180268406868,
      -0.0487167052924633,
      -0.019336285069584846,
      -0.0034804788883775473,
      -0.06413211673498154,
      -0.03497869521379471,
      -0.06069048494100571,
      0.02201668545603752,
      0.09689667075872421,
      0.044534970074892044,
      -0.002163589932024479,
      0.025090791285037994,
      -0.03899269923567772,
      0.06045408919453621,
      -0.05648872256278992,
      -0.06526874750852585,
      0.05916840210556984,
      0.07768300920724869,
      0.04759937524795532,
      0.02209465019404888,
      -0.008340300992131233,
      0.005484196823090315,
      -0.039088137447834015,
      0.09534585475921631,
      -0.022793034091591835,
      0.00035091728204861283,
      0.08457094430923462,
      0.005946979392319918,
      0.11819186061620712,
      0.009040122851729393,
      0.06878937035799026,
      0.055381547659635544,
      -0.09061481803655624,
      -0.001751081203110516,
      0.06242469325661659,
      0.05011459439992905,
      -0.030109889805316925,
      -0.09271534532308578,
      -0.08275800198316574,
      0.06307032704353333,
      0.0002797423512674868,
      -0.030364740639925003,
      -0.044545456767082214,
      -0.031636450439691544,
      0.01065034605562687,
      -0.04958732798695564,
      0.004398169461637735,
      -0.041031062602996826,
      -0.043949663639068604,
      0.1078329086303711,
      -0.021817777305841446,
      -0.07293190062046051,
      0.04397401958703995,
      -0.07225347310304642,
      0.0028174570761621,
      -0.1107630655169487,
      -0.013615308329463005,
      -0.007161087356507778,
      -0.012225951068103313,
      -0.04806989058852196,
      -0.03467477113008499,
      -0.014006286859512329,
      0.01992446556687355,
      0.041377127170562744,
      -0.018533196300268173,
      0.0942089632153511,
      -0.05854179337620735,
      0.05215497687458992,
      -0.08590169996023178,
      0.07857619225978851,
      -0.050626546144485474,
      0.0926392450928688,
      -0.013238303363323212,
      -0.01835884340107441,
      -0.05325858294963837,
      0.03400275111198425,
      0.08546242862939835,
      -0.009757071733474731,
      0.03785797208547592,
      0.05262313038110733,
      -0.012488756328821182,
      0.03489595279097557,
      0.009637857787311077,
      -0.03116706572473049,
      -0.016424763947725296,
      -0.027389470487833023,
      -0.012794073671102524,
      -0.09901145845651627,
      0.11777345836162567,
      -0.07677103579044342,
      -0.11383001506328583,
      -0.010956558398902416,
      0.007767836097627878,
      -0.02393241785466671,
      0.009576860815286636,
      0.055131539702415466,
      0.00472263665869832,
      -0.03025229647755623,
      0.027184095233678818,
      -0.08090125769376755,
      -0.040325433015823364,
      0.03269347921013832,
      0.056491296738386154,
      0.04428045079112053,
      0.06227835640311241,
      -0.003435559570789337,
      -0.046532388776540756,
      -0.012620613910257816,
      -0.028148088604211807,
      -0.03199724853038788,
      0.03700970113277435,
      0.05157026648521423,
      0.08270739763975143,
      0.022468097507953644,
      0.07386181503534317,
      0.11379876732826233,
      0.0379270501434803,
      0.0034684492275118828,
      -0.015294593758881092,
      0.09334027022123337,
      0.06619009375572205,
      0.006819940637797117,
      -0.07225094735622406,
      6.11278992744072e-33,
      -0.06001335754990578,
      0.12366960942745209,
      3.0239287298172712e-05,
      0.035825081169605255,
      0.000201270857360214,
      0.0420692153275013,
      -0.06846322864294052,
      0.008920305408537388,
      -0.05323798209428787,
      0.018130112439393997,
      0.009255707263946533,
      0.0015919089782983065,
      0.03122803196310997,
      -0.04218260198831558,
      -0.009762700647115707,
      0.014966181479394436,
      0.026247810572385788,
      -0.04221181198954582,
      -0.06212252005934715,
      -0.0530637726187706,
      -0.025361429899930954,
      0.03982855752110481,
      0.0024399515241384506,
      0.02580002136528492,
      -0.049676500260829926,
      -0.06041203811764717,
      -0.013485284522175789,
      -0.030411506071686745,
      0.03941936418414116,
      -0.04811496287584305,
      -0.040398530662059784,
      -0.0055183121003210545,
      -0.03575220704078674,
      0.03576504439115524,
      0.022871633991599083,
      0.04206402599811554,
      0.01116435881704092,
      0.009576150216162205,
      -0.02241351269185543,
      0.018626099452376366,
      -0.02364363707602024,
      0.021529510617256165,
      -0.0017938492819666862,
      0.05189342051744461,
      0.036901988089084625,
      -0.022667985409498215,
      -0.008635995909571648,
      -0.008697295561432838,
      -0.04692589491605759,
      0.01732707768678665,
      -0.006064604036509991,
      0.0827307477593422,
      0.013250219635665417,
      -0.025340944528579712,
      -0.11044071614742279,
      -0.018482649698853493,
      0.05518543720245361,
      -0.028598368167877197,
      0.02472151629626751,
      -0.07071387022733688,
      0.034775927662849426,
      -0.010282104834914207,
      0.07260522991418839,
      0.027767902240157127,
      0.03944142162799835,
      -0.06969883292913437,
      0.028785713016986847,
      0.061979178339242935,
      -0.08448843657970428,
      0.047158848494291306,
      -0.058922648429870605,
      -0.021814733743667603,
      -0.0038509832229465246,
      0.030473316088318825,
      -0.10877091437578201,
      -0.05020212382078171,
      0.04948649927973747,
      -0.01530416589230299,
      -0.011810213327407837,
      -0.014608525671064854,
      -0.014406673610210419,
      0.011248230002820492,
      0.006829830817878246,
      -0.008182696998119354,
      -0.051082875579595566,
      -0.09117816388607025,
      0.04392606019973755,
      -0.03045712597668171,
      -0.05213703587651253,
      -0.04428542032837868,
      0.01965988054871559,
      -0.09877423942089081,
      -0.060044411569833755,
      -0.06384057551622391,
      -0.05257580801844597,
      -6.224894986968719e-33,
      0.07350087910890579,
      -0.01858671009540558,
      -0.07768157869577408,
      0.013272670097649097,
      -0.04197682440280914,
      -0.09477268159389496,
      0.03483778238296509,
      0.07752566039562225,
      -0.07063762843608856,
      -0.07661496847867966,
      0.0097856055945158,
      0.0325845368206501,
      0.05258142203092575,
      -0.07743629813194275,
      0.04212997108697891,
      0.022051699459552765,
      -0.0015302009414881468,
      0.0892510637640953,
      -0.03880917653441429,
      0.03941872715950012,
      -0.0078665716573596,
      0.0788978636264801,
      -0.053738608956336975,
      0.03486182540655136,
      0.02471299096941948,
      -0.004421471152454615,
      0.04844984412193298,
      0.0564640648663044,
      0.07680219411849976,
      0.013240191154181957,
      -0.07621516287326813,
      0.05560160428285599,
      0.012095412239432335,
      0.06643199175596237,
      -0.07477457076311111,
      -0.03110380657017231,
      0.007411200553178787,
      0.030722934752702713,
      0.09022635966539383,
      0.015064770355820656,
      0.020973367616534233,
      0.051614757627248764,
      0.0038804523646831512,
      0.05510673671960831,
      0.05167155712842941,
      0.014543497003614902,
      -0.06462881714105606,
      0.030291004106402397,
      0.017909515649080276,
      -0.013983821496367455,
      -0.07427999377250671,
      -0.028117556124925613,
      -0.07605434209108353,
      -0.011421332135796547,
      -0.0013629361055791378,
      -0.05499397590756416,
      -0.022877534851431847,
      -0.021713467314839363,
      -0.09387151151895523,
      -0.025301365181803703,
      -0.05038844794034958,
      0.06854777783155441,
      -0.031902164220809937,
      -0.03232717886567116,
      -0.02422535978257656,
      -0.07455235719680786,
      -0.030769778415560722,
      -0.012898067943751812,
      -0.006163910496979952,
      -0.10803364962339401,
      0.0037013401743024588,
      -0.009202126413583755,
      -0.031435683369636536,
      -0.0003176499449182302,
      -0.015198926441371441,
      -0.004107190296053886,
      0.008924436755478382,
      -0.002407442545518279,
      -0.060080356895923615,
      0.013295632787048817,
      -0.06850454211235046,
      -0.053462181240320206,
      0.007878310047090054,
      0.09033679217100143,
      -0.024004582315683365,
      -0.0036530180368572474,
      -0.0412416011095047,
      0.09314233064651489,
      -0.008532550185918808,
      -0.05543435364961624,
      0.04312026873230934,
      -0.012658714316785336,
      0.06579622626304626,
      0.0687163919210434,
      0.030950138345360756,
      -5.2909452818994396e-08,
      0.06445661187171936,
      -0.022116031497716904,
      -0.0055724759586155415,
      0.02036445029079914,
      0.021952364593744278,
      0.058618851006031036,
      -0.07878723740577698,
      -0.1094379723072052,
      0.04486152157187462,
      0.0705127939581871,
      -0.0298378374427557,
      -0.007691905368119478,
      -0.09166505932807922,
      -0.02679542452096939,
      -0.09154393523931503,
      0.0787055492401123,
      0.0019111561123281717,
      0.13952100276947021,
      -0.019907178357243538,
      0.03315850347280502,
      -0.0661529079079628,
      0.03265799209475517,
      -0.04187595471739769,
      -0.023509835824370384,
      0.025246547535061836,
      0.006291566416621208,
      -0.07655557245016098,
      -0.010043995454907417,
      -0.03507767617702484,
      -0.05223439633846283,
      0.059639085084199905,
      0.05362335219979286,
      -0.001402879017405212,
      -0.03094324842095375,
      -0.01932130940258503,
      -0.004428808111697435,
      0.035674165934324265,
      0.03632123023271561,
      0.006979576777666807,
      0.08129297196865082,
      0.059748485684394836,
      0.008326783776283264,
      -0.09115787595510483,
      0.012418217957019806,
      -0.08251732587814331,
      -0.02552092634141445,
      0.00796374399214983,
      -0.02487330324947834,
      0.060434821993112564,
      0.006194087211042643,
      0.17745038866996765,
      -0.0021328297443687916,
      -0.050676312297582626,
      -0.033498141914606094,
      0.010755104012787342,
      0.04320606589317322,
      0.05630399286746979,
      0.10567133873701096,
      -0.027436047792434692,
      0.020943637937307358,
      0.05915006250143051,
      0.06366455554962158,
      0.04012468457221985,
      -0.09549035131931305
    ]
  },
  {
    "id": "gpt_utils.py_generate_feedback_prompt",
    "filename": "gpt_utils.py",
    "function_name": "generate_feedback_prompt",
    "text": "## Function: generate_feedback_prompt (gpt_utils.py)\n\n```python\ndef generate_feedback_prompt(genre: str, subgenre: str, type: str, analysis_data: dict, feedback_profile: str, ref_analysis_data: dict = None) -> str:\n    \"\"\"\n            Constructs a detailed AI prompt combining role context, communication style,\n            audio analysis data, reference track data (optional), and formatting instructions.\n\n            Parameters:\n                genre (str): Music genre, normalized.\n                subgenre (str): Music subgenre, normalized.\n                type (str): Feedback type ('mixdown', 'mastering', 'master').\n                analysis_data (dict): Audio analysis metrics of the submitted track.\n                feedback_profile (str): Desired feedback complexity ('simple', 'detailed', 'pro').\n                ref_analysis_data (dict, optional): Reference track analysis for comparison.\n\n            Returns:\n                str: Formatted prompt string ready to be sent to the AI model.\n            \"\"\"\n\n    type = normalize_type(type)\n    if type not in ROLE_CONTEXTS:\n        raise ValueError(f\"Unknown type: {type}\")\n    genre = normalize_genre(genre)\n    if genre not in ALLOWED_GENRES:\n        raise ValueError(f\"Unknown genre: {genre}\")\n    subgenre = normalize_subgenre(subgenre)\n    feedback_profile = normalize_profile(feedback_profile)\n    if feedback_profile not in PROFILE_GUIDANCE:\n        raise ValueError(f\"Unknown feedback_profile: {feedback_profile}\")\n\n    context = (\n            REFERENCE_TRACK_INSTRUCTION + \"\\n\\n\" + ROLE_CONTEXTS[type].format(\n        genre=html.escape(genre),\n        subgenre=html.escape(subgenre)\n    )\n    )\n    communication_style = PROFILE_GUIDANCE[feedback_profile]\n\n    # Add reference track data section if available\n    ref_section = \"\"\n    if ref_analysis_data:\n        ref_section = f\"\"\"\n    ### Reference Track Analysis (for comparison)\n    - Peak: {ref_analysis_data['peak_db']} dB\n    - RMS Peak: {ref_analysis_data['rms_db_peak']} dB\n    - LUFS: {ref_analysis_data['lufs']}\n    - Transients: {ref_analysis_data['transient_description']}\n    - Spectral balance note: {ref_analysis_data['spectral_balance_description']}\n    - Dynamic range: {ref_analysis_data['dynamic_range']}\n    - Stereo width: {ref_analysis_data['stereo_width']}\n    - Bass profile: {ref_analysis_data.get('low_end_description', '')}\n    \"\"\"\n\n    peak_warning = \"\"\n    if analysis_data.get(\"peak_issue_explanation\"):\n        peak_warning = f\"\\n⚠️ Peak warning: {analysis_data['peak_issue_explanation']}\\n\"\n\n    format_rule = FORMAT_RULES.get(feedback_profile, FORMAT_RULES[\"detailed\"])\n\n    example_output = EXAMPLE_OUTPUTS.get(feedback_profile, \"\")\n\n    # Final assembly\n    return f\"\"\"\n### Context\n{context}\n\n- **Respect the genre context**. F.e. only suggest reducing bass if clearly excessive relative to the genre’s typical sound.\n\n### Communication Style\n{communication_style}\n\n### Track Analysis Data\n- Peak: {analysis_data['peak_db']} dB\n- RMS Peak: {analysis_data['rms_db_peak']} dB\n- LUFS: {analysis_data['lufs']}\n- Avg Transient Strength: {analysis_data['avg_transient_strength']}\n- Max Transient Strength: {analysis_data['max_transient_strength']}\n- Transients: {analysis_data['transient_description']}\nIf low-end is flagged as strong but typical for the genre, do NOT treat it as a problem unless masking, muddiness, or translation concerns are clearly implied.\n- Spectral balance note: {analysis_data['spectral_balance_description']}\n- Dynamic range: {analysis_data['dynamic_range']}\n- Stereo width: {analysis_data['stereo_width']}\n- Bass profile: {analysis_data.get('low_end_description', '')}\n  (Genre: {genre} — please consider if the low-end level suits this genre’s typical sound.)\n\n### REFERENCE TRACK\nHere is analysis data for the reference track. Use this data to inform your feedback and compare where appropriate.\n{ref_section}\n\n{peak_warning}\n\n### Reasoning Step\nUse the reference track when provided as a benchmark to guide specific suggestions even when not typical for genre etc..\nBefore writing the bullet points, briefly reflect on what stands out from the analysis data.\nWrite 2–3 sentences summarizing key characteristics or concerns about the mix (this part will not be shown to the user).\n\n### Bullet Point Feedback\nNow return exactly 2–3 bullet points.\n\n{format_rule.strip()}\n\n⚠️ Do **not** include a title, greeting, summary, or closing line.\n\n{example_output}\n\"\"\".strip()\n```\n",
    "embedding": [
      0.03873378783464432,
      -0.02476576529443264,
      -0.062369205057621,
      0.017710868269205093,
      -0.0012826811289414763,
      -0.01134792435914278,
      0.02129554934799671,
      0.04346128925681114,
      -0.033623263239860535,
      -0.07964838296175003,
      -0.06875992566347122,
      -0.11069327592849731,
      0.024474913254380226,
      -0.0649016946554184,
      0.0005407172138802707,
      0.013882003724575043,
      0.03718465194106102,
      -0.030642298981547356,
      -0.0066235666163265705,
      -0.08354368060827255,
      0.07829145342111588,
      0.08607354760169983,
      0.07084643840789795,
      0.03924400359392166,
      -0.06237156316637993,
      -0.0268862284719944,
      -0.015893634408712387,
      0.05853956937789917,
      0.024387555196881294,
      0.007222363725304604,
      0.061846837401390076,
      0.04936222732067108,
      0.10474007576704025,
      0.031754545867443085,
      -0.02081022411584854,
      0.0545809343457222,
      -0.05294326692819595,
      -0.021804600954055786,
      0.02972712367773056,
      -0.008721012622117996,
      -0.001406265189871192,
      0.056688517332077026,
      0.018927989527583122,
      -0.05052755028009415,
      -0.03456180542707443,
      -0.04222448542714119,
      -0.11741681396961212,
      -0.03755146637558937,
      -0.013313778676092625,
      0.031611356884241104,
      -0.07830607891082764,
      -0.002122770296409726,
      -0.0070990934036672115,
      -0.010027344338595867,
      0.0024703850504010916,
      0.03725607320666313,
      0.024848993867635727,
      0.02320414036512375,
      0.022888340055942535,
      -0.09068469703197479,
      -0.07376335561275482,
      -0.05786043405532837,
      -0.02230527065694332,
      -0.0571165606379509,
      -0.012033876031637192,
      0.0018343974370509386,
      -0.05106199532747269,
      0.06672509014606476,
      -0.009458644315600395,
      0.04248586669564247,
      -0.03924966976046562,
      0.008033161982893944,
      -0.06930526345968246,
      0.03465858846902847,
      0.04999310150742531,
      0.03435099124908447,
      -0.040674321353435516,
      0.02876763790845871,
      -0.05089149624109268,
      -0.008209867402911186,
      -0.0057012103497982025,
      -0.02536136284470558,
      0.027859298512339592,
      -0.020801227539777756,
      0.0006057186983525753,
      -0.07376593351364136,
      0.06603220105171204,
      0.011697579175233841,
      0.037852298468351364,
      0.03856823220849037,
      -0.03813454508781433,
      -0.04933559149503708,
      0.0057253772392869,
      -0.02034502848982811,
      0.01639934815466404,
      0.07649305462837219,
      -0.032012831419706345,
      -0.12269274890422821,
      0.05141225829720497,
      0.0332980714738369,
      -0.03205060213804245,
      0.004235920961946249,
      0.037875622510910034,
      -0.027369309216737747,
      -0.09274213016033173,
      -0.021952049806714058,
      0.0530315600335598,
      0.04488826543092728,
      0.0011907893931493163,
      -0.039922937750816345,
      -0.03602525219321251,
      -0.012688819319009781,
      -0.0009290207526646554,
      -0.03239477053284645,
      0.13213278353214264,
      0.0694315955042839,
      -0.045015837997198105,
      0.040933359414339066,
      0.06374761462211609,
      0.06171068176627159,
      0.11155220866203308,
      -0.03726135194301605,
      -0.015158219262957573,
      0.048302508890628815,
      0.03258775919675827,
      -0.024162033572793007,
      -0.059478770941495895,
      3.795388038135015e-33,
      -0.03167134150862694,
      -0.007398215122520924,
      0.05312953516840935,
      0.06886129081249237,
      0.04841972887516022,
      0.021289624273777008,
      -0.0401323139667511,
      0.003504198743030429,
      0.018620403483510017,
      -0.02200590819120407,
      -0.04243725165724754,
      0.014927937649190426,
      -0.020703863352537155,
      -0.020172566175460815,
      -0.015113001689314842,
      0.0044518206268548965,
      -0.010358956642448902,
      0.10805150121450424,
      -0.05330924317240715,
      -0.013788855634629726,
      0.040333326905965805,
      0.053879156708717346,
      -0.006711607798933983,
      0.007182944566011429,
      0.07318756729364395,
      0.01641637645661831,
      0.0022086394019424915,
      -0.043815359473228455,
      -0.001570019288919866,
      -0.027494866400957108,
      -0.13686837255954742,
      -0.05425713211297989,
      0.013477783650159836,
      0.010463363490998745,
      -0.02770008146762848,
      0.07206645607948303,
      -0.0003609378181863576,
      -0.015925627201795578,
      0.009896914474666119,
      -0.00727437250316143,
      0.002488593803718686,
      -0.016038302332162857,
      0.017561590299010277,
      0.001587776467204094,
      -0.06803276389837265,
      -0.0053097899071872234,
      -0.032948315143585205,
      0.030119210481643677,
      -0.009934602305293083,
      0.0948883518576622,
      -0.024436429142951965,
      0.0036574718542397022,
      0.022408120334148407,
      -0.016128990799188614,
      -0.004761274438351393,
      -0.0238457340747118,
      0.044081952422857285,
      0.03646697849035263,
      0.022192571312189102,
      -0.06770244985818863,
      0.04147136211395264,
      0.0884210616350174,
      0.02611951343715191,
      -0.05550932511687279,
      -0.0007881795754656196,
      0.09324126690626144,
      -0.016819264739751816,
      -0.006119929254055023,
      0.1511707901954651,
      0.01521538756787777,
      -0.13492588698863983,
      0.014268922619521618,
      -0.09136433899402618,
      -0.005918220616877079,
      0.002728770487010479,
      -0.07900795340538025,
      -0.04052448645234108,
      -0.10963667184114456,
      0.01263369433581829,
      0.00524367019534111,
      -0.03930114582180977,
      0.03885173425078392,
      -0.11069750785827637,
      -0.02088574506342411,
      -0.02790473774075508,
      -0.08228059113025665,
      0.03509300574660301,
      -0.015274939127266407,
      -0.05157957598567009,
      -0.04129656031727791,
      -0.13246770203113556,
      0.01065351627767086,
      -0.04972028359770775,
      0.05906636640429497,
      -0.024490686133503914,
      -5.915790665896336e-33,
      0.03828157112002373,
      -0.034539155662059784,
      0.015377051196992397,
      0.03892432153224945,
      0.010139143094420433,
      -0.008239236660301685,
      0.02302328497171402,
      0.0047310227528214455,
      0.09945207834243774,
      -0.022717447951436043,
      0.024287838488817215,
      -0.10172843933105469,
      0.015492415055632591,
      -0.032867204397916794,
      0.03431696817278862,
      0.004921611398458481,
      -0.13042251765727997,
      0.07522698491811752,
      0.024851419031620026,
      0.036635853350162506,
      -0.0036809423472732306,
      0.057674482464790344,
      -0.00873979926109314,
      -0.002782912226393819,
      -0.06078303977847099,
      -0.025022398680448532,
      0.04522287845611572,
      0.03531664237380028,
      0.11341563612222672,
      -0.0105641670525074,
      -0.015596156008541584,
      0.017695767804980278,
      -0.07897303253412247,
      0.02875121869146824,
      -0.00974304135888815,
      0.0011353399604558945,
      0.08318323642015457,
      -0.05182892456650734,
      -0.036530740559101105,
      0.06374296545982361,
      0.10260407626628876,
      0.049418408423662186,
      -0.03867807611823082,
      0.007916022092103958,
      -0.001716784667223692,
      -0.0008088191971182823,
      0.04304458200931549,
      0.048476606607437134,
      0.009738519787788391,
      -0.03630415350198746,
      0.048966120928525925,
      -0.041284944862127304,
      -0.007900985889136791,
      -0.03768402710556984,
      -0.133664071559906,
      -0.05930371209979057,
      0.03911326453089714,
      -0.054144080728292465,
      -0.05946842581033707,
      -0.005527964327484369,
      -0.037827666848897934,
      -0.01164658647030592,
      0.007420029025524855,
      -0.09912385791540146,
      0.012660997919738293,
      -0.045703914016485214,
      0.013314400799572468,
      -0.023027265444397926,
      0.04281880706548691,
      0.020162921398878098,
      -0.0069288285449147224,
      0.0009849421912804246,
      0.031202977523207664,
      0.04783053696155548,
      0.01648009940981865,
      0.08940274268388748,
      -0.1264989674091339,
      -0.07782191783189774,
      -0.028059637174010277,
      -0.00508729275316,
      -0.03153947740793228,
      0.040699176490306854,
      0.0651625320315361,
      0.025341199710965157,
      -0.0010341923916712403,
      0.05202169716358185,
      0.03443409502506256,
      0.1297343671321869,
      -0.021334920078516006,
      0.04616527631878853,
      0.04521385207772255,
      0.009213403798639774,
      0.07117921859025955,
      0.12301888316869736,
      -0.09386595338582993,
      -5.855999418713509e-08,
      -0.023109551519155502,
      -0.009576368145644665,
      0.034355465322732925,
      0.06499819457530975,
      0.01876237615942955,
      0.01232573390007019,
      -0.011816649697721004,
      -0.15280410647392273,
      0.011835221201181412,
      -0.03274492546916008,
      -0.0026725821662694216,
      -0.07001052796840668,
      -0.05122658982872963,
      -0.006381298881024122,
      0.013914495706558228,
      0.007187157869338989,
      -0.03883902356028557,
      0.09439628571271896,
      -0.03155948594212532,
      -0.0723738744854927,
      0.051587704569101334,
      -0.03699786216020584,
      -0.06566980481147766,
      -0.0622783787548542,
      0.025186948478221893,
      -0.02834397181868553,
      -0.003310656640678644,
      0.06129833683371544,
      -0.1304510533809662,
      0.013282482512295246,
      0.07824758440256119,
      -0.002834334736689925,
      0.002683158265426755,
      -0.014546496793627739,
      0.021470634266734123,
      0.022863732650876045,
      0.07713937014341354,
      -0.0006961561157368124,
      0.030466295778751373,
      0.027151377871632576,
      -0.04850299656391144,
      0.08381041139364243,
      -0.11565309762954712,
      -0.016676023602485657,
      -0.005288849584758282,
      -0.02200222574174404,
      0.023272395133972168,
      -0.07424058020114899,
      0.009218336082994938,
      0.020047256723046303,
      -0.035253047943115234,
      -0.038001738488674164,
      -0.0309610553085804,
      0.028852194547653198,
      0.050389692187309265,
      0.0950060710310936,
      -0.04815710708498955,
      0.09212997555732727,
      -0.0555717907845974,
      -0.016861513257026672,
      0.031063642352819443,
      0.10968922823667526,
      0.04572566598653793,
      -0.0057874396443367004
    ]
  },
  {
    "id": "gpt_utils.py_generate_feedback_response",
    "filename": "gpt_utils.py",
    "function_name": "generate_feedback_response",
    "text": "## Function: generate_feedback_response (gpt_utils.py)\n\n```python\ndef generate_feedback_response(prompt: str) -> str:\n    \"\"\"\n        Sends a prompt string to the AI model and returns the generated feedback text.\n\n        Parameters:\n            prompt (str): The fully constructed prompt containing context, instructions, and analysis data.\n\n        Returns:\n            str: The AI-generated feedback text, stripped of leading/trailing whitespace.\n        \"\"\"\n    response = client.chat.completions.create(\n        model=\"gpt-4o-mini\",\n        messages=[{\"role\": \"user\", \"content\": prompt}]\n    )\n    # response = client.chat.completions.create(\n    #     model=\"mistralai/Mixtral-8x7B-Instruct-v0.1\",\n    #     messages=[{\"role\": \"user\", \"content\": prompt}]\n    # )\n    return response.choices[0].message.content.strip()\n```\n",
    "embedding": [
      -0.020354749634861946,
      0.025926832109689713,
      0.01725149154663086,
      0.0785035490989685,
      0.004754957277327776,
      -0.05334539711475372,
      0.08133122324943542,
      0.03213800489902496,
      0.027164146304130554,
      -0.08976151049137115,
      -0.00923151895403862,
      -0.06958699971437454,
      0.011480222456157207,
      -0.01711694896221161,
      0.07087934762239456,
      0.003960768226534128,
      0.03356647491455078,
      -0.07425686717033386,
      0.015335547737777233,
      -0.06927557289600372,
      0.04865332692861557,
      0.09712155908346176,
      0.09361530840396881,
      0.027455046772956848,
      -0.028108952566981316,
      0.0031934117432683706,
      0.016920821741223335,
      0.031321797519922256,
      0.0367506705224514,
      0.004951392766088247,
      0.0773279070854187,
      0.017031840980052948,
      0.07460275292396545,
      0.048351723700761795,
      -0.03197626769542694,
      0.10949382930994034,
      -0.03549226000905037,
      -0.022415490821003914,
      0.044837452471256256,
      -0.0031305390875786543,
      0.003541450249031186,
      0.014382792636752129,
      -0.016295894980430603,
      0.022045010700821877,
      0.023223014548420906,
      -0.04906512796878815,
      -0.059096213430166245,
      -0.01979798637330532,
      0.02255447767674923,
      0.033403605222702026,
      -0.030544385313987732,
      0.02290036343038082,
      0.0027842652052640915,
      0.038448140025138855,
      -0.03728575259447098,
      0.03185584396123886,
      -0.015445678494870663,
      0.010893702507019043,
      -0.005491086281836033,
      -0.10126417875289917,
      -0.05976264178752899,
      -0.046215251088142395,
      -0.03229120373725891,
      -0.02507142722606659,
      -0.03151283040642738,
      0.025694549083709717,
      -0.05320100486278534,
      0.06606364995241165,
      -0.016393806785345078,
      0.023177780210971832,
      -0.0018473570235073566,
      -0.011818541213870049,
      -0.10477365553379059,
      0.038460083305835724,
      0.016931915655732155,
      0.031754203140735626,
      -0.017578858882188797,
      0.01932411640882492,
      -0.013007357716560364,
      0.054301366209983826,
      0.009357902221381664,
      -0.05235522612929344,
      0.03983059525489807,
      0.06508668512105942,
      -0.054793935269117355,
      -0.0471343956887722,
      0.021291077136993408,
      0.05845939368009567,
      0.031215792521834373,
      0.0021567209623754025,
      -0.03747405856847763,
      -0.0519188791513443,
      0.005445951130241156,
      0.03458132594823837,
      -0.030679989606142044,
      0.08922823518514633,
      -0.019207527860999107,
      -0.12144779413938522,
      -0.046137575060129166,
      0.06966854631900787,
      -0.022438451647758484,
      -0.029434826225042343,
      0.009286931715905666,
      -0.05312202498316765,
      -0.058228496462106705,
      0.01121924165636301,
      0.0032138864044100046,
      0.005215370561927557,
      -0.01042091939598322,
      -0.016087699681520462,
      -0.07614994794130325,
      -0.002338643418624997,
      -0.0045760879293084145,
      0.0034901306498795748,
      0.09919361770153046,
      0.02520265243947506,
      -0.020514098927378654,
      0.01608613319694996,
      0.029887909069657326,
      0.05482901632785797,
      0.14606612920761108,
      -0.011341283097863197,
      -0.03191841021180153,
      0.04138656705617905,
      0.031319115310907364,
      -0.02554505318403244,
      -0.008523580618202686,
      9.024179214121505e-34,
      0.010312141850590706,
      0.014904825948178768,
      0.051294852048158646,
      0.09416371583938599,
      0.06788597255945206,
      0.10810400545597076,
      0.01350652240216732,
      -0.03936846926808357,
      -0.007367771118879318,
      -0.07581362128257751,
      -0.08660651743412018,
      -0.048041049391031265,
      0.00831147562712431,
      0.007590178865939379,
      -0.040774594992399216,
      -0.00944436527788639,
      -0.019608482718467712,
      0.10321592539548874,
      -0.0024734081234782934,
      0.019382592290639877,
      -0.01574961468577385,
      0.08156333863735199,
      0.003077988512814045,
      0.015196163207292557,
      0.020678766071796417,
      0.027597576379776,
      0.0028215511702001095,
      -0.016332998871803284,
      -0.047876715660095215,
      -0.020532522350549698,
      -0.1202673614025116,
      -0.017084378749132156,
      0.008009761571884155,
      0.050213467329740524,
      -0.017460528761148453,
      0.04836241155862808,
      -0.023491747677326202,
      -0.017305415123701096,
      -0.03199249505996704,
      0.01636451855301857,
      0.02460016869008541,
      -0.0395013801753521,
      0.015723155811429024,
      -0.007783174514770508,
      -0.08934959769248962,
      -0.06259908527135849,
      -0.022600330412387848,
      0.026218803599476814,
      -0.0022872397676110268,
      0.0841078981757164,
      -0.034671660512685776,
      0.03560015559196472,
      -0.0012776030926033854,
      -0.0014351175632327795,
      -0.010535910725593567,
      -0.049709904938936234,
      -0.0033762692473828793,
      0.04597194120287895,
      0.0028176093474030495,
      -0.09957408905029297,
      0.04644560441374779,
      0.060619231313467026,
      0.03990192711353302,
      -0.02735534869134426,
      0.044860661029815674,
      0.016824785619974136,
      -0.0320177786052227,
      -0.006532632280141115,
      0.07752629369497299,
      -0.01735912635922432,
      -0.10087522864341736,
      0.0022628633305430412,
      -0.04669412970542908,
      -0.012630368582904339,
      -0.03037416748702526,
      -0.1061791181564331,
      -0.08380201458930969,
      -0.04733627662062645,
      0.0466158501803875,
      0.01437736488878727,
      0.013286174274981022,
      -0.04168340191245079,
      -0.0835948958992958,
      -0.002005420858040452,
      -0.005458175670355558,
      -0.045994408428668976,
      0.06880179047584534,
      -0.03209609538316727,
      -0.051315322518348694,
      -0.03164055198431015,
      -0.10807221382856369,
      -0.054935235530138016,
      -0.010259578004479408,
      0.057974107563495636,
      -0.018086086958646774,
      -1.860469786396812e-33,
      0.06175902113318443,
      -0.027997493743896484,
      -0.018158329650759697,
      0.02220977656543255,
      0.01391465775668621,
      -0.04344075545668602,
      0.06981834769248962,
      0.02634982392191887,
      0.02205037511885166,
      -0.006638189312070608,
      0.019980112090706825,
      -0.010348303243517876,
      -0.007586293388158083,
      -0.007145052310079336,
      0.03840584680438042,
      0.050900042057037354,
      -0.01894673891365528,
      0.006129665765911341,
      0.03874281793832779,
      -0.05076877772808075,
      0.00512692891061306,
      0.033123791217803955,
      -0.09653666615486145,
      -4.2602699977578595e-05,
      -0.03326542675495148,
      -0.04892048239707947,
      0.07676049321889877,
      0.03399468958377838,
      0.09475619345903397,
      0.01662655919790268,
      -0.0026162920985370874,
      0.057428810745477676,
      -0.05570920556783676,
      0.07511330395936966,
      0.007577197160571814,
      -0.007438823580741882,
      0.087856724858284,
      -0.005667547695338726,
      -0.05024498328566551,
      0.05992263928055763,
      0.15939822793006897,
      -0.020496543496847153,
      -0.07914795726537704,
      0.051262080669403076,
      0.029311319813132286,
      0.054281625896692276,
      0.02514985390007496,
      -0.027302395552396774,
      -0.01816624589264393,
      -0.00834101065993309,
      0.06863889843225479,
      -0.029696501791477203,
      -0.038670383393764496,
      0.01915145106613636,
      -0.09748143702745438,
      -0.08910894393920898,
      0.055842407047748566,
      -0.03515617549419403,
      0.00511521240696311,
      -0.05483078584074974,
      -0.06935208290815353,
      -0.042720504105091095,
      0.06878230720758438,
      -0.09849052876234055,
      0.03655703738331795,
      -0.07334867864847183,
      -0.004635818302631378,
      0.036869700998067856,
      0.07119692862033844,
      -0.04387301206588745,
      0.011689918115735054,
      -0.041795484721660614,
      0.02989894710481167,
      0.020026711747050285,
      0.1273355633020401,
      0.10495246946811676,
      -0.09604410082101822,
      -0.09051065891981125,
      -0.02861032262444496,
      -0.011929146014153957,
      -0.04367474466562271,
      -0.0016023674979805946,
      0.03182381018996239,
      0.08468827605247498,
      0.01847825013101101,
      -0.04171530529856682,
      0.0009118735906668007,
      0.1608404666185379,
      -0.014924808405339718,
      0.028564807027578354,
      0.03048098087310791,
      0.018445465713739395,
      0.06871911138296127,
      0.1359625607728958,
      -0.024741757661104202,
      -5.3209014083677175e-08,
      -0.08826636523008347,
      -0.048097021877765656,
      -0.014705316163599491,
      0.06982790678739548,
      -0.008146182633936405,
      0.0698191374540329,
      -0.0013255379162728786,
      -0.07965138554573059,
      0.024111421778798103,
      -0.05848332867026329,
      -0.041282813996076584,
      -0.056638434529304504,
      -0.0021789493039250374,
      -0.0477667972445488,
      0.05019398778676987,
      -0.007358070462942123,
      -0.05693266913294792,
      0.08769889175891876,
      -0.010083318687975407,
      -0.06251482665538788,
      0.09717734158039093,
      -0.03276912495493889,
      -0.061805035918951035,
      -0.06946151703596115,
      0.014620264992117882,
      -0.004084492567926645,
      -0.0454026535153389,
      0.03616247698664665,
      -0.17747847735881805,
      0.002083255909383297,
      0.08402897417545319,
      -0.04346524178981781,
      -0.026276055723428726,
      -0.004205117933452129,
      0.015752626582980156,
      0.005133349914103746,
      0.04114127904176712,
      -0.09415967017412186,
      0.09107598662376404,
      0.016920065507292747,
      -0.004716670606285334,
      0.07187852263450623,
      -0.1270894557237625,
      -0.022202659398317337,
      0.0016669342294335365,
      -0.016589032486081123,
      0.023497985675930977,
      -0.10378749668598175,
      0.015455727465450764,
      0.011009776033461094,
      -0.002951761707663536,
      -0.05961253494024277,
      -0.02833103947341442,
      -0.026553798466920853,
      0.028958359733223915,
      0.01754017174243927,
      -0.0012962264008820057,
      0.007329657673835754,
      -0.03112146072089672,
      0.0002807335986290127,
      0.0222320556640625,
      0.13508301973342896,
      0.009435043670237064,
      -0.030022425577044487
    ]
  },
  {
    "id": "gpt_utils.py_generate_followup_response",
    "filename": "gpt_utils.py",
    "function_name": "generate_followup_response",
    "text": "## Function: generate_followup_response (gpt_utils.py)\n\n```python\ndef generate_followup_response(analysis_text: str, feedback_text: str, user_question: str, thread_summary: str = \"\") -> str:\n    \"\"\"\n        Builds a follow-up prompt incorporating prior analysis, feedback, user question,\n        and optionally a summary of the follow-up conversation thread, then sends it to the AI.\n\n        Parameters:\n            analysis_text (str): Text description of the audio analysis.\n            feedback_text (str): Previous AI feedback given to the user.\n            user_question (str): The user's follow-up question.\n            thread_summary (str, optional): Summary of previous follow-up messages for context.\n\n        Returns:\n            str: AI-generated answer to the follow-up question.\n        \"\"\"\n    prompt = build_followup_prompt(analysis_text, feedback_text, user_question, thread_summary)\n    return generate_feedback_response(prompt)\n```\n",
    "embedding": [
      -0.061014093458652496,
      0.009907369501888752,
      -0.04835979640483856,
      0.010487355291843414,
      -0.015605084598064423,
      -0.006015665829181671,
      0.009326912462711334,
      0.03457240015268326,
      0.027631858363747597,
      -0.06481970846652985,
      -0.04392107576131821,
      -0.05093669518828392,
      0.0030342622194439173,
      -0.04456353187561035,
      -0.001196250319480896,
      0.027140039950609207,
      0.05312858894467354,
      -0.07428840547800064,
      -0.03253315016627312,
      -0.07341057807207108,
      0.02110009640455246,
      0.09591525793075562,
      0.10506574809551239,
      0.08795242011547089,
      0.006200778763741255,
      -0.046205393970012665,
      0.0421452671289444,
      0.045337360352277756,
      0.008285179734230042,
      0.09768545627593994,
      0.07276280224323273,
      -0.02319343388080597,
      0.045256007462739944,
      0.04903154820203781,
      -0.038351867347955704,
      0.07857416570186615,
      -0.053398288786411285,
      -0.027020569890737534,
      -0.009317131713032722,
      -0.0462043397128582,
      -0.02592354454100132,
      -0.028770748525857925,
      -0.047381047159433365,
      -0.015810498967766762,
      -0.0029169335030019283,
      -0.06544554233551025,
      -0.0907074511051178,
      0.029074743390083313,
      0.0057777464389801025,
      0.015905270352959633,
      -0.07506139576435089,
      -0.031556181609630585,
      -0.04131322726607323,
      0.013320090249180794,
      0.017665009945631027,
      0.07647933810949326,
      -0.021639680489897728,
      0.013236398808658123,
      0.045871179550886154,
      -0.07651755213737488,
      -0.016981931403279305,
      -0.1158052384853363,
      0.020122211426496506,
      0.02502152882516384,
      -0.0017075414070859551,
      0.00571128586307168,
      -0.05358428880572319,
      0.0657806396484375,
      0.020625527948141098,
      0.04701764136552811,
      -0.07879452407360077,
      0.045003876090049744,
      -0.04711301252245903,
      0.08624157309532166,
      -0.022772636264562607,
      0.023581523448228836,
      -0.03787214308977127,
      -0.03284408524632454,
      -0.04843616485595703,
      -0.017739638686180115,
      -0.03313735872507095,
      -0.06539277732372284,
      0.05429952219128609,
      0.05040191113948822,
      0.06892824918031693,
      -0.03380642458796501,
      0.10056337714195251,
      0.04056112468242645,
      -0.011548587121069431,
      0.03280865401029587,
      -0.013731319457292557,
      -0.03922375664114952,
      -0.015003826469182968,
      0.008128763176500797,
      -0.016551392152905464,
      0.06689997017383575,
      -0.08546970039606094,
      -0.12021686881780624,
      -0.013537133112549782,
      0.036017198115587234,
      0.02423783391714096,
      0.024332016706466675,
      0.03390296921133995,
      -0.05477573722600937,
      -0.04927188903093338,
      0.026824794709682465,
      -0.048592422157526016,
      0.0017757819732651114,
      0.001703021232970059,
      -0.01670045778155327,
      -0.04669749736785889,
      -0.0033715565223246813,
      0.02272767573595047,
      -0.019784515723586082,
      0.06820801645517349,
      0.010306194424629211,
      0.05955791473388672,
      0.048206914216279984,
      0.0459909588098526,
      0.06822894513607025,
      0.14068450033664703,
      -0.021756043657660484,
      -0.0246086735278368,
      0.054793041199445724,
      0.048262208700180054,
      -0.043286122381687164,
      0.004793846979737282,
      3.7918244994598485e-34,
      0.021994464099407196,
      -0.00426083616912365,
      0.07958976924419403,
      0.029012512415647507,
      0.01660187728703022,
      0.04615599662065506,
      -0.017971064895391464,
      0.011337589472532272,
      0.01008167676627636,
      -0.08476261794567108,
      -0.032895129173994064,
      -0.017979344353079796,
      0.05562695860862732,
      -0.02883070707321167,
      -0.04998348653316498,
      -0.002839206950739026,
      -0.020401520654559135,
      0.09270181506872177,
      0.013613993301987648,
      0.010589509271085262,
      -0.004842814989387989,
      -0.014100130647420883,
      0.0011546546593308449,
      0.03040240705013275,
      0.06768359988927841,
      0.014630859717726707,
      0.04589392989873886,
      -0.018925033509731293,
      -0.03939961642026901,
      -0.020719368010759354,
      -0.11445010453462601,
      -0.0554947592318058,
      -0.03657131642103195,
      -0.009947883896529675,
      0.019413461908698082,
      0.016653237864375114,
      0.029289795085787773,
      -0.03559879586100578,
      -0.03685682639479637,
      -0.04040142893791199,
      -0.0029593189246952534,
      0.00711393216624856,
      -0.014158781617879868,
      -0.020697252824902534,
      -0.09354335069656372,
      -0.0263583455234766,
      -0.06965357810258865,
      0.03618566691875458,
      0.041975848376750946,
      -0.0019831093959510326,
      0.015878168866038322,
      -0.012944502755999565,
      0.00028805373585782945,
      -0.07420572638511658,
      -0.025552481412887573,
      -0.05216331407427788,
      -0.019233375787734985,
      0.011064494960010052,
      0.025106580927968025,
      -0.03435610607266426,
      0.07504456490278244,
      0.06284946203231812,
      0.025645779445767403,
      0.032886896282434464,
      0.029000602662563324,
      0.041649118065834045,
      -0.03772928938269615,
      0.019925612956285477,
      0.08306824415922165,
      0.024709032848477364,
      -0.05469310283660889,
      0.04929858073592186,
      -0.09764333814382553,
      -0.018042467534542084,
      0.007824255153536797,
      -0.00887900497764349,
      -0.09429869055747986,
      -0.10576453804969788,
      0.036694347858428955,
      0.003319110721349716,
      0.0013736867113038898,
      -0.03761407360434532,
      -0.07720422744750977,
      -0.02374418079853058,
      -0.014974262565374374,
      0.008298101834952831,
      0.03482203185558319,
      -0.03866266459226608,
      -0.06698277592658997,
      -0.058792393654584885,
      -0.10363870859146118,
      -0.009919274598360062,
      -0.04679727926850319,
      0.07491409778594971,
      0.026464788243174553,
      -3.088271248107791e-33,
      0.031895723193883896,
      -0.0033981348387897015,
      -0.02779913693666458,
      0.01402905024588108,
      0.04999268800020218,
      0.014760329388082027,
      -0.021918902173638344,
      0.019071687012910843,
      0.08589469641447067,
      -0.012765612453222275,
      -0.03508070483803749,
      -0.06219400465488434,
      -0.011724305339157581,
      0.03157079964876175,
      0.07220230251550674,
      0.017228323966264725,
      -0.00771155534312129,
      -0.011719747446477413,
      -0.010050348937511444,
      0.0057882582768797874,
      -0.029202600941061974,
      0.06364914029836655,
      -0.052540313452482224,
      -0.04929736629128456,
      -0.03127545490860939,
      -0.0438610315322876,
      0.09666506201028824,
      0.04477326199412346,
      0.057588253170251846,
      -0.028320414945483208,
      -0.03506803885102272,
      0.009108731523156166,
      -0.03599473461508751,
      0.02358977310359478,
      -0.0131010040640831,
      0.06773193180561066,
      0.07265320420265198,
      -0.04449665546417236,
      -0.0393185056746006,
      0.05773499608039856,
      0.15817683935165405,
      0.026828425005078316,
      -0.00743776373565197,
      -0.0031298233661800623,
      -0.051571961492300034,
      0.00019688380416482687,
      0.023061007261276245,
      0.0506877563893795,
      -0.09312906861305237,
      0.027419213205575943,
      0.026341265067458153,
      -0.025681089609861374,
      0.0011408015852794051,
      0.009136483073234558,
      -0.14389647543430328,
      -0.044730328023433685,
      0.060161564499139786,
      0.02211497351527214,
      -0.021942200139164925,
      -0.06559586524963379,
      -0.06569270044565201,
      -0.004825447220355272,
      0.05758654698729515,
      -0.10631249845027924,
      0.06520644575357437,
      -0.013403606601059437,
      0.04849901795387268,
      -0.02873421087861061,
      0.045390889048576355,
      -0.045095283538103104,
      0.02547442354261875,
      0.014431451447308064,
      0.025751058012247086,
      0.03899942338466644,
      0.12251874804496765,
      0.07608801871538162,
      -0.09904887527227402,
      -0.14842967689037323,
      -0.05215625464916229,
      -0.012475907802581787,
      -0.04234268143773079,
      0.02736426144838333,
      0.09118922054767609,
      0.09414733946323395,
      -0.0047165872529149055,
      -0.05818309634923935,
      0.034574009478092194,
      0.1459437906742096,
      0.015929309651255608,
      0.04439065605401993,
      0.07959404587745667,
      0.006799980998039246,
      0.012004941701889038,
      0.044105298817157745,
      -0.05770067498087883,
      -4.9946375924037056e-08,
      -0.042329538613557816,
      0.0005461635300889611,
      0.0067756022326648235,
      0.09458839893341064,
      0.07107185572385788,
      0.03928152099251747,
      0.0032263409812003374,
      -0.07136467099189758,
      -0.043080054223537445,
      -0.1221303790807724,
      -0.01701979897916317,
      -0.03467457368969917,
      0.04879226163029671,
      0.0002247651427751407,
      0.015061849728226662,
      -0.04137032479047775,
      -0.02039746567606926,
      0.01605035737156868,
      -0.03427201136946678,
      -0.13186703622341156,
      0.052935678511857986,
      -0.010486696846783161,
      -0.05121409893035889,
      -0.004563044756650925,
      0.012272056192159653,
      0.030020534992218018,
      -0.027981171384453773,
      0.03707093372941017,
      -0.1108618676662445,
      -0.015928592532873154,
      0.07790680974721909,
      -0.029415462166070938,
      -0.04855137690901756,
      -0.0063779959455132484,
      -0.011699669994413853,
      0.0566081739962101,
      0.04037097468972206,
      -0.05483235791325569,
      0.05867284908890724,
      -0.011190858669579029,
      -0.051842302083969116,
      0.03143376484513283,
      -0.040739815682172775,
      0.01672094501554966,
      0.0277530699968338,
      0.004214784130454063,
      -0.06157861277461052,
      -0.15983682870864868,
      -0.012804459780454636,
      -0.04706193134188652,
      -0.02361922524869442,
      -0.11556494981050491,
      0.018157050013542175,
      0.05389771983027458,
      0.044500332325696945,
      0.01656675711274147,
      0.025386640802025795,
      -0.005033464170992374,
      -0.05383272096514702,
      -0.026140650734305382,
      0.08746051788330078,
      0.13630037009716034,
      -0.0002560653956606984,
      0.02164693921804428
    ]
  },
  {
    "id": "gpt_utils.py_build_followup_prompt",
    "filename": "gpt_utils.py",
    "function_name": "build_followup_prompt",
    "text": "## Function: build_followup_prompt (gpt_utils.py)\n\n```python\ndef build_followup_prompt(\n    analysis_text: str,\n    feedback_text: str,\n    user_question: str,\n    thread_summary: str = \"\",\n    ref_analysis_data: dict = None,   # NEW parameter\n) -> str:\n    \"\"\"\n        Constructs a detailed prompt for AI follow-up feedback based on prior analysis,\n        previous feedback, the user’s follow-up question, optional conversation summary,\n        and optionally reference track analysis data.\n\n        Parameters:\n            analysis_text (str): Text description of the audio analysis.\n            feedback_text (str): Previous AI feedback text.\n            user_question (str): User’s follow-up question.\n            thread_summary (str, optional): Summary of prior follow-up conversation for context.\n            ref_analysis_data (dict, optional): Reference track analysis for comparison.\n\n        Returns:\n            str: A formatted prompt string ready for submission to the AI model.\n        \"\"\"\n\n    # Clean and escape user question\n    user_question = re.sub(r\"[^\\w\\s.,!?@&$()\\-+=:;\\'\\\"/]\", \"\", user_question.strip())[:400]\n    user_question = html.escape(user_question)\n\n    ref_section = \"\"\n    if ref_analysis_data and isinstance(ref_analysis_data, dict):\n        ref_section = f\"\"\"\n        ### Reference Track Analysis (for comparison)\n        - Peak: {ref_analysis_data.get('peak_db', 'N/A')} dB\n        - RMS Peak: {ref_analysis_data.get('rms_db_peak', 'N/A')} dB\n        - LUFS: {ref_analysis_data.get('lufs', 'N/A')}\n        - Transients: {ref_analysis_data.get('transient_description', 'N/A')}\n        - Spectral balance note: {ref_analysis_data.get('spectral_balance_description', 'N/A')}\n        - Dynamic range: {ref_analysis_data.get('dynamic_range', 'N/A')}\n        - Stereo width: {ref_analysis_data.get('stereo_width', 'N/A')}\n        - Bass profile: {ref_analysis_data.get('low_end_description', '')}\n        \"\"\"\n    else:\n        print(\"Warning: ref_analysis_data missing or invalid:\", ref_analysis_data)\n\n    return f\"\"\"\nYou are a helpful and professional **audio engineer assistant**.\n\n{\"### Summary of Previous Conversation\\n\" + thread_summary + \"\\n\" if thread_summary else \"\"}\n\n### Track Analysis\n{analysis_text}\n\n{ref_section}\n\n### Prior Feedback\n{feedback_text}\n\n### User's Follow-Up Question\n\"{user_question}\"\n\n### Instructions\n- Use the analysis, feedback, and summary above as context.\n- Do **not** repeat the full analysis or feedback.\n- Answer the follow-up clearly and concisely.\n- Stay on topic and be technically helpful.\n- If the question is vague, use the existing context to infer intent.\n\nRespond below:\n\"\"\"\n```\n",
    "embedding": [
      -0.016718968749046326,
      0.044334374368190765,
      -0.04675072431564331,
      -0.0026567333843559027,
      -0.0010337140411138535,
      -0.011713298968970776,
      0.031836241483688354,
      0.06689483672380447,
      -0.0016217726515606046,
      -0.04727546498179436,
      -0.03208906576037407,
      -0.0528387650847435,
      0.010829112492501736,
      -0.02369830198585987,
      0.028583066537976265,
      0.039800893515348434,
      0.01434718631207943,
      -0.057730238884687424,
      -0.033703360706567764,
      -0.04765225201845169,
      0.0306167583912611,
      0.10295288264751434,
      0.09938471764326096,
      0.08167620748281479,
      -0.014935151673853397,
      -0.03501660376787186,
      0.031973619014024734,
      0.04930436611175537,
      0.019685234874486923,
      0.11901430040597916,
      0.040236204862594604,
      -0.015275266952812672,
      0.06400685012340546,
      0.05795222520828247,
      -0.010042844340205193,
      0.04568009823560715,
      -0.049634259194135666,
      0.007120172027498484,
      0.0002939265104942024,
      -0.005928860977292061,
      -0.059558819979429245,
      -0.013225897215306759,
      -0.03436380997300148,
      -0.0402374304831028,
      -0.012898171320557594,
      -0.07701265066862106,
      -0.08131370693445206,
      -0.0053797196596860886,
      0.028067683801054955,
      0.0191974975168705,
      -0.08566123247146606,
      -0.04893260821700096,
      -0.0335589200258255,
      -0.0073699201457202435,
      0.02546151913702488,
      0.0507483072578907,
      -0.005730456206947565,
      -0.03294173255562782,
      0.04385828226804733,
      -0.10229115933179855,
      -0.039991989731788635,
      -0.09968345612287521,
      0.005681957583874464,
      0.03899780288338661,
      -0.03185334801673889,
      0.006170665379613638,
      -0.0697360709309578,
      0.06907305866479874,
      0.043042395263910294,
      0.0766637846827507,
      -0.09952045232057571,
      0.06507129967212677,
      -0.0513177327811718,
      0.053994081914424896,
      -0.019356107339262962,
      0.025986727327108383,
      -0.04228190705180168,
      -0.03260765224695206,
      -0.019851185381412506,
      -0.029755601659417152,
      -0.020731842145323753,
      -0.060495298355817795,
      0.03809154033660889,
      0.04825432598590851,
      0.062061749398708344,
      -0.03678462654352188,
      0.09667929261922836,
      0.022821592167019844,
      -0.00421670638024807,
      0.007499475963413715,
      0.01157748606055975,
      -0.06197930872440338,
      0.014305186457931995,
      0.0013527842238545418,
      0.0025495528243482113,
      0.06632078438997269,
      -0.08597857505083084,
      -0.12118708342313766,
      -0.0103183938190341,
      0.026347551494836807,
      0.0237012580037117,
      0.0171514842659235,
      0.04299599304795265,
      -0.04743025451898575,
      -0.08364899456501007,
      0.019480682909488678,
      -0.01683838665485382,
      0.014672007411718369,
      0.026994425803422928,
      -0.026346342638134956,
      -0.06036829203367233,
      -0.032429102808237076,
      -0.017559751868247986,
      -0.014315473847091198,
      0.07609562575817108,
      -0.013973770663142204,
      0.03965013101696968,
      0.007921373471617699,
      0.031017974019050598,
      0.07915598154067993,
      0.14911413192749023,
      -0.008680201135575771,
      -0.044797807931900024,
      0.04829081892967224,
      0.04036511853337288,
      -0.0685509666800499,
      -0.01748017407953739,
      2.465632461628365e-33,
      0.04528137668967247,
      0.0015162922209128737,
      0.055211346596479416,
      0.026302671059966087,
      0.013938547112047672,
      0.03612460568547249,
      -0.033071890473365784,
      0.028831923380494118,
      -0.009462191723287106,
      -0.06411189585924149,
      -0.011748779565095901,
      0.002934040268883109,
      0.02797214314341545,
      -0.05682794004678726,
      -0.02176702208817005,
      -0.016352565959095955,
      -0.027583103626966476,
      0.08922818303108215,
      -0.009194652549922466,
      0.009886746294796467,
      0.007461149711161852,
      -0.0029342202469706535,
      -0.013809014111757278,
      0.02219099923968315,
      0.08341086655855179,
      -0.01438942737877369,
      0.03301572427153587,
      -0.00974967796355486,
      -0.010442780330777168,
      -0.016918137669563293,
      -0.13144266605377197,
      -0.088540218770504,
      -0.03825017064809799,
      -0.003135068342089653,
      -6.797907644795487e-06,
      0.027390146628022194,
      0.04226849600672722,
      -0.041837748140096664,
      -0.011815385892987251,
      -0.04715333878993988,
      0.0029691532254219055,
      -0.011684554629027843,
      0.003398814471438527,
      -0.0012601353228092194,
      -0.0812603235244751,
      -0.05467204377055168,
      -0.05833059549331665,
      0.038681309670209885,
      0.014778087846934795,
      0.0382799468934536,
      -0.006688069086521864,
      0.0025320665445178747,
      -0.021508343517780304,
      -0.07146185636520386,
      -0.05163602530956268,
      -0.04137665778398514,
      -0.02321000024676323,
      0.012710100039839745,
      0.022484857589006424,
      -0.06347355991601944,
      0.024371162056922913,
      0.09003443270921707,
      0.044656336307525635,
      0.020482290536165237,
      0.0020034953486174345,
      0.019321259111166,
      -0.03828505799174309,
      0.015531085431575775,
      0.08875270187854767,
      0.020156409591436386,
      -0.09504958987236023,
      0.01028455514460802,
      -0.08916257321834564,
      -0.021294616162776947,
      0.023348459973931313,
      -0.036649271845817566,
      -0.07363276928663254,
      -0.07393311709165573,
      0.041263651102781296,
      -0.004858721513301134,
      -0.0006885916809551418,
      -0.03871535882353783,
      -0.08933603018522263,
      -0.03180811181664467,
      -0.044425610452890396,
      -0.04132932424545288,
      0.05601397156715393,
      -0.03347303718328476,
      -0.06513415277004242,
      -0.08688917756080627,
      -0.07236676663160324,
      0.012604955583810806,
      -0.08825375884771347,
      0.06468471884727478,
      0.03228344768285751,
      -4.99669146945556e-33,
      0.06522656977176666,
      -0.032092079520225525,
      0.0035274135880172253,
      0.03711644560098648,
      0.04148096218705177,
      -0.021600784733891487,
      -0.01586608774960041,
      -0.007810941897332668,
      0.13088200986385345,
      -0.07304174453020096,
      -0.018258441239595413,
      -0.07841186225414276,
      0.008461454883217812,
      0.022072460502386093,
      0.07453478127717972,
      0.03695736825466156,
      -0.06247188523411751,
      0.02444879710674286,
      -0.009737055748701096,
      0.01816629059612751,
      -0.033305536955595016,
      0.057905517518520355,
      -0.06802961975336075,
      -0.051200222223997116,
      -0.05794603377580643,
      -0.01900414191186428,
      0.10773377120494843,
      -0.003378594061359763,
      0.08936319500207901,
      -0.027603354305028915,
      -0.05807780846953392,
      0.007707257755100727,
      -0.0234973281621933,
      0.05078767240047455,
      -0.054961908608675,
      0.04951086267828941,
      0.06682372838258743,
      -0.08149222284555435,
      -0.03655826300382614,
      0.06096293404698372,
      0.16272112727165222,
      0.06528683006763458,
      0.004610401578247547,
      -0.018111271783709526,
      -0.04689142853021622,
      -0.021472759544849396,
      0.035562027245759964,
      0.06954986602067947,
      -0.06516986340284348,
      -0.0058387769386172295,
      0.01513369008898735,
      -0.03012653812766075,
      -0.009776825085282326,
      0.009028167463839054,
      -0.1368100792169571,
      -0.03106909804046154,
      0.03966181352734566,
      -0.007254915777593851,
      -0.0340716578066349,
      -0.0594492107629776,
      -0.04905052110552788,
      0.04915536195039749,
      0.05293526127934456,
      -0.08225211501121521,
      0.04262907803058624,
      -0.04223418980836868,
      0.01220288872718811,
      -0.021591341122984886,
      0.022203562781214714,
      -0.05134778842329979,
      -0.014401866123080254,
      -0.0009990254184231162,
      0.0018242362421005964,
      0.004392778500914574,
      0.09358526766300201,
      0.06639699637889862,
      -0.09230850636959076,
      -0.12556281685829163,
      -0.03212982043623924,
      0.01838584989309311,
      -0.02185702882707119,
      0.02997208945453167,
      0.07334448397159576,
      0.08526117354631424,
      -0.03906085342168808,
      -0.027490980923175812,
      0.005445041693747044,
      0.1768147051334381,
      -0.01627374067902565,
      0.022798355668783188,
      0.05674019083380699,
      -0.016901884227991104,
      0.03909916430711746,
      0.05785643309354782,
      -0.06701739132404327,
      -5.507315137265323e-08,
      -0.03706715628504753,
      0.03223256766796112,
      0.04332014173269272,
      0.11095542460680008,
      0.056078918278217316,
      -0.003325727302581072,
      0.02217572182416916,
      -0.08249621093273163,
      -0.03396056964993477,
      -0.07547349482774734,
      0.012989567592740059,
      -0.012018016539514065,
      0.011440370231866837,
      -0.020325448364019394,
      -0.02318246103823185,
      -0.0007171559846028686,
      -0.013974948786199093,
      0.027796175330877304,
      -0.03393036872148514,
      -0.07373446226119995,
      0.033723846077919006,
      -0.009354379959404469,
      -0.07443331182003021,
      0.012261483818292618,
      0.033305685967206955,
      0.06911031901836395,
      -0.03588399291038513,
      0.05378800258040428,
      -0.10444964468479156,
      -0.01119571179151535,
      0.09712440520524979,
      0.006306875497102737,
      -0.021935487166047096,
      -0.021583132445812225,
      -0.005983129143714905,
      0.025401219725608826,
      0.08281978964805603,
      -0.007647221442312002,
      0.03630879148840904,
      0.003215291304513812,
      -0.04425940662622452,
      0.05158425495028496,
      -0.051546014845371246,
      0.014672897756099701,
      0.007560154888778925,
      -0.017791753634810448,
      -0.0383744090795517,
      -0.09788291156291962,
      -0.03196791559457779,
      -0.06862305849790573,
      -0.01709170639514923,
      -0.0832735151052475,
      0.011052739806473255,
      0.040895529091358185,
      0.04888525232672691,
      0.055272821336984634,
      0.01868358813226223,
      0.06528470665216446,
      -0.10210240632295609,
      -0.04376805201172829,
      0.10402703285217285,
      0.11884085088968277,
      0.015264943242073059,
      0.050959061831235886
    ]
  },
  {
    "id": "audio_analysis.py_detect_key",
    "filename": "audio_analysis.py",
    "function_name": "detect_key",
    "text": "## Function: detect_key (audio_analysis.py)\n\n```python\ndef detect_key(y, sr):\n    chroma = librosa.feature.chroma_cqt(y=y, sr=sr)\n    chroma_mean = np.mean(chroma, axis=1)\n\n    major_profile = np.array([6.35, 2.23, 3.48, 2.33, 4.38, 4.09,\n                              2.52, 5.19, 2.39, 3.66, 2.29, 2.88])\n    minor_profile = np.array([6.33, 2.68, 3.52, 5.38, 2.60, 3.53,\n                              2.54, 4.75, 3.98, 2.69, 3.34, 3.17])\n\n    best_corr = -1\n    best_key = \"\"\n    note_names = ['C', 'C#', 'D', 'D#', 'E', 'F',\n                  'F#', 'G', 'G#', 'A', 'A#', 'B']\n    for i in range(12):\n        corr_major = np.corrcoef(np.roll(major_profile, i), chroma_mean)[0, 1]\n        corr_minor = np.corrcoef(np.roll(minor_profile, i), chroma_mean)[0, 1]\n\n        if corr_major > best_corr:\n            best_corr = corr_major\n            best_key = f\"{note_names[i]} Major\"\n        if corr_minor > best_corr:\n            best_corr = corr_minor\n            best_key = f\"{note_names[i]} minor\"\n\n    return best_key\n```\n",
    "embedding": [
      0.02198018692433834,
      -0.03763006627559662,
      -0.02229352854192257,
      -0.08421254903078079,
      0.02017064578831196,
      0.03303447365760803,
      0.037512682378292084,
      0.03884529694914818,
      -0.07617238163948059,
      -0.0503661185503006,
      -0.012120969593524933,
      -0.04674936458468437,
      0.017412927001714706,
      0.014117964543402195,
      -0.033715300261974335,
      0.035317957401275635,
      0.003864872269332409,
      0.013910301961004734,
      0.024013986811041832,
      -0.14186345040798187,
      -0.00996012520045042,
      0.005055652000010014,
      0.02619505673646927,
      0.002081073122099042,
      0.03515604883432388,
      0.08575296401977539,
      -0.035451799631118774,
      0.06722791492938995,
      -0.024210454896092415,
      -0.014770153909921646,
      -0.03822782635688782,
      0.0667552724480629,
      0.10707605630159378,
      0.014082497917115688,
      -0.036987368017435074,
      -0.0334731750190258,
      -0.06825153529644012,
      -0.041510067880153656,
      0.02386792190372944,
      -0.015904271975159645,
      -0.029531000182032585,
      0.04423101618885994,
      0.019823728129267693,
      -0.05657925829291344,
      -0.0015189427649602294,
      -0.05048001557588577,
      -0.11950614303350449,
      0.009496177546679974,
      -0.0246839988976717,
      0.03094564378261566,
      -0.060965970158576965,
      0.005217971280217171,
      -0.10057087987661362,
      0.02433757483959198,
      0.007769261486828327,
      0.009886588901281357,
      0.0341043658554554,
      -0.08803606033325195,
      0.16369220614433289,
      -0.04707450419664383,
      -0.0037570390850305557,
      -0.05412979796528816,
      0.050563570111989975,
      -0.005501223262399435,
      0.022926917299628258,
      -0.0033579475712031126,
      -0.023990921676158905,
      -0.016841765493154526,
      -0.007377753034234047,
      0.06813287734985352,
      -0.020002590492367744,
      0.01406971924006939,
      0.004826898220926523,
      -0.014097209088504314,
      -0.01972738653421402,
      -0.023362068459391594,
      -0.0032368472311645746,
      -0.06740926206111908,
      -0.04470483586192131,
      0.03527197241783142,
      -0.046326134353876114,
      -0.037912704050540924,
      -0.0001253853115485981,
      0.02731988951563835,
      0.04012725129723549,
      -0.029980862513184547,
      -0.0013910760171711445,
      -0.09949217736721039,
      -0.05653906241059303,
      0.011590245179831982,
      -0.05152645334601402,
      -0.03690911829471588,
      -0.007973653264343739,
      -0.035452622920274734,
      0.0017618562560528517,
      0.06537390500307083,
      0.09449522197246552,
      -0.10207362473011017,
      0.03601737692952156,
      0.05154374614357948,
      0.0243577491492033,
      -0.09240031242370605,
      -0.003941879142075777,
      -0.08451039344072342,
      0.08508647978305817,
      0.023387664929032326,
      0.08333580940961838,
      -0.012631362304091454,
      0.02879241295158863,
      -0.05785204842686653,
      -0.06232400983572006,
      -0.014909300953149796,
      -0.007081375923007727,
      0.0008568835910409689,
      0.07848714292049408,
      0.05853481590747833,
      0.06648966670036316,
      0.10485509037971497,
      0.031479958444833755,
      0.05570945143699646,
      0.05569807067513466,
      -0.039306458085775375,
      0.0005622355383820832,
      0.024129457771778107,
      -0.04916670173406601,
      0.056611400097608566,
      -0.0319196991622448,
      1.4119913245802543e-33,
      -0.013862386345863342,
      -0.032596804201602936,
      -0.026564912870526314,
      -0.10082326829433441,
      0.050838496536016464,
      -0.02368675172328949,
      -0.028490418568253517,
      0.03945903107523918,
      -0.012829654850065708,
      0.04129265993833542,
      -0.01677418127655983,
      0.04122374579310417,
      -0.06723302602767944,
      -0.031619470566511154,
      0.014976529404520988,
      0.002398774726316333,
      -0.034894783049821854,
      0.0775446742773056,
      -0.07733774185180664,
      -0.023699255660176277,
      -0.02807323820888996,
      -0.037139665335416794,
      0.061203114688396454,
      -0.03511006385087967,
      0.03165162354707718,
      -0.050380416214466095,
      0.014399242587387562,
      -0.04973805323243141,
      -0.007371635641902685,
      -0.013972305692732334,
      -0.05084219574928284,
      0.029397906735539436,
      -0.01002634596079588,
      -0.03660719841718674,
      -0.009720969945192337,
      -0.04906411096453667,
      -0.003980036359280348,
      0.045893508940935135,
      -0.024955477565526962,
      -0.03918629512190819,
      -0.004775880370289087,
      0.023561155423521996,
      -0.01391660887748003,
      -0.07873475551605225,
      -0.05101687088608742,
      0.03304966539144516,
      -0.05762648954987526,
      0.08996123820543289,
      0.020831070840358734,
      0.04932789131999016,
      -0.02146238647401333,
      -0.01494466233998537,
      -0.02022620663046837,
      0.059505682438611984,
      -0.10095839947462082,
      0.02145601250231266,
      0.08216596394777298,
      0.043472643941640854,
      0.04647180810570717,
      -0.029686899855732918,
      0.030708661302924156,
      0.01826254278421402,
      0.02885599620640278,
      -0.0518803633749485,
      0.01706787571310997,
      -0.01666880026459694,
      0.02443361096084118,
      0.005910414736717939,
      0.06382205337285995,
      0.02361924760043621,
      -0.009846857748925686,
      -0.011927272193133831,
      -0.013413701206445694,
      -0.0629240944981575,
      -0.004521443974226713,
      -0.0415663868188858,
      -0.004375875927507877,
      0.031063884496688843,
      -0.023370392620563507,
      -0.10183393210172653,
      0.020060095936059952,
      0.06170898675918579,
      -0.0038292091339826584,
      -0.11811630427837372,
      -0.012175132520496845,
      0.015055875293910503,
      -0.01885026879608631,
      -0.11951067298650742,
      -0.07877033948898315,
      -0.05184970051050186,
      -0.11576110124588013,
      0.04660171642899513,
      0.009610901586711407,
      -0.006690314505249262,
      -0.07281159609556198,
      -2.8774187856389666e-33,
      -0.00495542399585247,
      0.041197605431079865,
      0.15339870750904083,
      0.04396873340010643,
      0.04870705306529999,
      -0.014613472856581211,
      0.018493160605430603,
      0.014996731653809547,
      0.06256052106618881,
      0.028431309387087822,
      0.06715470552444458,
      -0.04010884836316109,
      0.03719555214047432,
      -0.07620573788881302,
      0.1097143366932869,
      0.04755299538373947,
      -0.06090686470270157,
      0.06014814227819443,
      0.0033186515793204308,
      0.02354869805276394,
      -0.0038475224282592535,
      -0.010203585959970951,
      -0.07727315276861191,
      0.09320970624685287,
      -0.0730067789554596,
      0.06135352700948715,
      -0.013482474721968174,
      -0.07430125027894974,
      -0.05791004002094269,
      -0.08947935700416565,
      -0.056132156401872635,
      0.06762375682592392,
      -0.1348784863948822,
      0.02836410328745842,
      -0.0002317688486073166,
      -0.06277253478765488,
      -0.012713020667433739,
      -0.03988425061106682,
      -0.08877412229776382,
      0.06875260919332504,
      0.08125860244035721,
      0.09551826864480972,
      -0.017927922308444977,
      -0.014602648094296455,
      0.012317695654928684,
      0.0282590351998806,
      0.06482002884149551,
      0.043389737606048584,
      -0.02044251188635826,
      0.03486969321966171,
      0.020596692338585854,
      0.0032707678619772196,
      -0.004746740218251944,
      0.04344950243830681,
      -0.07576856762170792,
      0.04504528269171715,
      -0.033466637134552,
      0.031086638569831848,
      -0.04403156042098999,
      -0.02849525213241577,
      0.04545259848237038,
      -0.06113056838512421,
      -0.019991248846054077,
      -0.0016088987467810512,
      0.059675246477127075,
      -0.02472928911447525,
      0.010867396369576454,
      -0.007666273973882198,
      -0.008506477810442448,
      0.02404005080461502,
      0.013796371407806873,
      0.056356221437454224,
      0.03218596801161766,
      -0.06774788349866867,
      -0.04176332801580429,
      0.009268339723348618,
      -0.08416935056447983,
      -0.10959143191576004,
      -0.07832358032464981,
      -0.024748122319579124,
      -0.010435957461595535,
      0.0033966507762670517,
      0.09713663905858994,
      0.0348907932639122,
      -0.044589970260858536,
      0.075225830078125,
      0.016206635162234306,
      -0.0069617233239114285,
      0.021726178005337715,
      0.055264271795749664,
      -0.008554148487746716,
      0.035809699445962906,
      -0.013316935859620571,
      -0.014687635935842991,
      0.024832751601934433,
      -5.625228993721976e-08,
      -0.03064936213195324,
      -0.040733665227890015,
      -0.11090292036533356,
      0.00959790963679552,
      -0.005532929208129644,
      -0.01065310649573803,
      -0.06144705042243004,
      -0.020381400361657143,
      0.029807431623339653,
      -0.07335186749696732,
      0.0731363445520401,
      -0.03168591484427452,
      -0.04899807646870613,
      0.0460316501557827,
      -0.04386577755212784,
      -0.004577199928462505,
      -0.067893385887146,
      0.11416331678628922,
      -0.007468369789421558,
      -0.021602673456072807,
      0.05026867985725403,
      0.07414833456277847,
      0.10619919747114182,
      0.03483559563755989,
      -0.027347667142748833,
      -0.012016510590910912,
      0.015150058083236217,
      0.08241061121225357,
      0.03841012343764305,
      0.05542367696762085,
      -0.0020755401346832514,
      -0.024243971332907677,
      0.053925495594739914,
      -0.06192285194993019,
      0.11245734989643097,
      0.0431772843003273,
      0.006104194093495607,
      0.012682316824793816,
      -0.06650560349225998,
      0.0822727382183075,
      -0.0014473504852503538,
      0.06911110877990723,
      -0.1282421052455902,
      0.01015441957861185,
      -0.004846242256462574,
      -0.035836007446050644,
      0.09804768860340118,
      -0.004225581884384155,
      0.08931560814380646,
      0.032223451882600784,
      0.04044514149427414,
      -0.0468703992664814,
      -0.016141491010785103,
      -0.026958055794239044,
      0.026805419474840164,
      0.0397016815841198,
      -0.02372094988822937,
      0.12082876265048981,
      -0.04328500106930733,
      -0.05838644132018089,
      0.03727741166949272,
      0.008874754421412945,
      0.05612272769212723,
      -0.03414576128125191
    ]
  },
  {
    "id": "audio_analysis.py_compute_band_energies",
    "filename": "audio_analysis.py",
    "function_name": "compute_band_energies",
    "text": "## Function: compute_band_energies (audio_analysis.py)\n\n```python\ndef compute_band_energies(S, freqs):\n    bands = {\n        \"sub\": (20, 60),\n        \"low\": (60, 250),\n        \"low-mid\": (250, 500),\n        \"mid\": (500, 2000),\n        \"high-mid\": (2000, 4000),\n        \"high\": (4000, 8000),\n        \"air\": (8000, 16000)\n    }\n\n    total_energy = np.sum(S)\n    band_energies = {}\n\n    for band, (low, high) in bands.items():\n        mask = (freqs >= low) & (freqs < high)\n        band_energy = np.sum(S[mask])\n        band_energies[band] = round(float(band_energy / (total_energy + 1e-9)), 4)\n\n    return band_energies\n```\n",
    "embedding": [
      0.03607439622282982,
      0.02169899083673954,
      -0.0618923120200634,
      0.039566025137901306,
      -0.05380214750766754,
      -0.07837985455989838,
      0.05659004673361778,
      0.025571424514055252,
      -0.0033552711829543114,
      -0.020495440810918808,
      -0.07466266304254532,
      -0.121177539229393,
      0.008533927612006664,
      -0.06301014125347137,
      0.07024986296892166,
      0.03141981363296509,
      0.02487541176378727,
      0.01866835355758667,
      -0.07088509202003479,
      -0.11182896792888641,
      0.0641806572675705,
      0.014577239751815796,
      0.04753585904836655,
      0.0006464941543526947,
      0.1079978421330452,
      -0.01876787096261978,
      -0.07182629406452179,
      0.027754822745919228,
      0.021741056814789772,
      0.03131451830267906,
      0.01746150106191635,
      0.08808659017086029,
      0.07302098721265793,
      0.008493360131978989,
      -0.020744726061820984,
      -0.02537260763347149,
      -0.03132743015885353,
      0.03699754551053047,
      -0.01594867929816246,
      0.043530259281396866,
      -0.023659411817789078,
      0.03651777654886246,
      0.09254468232393265,
      -0.059621162712574005,
      -0.05385826528072357,
      -0.01097503025084734,
      -0.05926832929253578,
      0.00666786776855588,
      0.0029719022568315268,
      0.0053146593272686005,
      0.098801389336586,
      -0.031300973147153854,
      -0.04277253895998001,
      0.0668867826461792,
      -0.030889667570590973,
      0.003306862199679017,
      0.015842100605368614,
      -0.08055250346660614,
      0.07934590429067612,
      -0.06974087655544281,
      -0.008266240358352661,
      -0.06104624643921852,
      -0.015047992579638958,
      -0.04145284742116928,
      0.08857739716768265,
      -0.014103139750659466,
      0.018959403038024902,
      -0.019726382568478584,
      -0.04290376976132393,
      0.08948320895433426,
      0.0033629052340984344,
      0.0011657190043479204,
      -0.0010244708973914385,
      -0.00715542770922184,
      0.05841603875160217,
      0.033226218074560165,
      0.056947387754917145,
      0.042400602251291275,
      0.002144656842574477,
      -0.0016743234591558576,
      0.04896368831396103,
      -0.0553174689412117,
      -0.04054107889533043,
      -0.043957799673080444,
      0.05756125971674919,
      0.01720476895570755,
      0.05853641778230667,
      0.02217189595103264,
      -0.023714663460850716,
      -0.051325421780347824,
      -0.07224315404891968,
      0.03768618032336235,
      -0.03809976205229759,
      -0.010278272442519665,
      -0.028961561620235443,
      0.049420613795518875,
      0.0342852920293808,
      -0.056132540106773376,
      0.041689034551382065,
      0.031038464978337288,
      0.051525264978408813,
      -0.0563274584710598,
      0.013106628321111202,
      -0.03165227919816971,
      -0.014435432851314545,
      -0.019326945766806602,
      0.03690992668271065,
      0.12074051797389984,
      -0.04625794664025307,
      0.005336056463420391,
      -0.027767755091190338,
      0.007096411194652319,
      0.02502298355102539,
      0.022066103294491768,
      0.05939382687211037,
      0.05270792171359062,
      -4.398629243951291e-05,
      0.1089944988489151,
      0.01168858166784048,
      0.038738589733839035,
      0.02944139763712883,
      0.0389314703643322,
      0.057348109781742096,
      0.056928351521492004,
      -0.022724002599716187,
      -0.03156286105513573,
      -0.0714229866862297,
      2.631272839970672e-33,
      -0.058980636298656464,
      -0.017208820208907127,
      0.04041345790028572,
      -0.07758122682571411,
      0.028880581259727478,
      -0.07193715870380402,
      -0.09962891042232513,
      -0.025902915745973587,
      -0.009883708320558071,
      0.07838891446590424,
      -0.08759922534227371,
      0.07239174097776413,
      0.026457570493221283,
      -0.04038859158754349,
      0.001257707946933806,
      -0.05100209265947342,
      0.005446337629109621,
      -0.010052433237433434,
      -0.005685882642865181,
      -0.0763600692152977,
      -0.08785200864076614,
      -0.017293907701969147,
      0.05346028506755829,
      0.05444752424955368,
      0.01019494328647852,
      0.019299833104014397,
      0.0034942529164254665,
      -0.029900331050157547,
      -0.07050422579050064,
      0.02016507089138031,
      0.017440536990761757,
      -0.009386470541357994,
      0.002550066215917468,
      -0.0920482948422432,
      -0.017981287091970444,
      0.04491231217980385,
      0.10400388389825821,
      0.0938699021935463,
      0.058138612657785416,
      -0.04179436340928078,
      0.015630973502993584,
      0.05025402083992958,
      0.06823308765888214,
      -0.014814595691859722,
      0.011598197743296623,
      0.03515889495611191,
      0.004850039258599281,
      0.04505500569939613,
      0.0017992554930970073,
      0.08630908280611038,
      -0.07515402883291245,
      -0.0839952826499939,
      -0.01319847907871008,
      0.06063103675842285,
      0.014085963368415833,
      -0.02032860554754734,
      0.08514297753572464,
      0.061231084167957306,
      0.04975390061736107,
      -0.04465271532535553,
      0.042809758335351944,
      0.05819588154554367,
      0.051084671169519424,
      -0.04088791087269783,
      0.0030335423070937395,
      0.02673889696598053,
      -0.008300035260617733,
      0.0232707429677248,
      -0.003578480100259185,
      0.021981045603752136,
      0.013115140609443188,
      0.036019254475831985,
      0.05989439785480499,
      -0.016228951513767242,
      0.050735145807266235,
      -0.03411596268415451,
      0.014163612388074398,
      -0.03966990113258362,
      -0.05709774047136307,
      -0.03587132319808006,
      -0.00366364442743361,
      0.06950923055410385,
      0.022163668647408485,
      -0.1184682622551918,
      -0.0912737175822258,
      -0.057919472455978394,
      -0.02865547686815262,
      -0.01178310438990593,
      -0.11365582793951035,
      -0.05987701937556267,
      -0.16554827988147736,
      -0.038609717041254044,
      0.0825018435716629,
      -0.011428600177168846,
      -0.0763021931052208,
      -3.368384572411034e-33,
      -0.04555794596672058,
      0.14507190883159637,
      0.06345479190349579,
      0.017566204071044922,
      0.04879561811685562,
      0.019147304818034172,
      0.04496363177895546,
      0.028454573825001717,
      0.05225921422243118,
      0.03339938819408417,
      0.07288192957639694,
      -0.07589128613471985,
      -0.019384924322366714,
      -0.08369110524654388,
      0.032462216913700104,
      -0.018752438947558403,
      -0.05914590507745743,
      0.03167189657688141,
      0.04552612081170082,
      0.03346172720193863,
      -0.052157483994960785,
      0.022047292441129684,
      0.041144534945487976,
      0.033611420542001724,
      -0.13582928478717804,
      0.02107301354408264,
      0.0035898813512176275,
      -0.09087803959846497,
      -0.005472931545227766,
      -0.05319083482027054,
      -0.09982337802648544,
      -0.009578282944858074,
      -0.032719582319259644,
      -0.006157989148050547,
      -0.04864007979631424,
      -0.03549366071820259,
      0.05912976711988449,
      0.019779428839683533,
      -0.052514709532260895,
      -0.11406920105218887,
      0.014949798583984375,
      0.08279496431350708,
      0.0283662136644125,
      -0.07716263085603714,
      0.018146399408578873,
      0.024357939139008522,
      0.05025305226445198,
      -0.01777411438524723,
      -0.07180032134056091,
      -0.08398821204900742,
      0.07444548606872559,
      -0.03732580319046974,
      -0.023700397461652756,
      0.05392743647098541,
      -0.03320031613111496,
      0.04181421548128128,
      -0.027876505628228188,
      -0.03770909458398819,
      -0.040172453969717026,
      -0.08559221029281616,
      -0.06600194424390793,
      -0.07044390588998795,
      -0.029433943331241608,
      0.007192752789705992,
      0.007418770343065262,
      0.051620520651340485,
      -0.07725860923528671,
      -0.014334348030388355,
      0.023112457245588303,
      0.045049041509628296,
      -0.026444608345627785,
      0.06416220217943192,
      0.04138076677918434,
      -0.010451027192175388,
      -0.04329893738031387,
      0.024432096630334854,
      -0.05250139161944389,
      -0.07668264210224152,
      -0.004915821366012096,
      0.05103820189833641,
      -0.11324194073677063,
      0.05818634107708931,
      0.0021508370991796255,
      -0.014637300744652748,
      -0.018263274803757668,
      -0.019556518644094467,
      0.001511956099420786,
      -0.011610769666731358,
      0.00946623645722866,
      0.07009288668632507,
      0.019130747765302658,
      0.009085877798497677,
      0.07915276288986206,
      0.010996909812092781,
      0.07537360489368439,
      -4.668387632023041e-08,
      0.05154326558113098,
      -0.06340455263853073,
      -0.005655496846884489,
      -0.005624847952276468,
      0.014257746748626232,
      0.0036635007709264755,
      -0.004519961308687925,
      -0.033769458532333374,
      0.009879094548523426,
      -0.05981585755944252,
      0.060524288564920425,
      -0.043787360191345215,
      0.035560764372348785,
      0.031372178345918655,
      -0.05655037239193916,
      -0.015264914371073246,
      -0.05048002302646637,
      0.09080418944358826,
      -0.007474279496818781,
      -0.07433881610631943,
      -0.0036536853294819593,
      0.0014127595350146294,
      0.11892149597406387,
      -0.03669920563697815,
      0.022684521973133087,
      0.015386976301670074,
      -0.035919614136219025,
      -0.06639660149812698,
      0.025852443650364876,
      0.050304390490055084,
      -0.06590502709150314,
      -0.06075471267104149,
      -0.034514520317316055,
      0.05962264910340309,
      -0.01903071068227291,
      -0.03603716194629669,
      -0.06684593856334686,
      0.0465693324804306,
      -0.01849834993481636,
      0.12002269178628922,
      -0.06837329268455505,
      -0.014528295956552029,
      0.023684309795498848,
      0.017435666173696518,
      0.057075951248407364,
      -0.00360492174513638,
      0.0033107430208474398,
      0.035901106894016266,
      0.05458677187561989,
      0.06445442140102386,
      0.013974801637232304,
      0.010707139037549496,
      -0.0539768785238266,
      -0.06481577455997467,
      -0.012697622179985046,
      -0.022557782009243965,
      -0.07107415795326233,
      0.048757024109363556,
      -0.06332513689994812,
      -0.04496739059686661,
      0.015472888015210629,
      -0.02351996675133705,
      -0.05925503000617027,
      -0.03883404657244682
    ]
  },
  {
    "id": "audio_analysis.py_describe_low_end_profile",
    "filename": "audio_analysis.py",
    "function_name": "describe_low_end_profile",
    "text": "## Function: describe_low_end_profile (audio_analysis.py)\n\n```python\ndef describe_low_end_profile(ratio: float, genre: str = None) -> str:\n    genre = (genre or \"\").lower()\n\n    bass_driven = {\"electronic\", \"hiphop\", \"rnb\"}\n    balanced = {\"pop\", \"rock\", \"indie\", \"reggae\", \"funk\", \"soul\", \"classic\"}\n    less_bassy = {\"punk\", \"metal\", \"jazz\", \"country\", \"folk\"}\n\n    if genre in bass_driven:\n        if ratio < 0.08:\n            return f\"Low-end is light for {genre}. Consider boosting the bass or sub for fullness.\"\n        elif ratio < 0.28:\n            return f\"Low-end feels balanced for bass-driven music.\"\n        elif ratio < 0.45:\n            return f\"Low-end is elevated — still genre-typical. No changes needed unless masking is audible.\"\n        else:\n            return f\"Low-end is very strong — double-check clarity in the sub region.\"\n\n    elif genre in balanced:\n        if ratio < 0.05:\n            return f\"Low-end is light — may sound thin or underpowered for {genre}.\"\n        elif ratio < 0.20:\n            return f\"Low-end feels appropriate and balanced for this style.\"\n        elif ratio < 0.35:\n            return f\"Low-end is strong — possibly a stylistic choice, but check for mud or masking.\"\n        else:\n            return f\"Low-end is very heavy — could overwhelm mids or make the mix feel boomy.\"\n\n    elif genre in less_bassy:\n        if ratio < 0.03:\n            return f\"Low-end is very light — likely appropriate for {genre}.\"\n        elif ratio < 0.12:\n            return f\"Low-end feels balanced and controlled for this genre.\"\n        elif ratio < 0.25:\n            return f\"Low-end is on the heavier side — may still work, but ensure it doesn't obscure midrange clarity.\"\n        else:\n            return f\"Low-end is unusually strong for {genre} — might overpower vocals or acoustic instruments.\"\n\n    else:\n        # Fallback for unknown genres\n        if ratio < 0.05:\n            return \"Low-end is very light — might feel thin unless intentional.\"\n        elif ratio < 0.15:\n            return \"Low-end is on the light side, but may be fine for minimal or acoustic styles.\"\n        elif ratio < 0.30:\n            return \"Low-end appears balanced — acceptable for many genres.\"\n        elif ratio < 0.45:\n            return \"Low-end is strong — stylistic, but check for muddiness.\"\n        else:\n            return \"Low-end is very dominant — could overwhelm mids or cause translation issues.\"\n```\n",
    "embedding": [
      0.06541075557470322,
      0.004263423848897219,
      -0.004524679388850927,
      -0.007312831934541464,
      0.0455581434071064,
      -0.004585690796375275,
      0.017379486933350563,
      0.039251066744327545,
      -0.049381889402866364,
      -0.08664663136005402,
      -0.041751738637685776,
      -0.0974840298295021,
      -0.006322888657450676,
      0.008494598791003227,
      0.07245589792728424,
      0.05093618482351303,
      0.041668593883514404,
      0.016600679606199265,
      -0.021329199895262718,
      -0.05685818940401077,
      0.0607638880610466,
      0.06381935626268387,
      0.04894668981432915,
      0.016168653964996338,
      -0.02299291454255581,
      -0.05634940043091774,
      -0.0524430014193058,
      0.09084175527095795,
      -0.02068857103586197,
      -0.0038981358520686626,
      0.010997768491506577,
      0.11830649524927139,
      0.08020759373903275,
      -0.01033832784742117,
      -0.025895537808537483,
      0.007997228763997555,
      -0.05757373943924904,
      -0.0019125838298350573,
      0.022718869149684906,
      0.05526971071958542,
      -0.02819453738629818,
      0.022292958572506905,
      -0.03702246770262718,
      -0.010209957137703896,
      -0.046502549201250076,
      -0.02148417942225933,
      -0.13210536539554596,
      -0.012765425257384777,
      -0.047757890075445175,
      -0.0029265689663589,
      -0.0270647332072258,
      -0.009515400044620037,
      -0.06504422426223755,
      0.04896136745810509,
      0.0039899772964417934,
      0.030569959431886673,
      -0.01696912758052349,
      -0.039999961853027344,
      0.051497939974069595,
      -0.08886194229125977,
      -0.01637422852218151,
      -0.03200536593794823,
      0.019791696220636368,
      -0.03593346104025841,
      0.036641061305999756,
      0.004409126006066799,
      -0.027899175882339478,
      0.04006235674023628,
      -0.07504149526357651,
      0.11792642623186111,
      -0.021242905408143997,
      -0.00468676770105958,
      -0.046556632965803146,
      0.02512340247631073,
      0.050072118639945984,
      0.025463832542300224,
      -0.013035121373832226,
      -0.033694248646497726,
      -0.02268361672759056,
      0.0024763252586126328,
      -0.09883420914411545,
      -0.06782481074333191,
      -0.06251474469900131,
      -0.050390321761369705,
      -0.003987447824329138,
      -0.06999091804027557,
      -0.0062737613916397095,
      -0.04062109440565109,
      -0.057424381375312805,
      0.02510024607181549,
      -0.050300728529691696,
      0.003441278822720051,
      0.02184641733765602,
      -0.0280507430434227,
      0.01397746428847313,
      0.059316881000995636,
      -0.009009622037410736,
      -0.1058565303683281,
      0.043853942304849625,
      0.05461850017309189,
      -0.0518118254840374,
      -0.044178757816553116,
      0.09183477610349655,
      -0.09188531339168549,
      -0.056121714413166046,
      -0.05276811122894287,
      0.06215542182326317,
      0.04977397248148918,
      -0.00560868252068758,
      -0.027487456798553467,
      -0.009163646027445793,
      0.022828618064522743,
      0.00855783186852932,
      -0.02571791037917137,
      0.0771293118596077,
      0.04472925513982773,
      0.05950719490647316,
      0.05647284910082817,
      0.013097058050334454,
      0.07139791548252106,
      0.07799772173166275,
      0.011632196605205536,
      0.04023454710841179,
      0.05221501365303993,
      0.022538989782333374,
      -0.016369961202144623,
      -0.07096972316503525,
      2.3220645611166387e-33,
      0.013902746140956879,
      -0.06136700510978699,
      0.05122085288167,
      0.018272683024406433,
      0.05283287167549133,
      -0.053588852286338806,
      -0.0943603664636612,
      0.01595136895775795,
      -0.05526624992489815,
      0.10646620392799377,
      0.01330617442727089,
      0.15537533164024353,
      -0.045736487954854965,
      0.013427377678453922,
      0.015498774126172066,
      -0.06702914834022522,
      0.008440623991191387,
      0.04074006900191307,
      -0.02663031779229641,
      -0.03560112416744232,
      -0.05647823214530945,
      -0.007086498197168112,
      -0.05167746543884277,
      -0.024741725996136665,
      -0.0007983122486621141,
      -0.044108740985393524,
      -0.029677437618374825,
      -0.018122036010026932,
      -0.04464536905288696,
      -0.012243238277733326,
      -0.0780230239033699,
      -0.05047055706381798,
      0.05028830096125603,
      -0.058011624962091446,
      0.046213824301958084,
      0.0035832449793815613,
      -0.007870934903621674,
      0.06469568610191345,
      0.006195979192852974,
      -0.05635204538702965,
      -0.027679579332470894,
      -0.019684795290231705,
      -0.03117738477885723,
      -0.035744138062000275,
      0.01634618081152439,
      0.023742351680994034,
      0.0025416729040443897,
      0.05600811168551445,
      -0.02731994166970253,
      0.0944180116057396,
      0.04705227538943291,
      -0.005595217924565077,
      -0.010746144689619541,
      0.07684841752052307,
      0.009519387036561966,
      0.029982445761561394,
      -0.0011740982299670577,
      0.0947544053196907,
      0.019300470128655434,
      -0.05556349456310272,
      0.07359273731708527,
      0.0658077672123909,
      0.04182163625955582,
      -0.1308809071779251,
      -0.009929509833455086,
      0.0493457056581974,
      0.01855332776904106,
      -0.0015533319674432278,
      0.00971676129847765,
      0.009601867757737637,
      -0.012038995511829853,
      0.02466183342039585,
      -0.050104767084121704,
      0.07326720654964447,
      -0.025393785908818245,
      0.0044598886743187904,
      -0.04731624200940132,
      -0.04547164961695671,
      0.038751982152462006,
      -0.04883991926908493,
      -0.015364294871687889,
      0.08481818437576294,
      -0.05150233581662178,
      -0.019513767212629318,
      -0.057647429406642914,
      -0.0390980988740921,
      0.06387828290462494,
      -0.07024317234754562,
      -0.0796743854880333,
      -0.018575087189674377,
      -0.1452428102493286,
      -0.03808523714542389,
      -0.06118170544505119,
      -0.02898537553846836,
      0.01364901289343834,
      -4.532936540195105e-33,
      0.006785668432712555,
      0.037544865161180496,
      0.05067278444766998,
      0.032163433730602264,
      -0.003886281279847026,
      -0.05116255581378937,
      0.0953417643904686,
      -0.0006622318760491908,
      0.14506377279758453,
      0.017465820536017418,
      0.07855623215436935,
      -0.07308860868215561,
      0.003103726077824831,
      -0.1200748160481453,
      0.016569016501307487,
      0.0053835478611290455,
      -0.09984210878610611,
      0.024045756086707115,
      0.0432354211807251,
      0.1143440455198288,
      -0.0238238126039505,
      0.04040411114692688,
      -0.026749137789011,
      0.050663016736507416,
      -0.0846022218465805,
      0.045848362147808075,
      -0.03588432818651199,
      0.012966659851372242,
      -0.019832545891404152,
      -0.0548848956823349,
      -0.03047923743724823,
      0.005069201812148094,
      -0.0016507500549778342,
      -0.051973503082990646,
      -0.027708804234862328,
      -0.04831184446811676,
      0.01689000427722931,
      -0.02646506205201149,
      -0.042064882814884186,
      0.020268771797418594,
      0.05184987559914589,
      0.08512888103723526,
      -0.014065866358578205,
      -0.05386430770158768,
      -0.017784954980015755,
      -0.0004536338965408504,
      0.08491147309541702,
      -0.0015780999092385173,
      -0.0024724591057747602,
      -0.06914235651493073,
      0.01721048913896084,
      0.02712346240878105,
      0.005338245537132025,
      0.07967201620340347,
      -0.07156502455472946,
      -0.0081144068390131,
      -0.03485286235809326,
      -0.06834588199853897,
      -0.0522397942841053,
      0.013510772958397865,
      -0.02435818500816822,
      -0.02851080521941185,
      -0.04076707735657692,
      -0.03239045664668083,
      -0.01144055463373661,
      -0.07173741608858109,
      -0.026906469836831093,
      -0.013557425700128078,
      0.01840427704155445,
      -0.007963079959154129,
      0.04095085337758064,
      0.00618016766384244,
      0.0426732674241066,
      -0.020385270938277245,
      -0.10479835420846939,
      0.009920837357640266,
      -0.05089859664440155,
      -0.06461635231971741,
      0.007408995181322098,
      0.06812477856874466,
      -0.05677458643913269,
      0.035148654133081436,
      -0.04254712164402008,
      0.02013183757662773,
      -0.09202437102794647,
      0.034535814076662064,
      -0.03729543462395668,
      0.04237004742026329,
      -0.0007376333815045655,
      0.020865339785814285,
      -0.006676721852272749,
      -0.03197314962744713,
      -0.020366614684462547,
      0.07800516486167908,
      -0.05593009293079376,
      -5.937245717291262e-08,
      -0.024027062579989433,
      -0.024001993238925934,
      0.02571212127804756,
      0.0312030091881752,
      -0.01907721348106861,
      0.07152972370386124,
      0.008231351152062416,
      -0.12091538310050964,
      0.017320649698376656,
      -0.023567190393805504,
      0.07033491879701614,
      0.017080336809158325,
      -0.05513870716094971,
      0.052002739161252975,
      -0.022366277873516083,
      0.002178162569180131,
      -0.013858931139111519,
      0.13402700424194336,
      -0.008259993977844715,
      0.011555597186088562,
      0.03740791976451874,
      0.04244235157966614,
      0.0300966277718544,
      -0.046640556305646896,
      0.03151056915521622,
      -0.02413102611899376,
      -0.016016647219657898,
      -0.010330591350793839,
      -0.020163392648100853,
      0.030994445085525513,
      0.04436348378658295,
      0.05156203731894493,
      -0.029868658632040024,
      0.007855896838009357,
      0.02275143377482891,
      0.06076262146234512,
      -0.017915023490786552,
      0.0647113174200058,
      -0.02383403666317463,
      0.1410740166902542,
      -0.02937287464737892,
      0.022199273109436035,
      -0.1395292580127716,
      0.02689438685774803,
      0.041441548615694046,
      -0.059561837464571,
      0.10815475881099701,
      0.060434307903051376,
      0.04155275598168373,
      0.00804892648011446,
      0.003541617188602686,
      0.008725278079509735,
      -0.05508391559123993,
      0.01780550740659237,
      -0.042203910648822784,
      0.005076047033071518,
      -0.024590693414211273,
      0.19288308918476105,
      -0.13142943382263184,
      -0.03314322233200073,
      0.024253809824585915,
      -0.01178233977407217,
      0.04432106763124466,
      -0.0399116687476635
    ]
  },
  {
    "id": "audio_analysis.py_describe_spectral_balance",
    "filename": "audio_analysis.py",
    "function_name": "describe_spectral_balance",
    "text": "## Function: describe_spectral_balance (audio_analysis.py)\n\n```python\ndef describe_spectral_balance(band_energies: dict, genre: str = \"electronic\") -> str:\n    # Collapse to simple groups\n    sub = band_energies.get(\"sub\", 0)\n    low = band_energies.get(\"low\", 0)\n    low_mid = band_energies.get(\"low-mid\", 0)\n    mid = band_energies.get(\"mid\", 0)\n    high_mid = band_energies.get(\"high-mid\", 0)\n    high = band_energies.get(\"high\", 0)\n    air = band_energies.get(\"air\", 0)\n\n    lows = sub + low\n    mids = low_mid + mid + high_mid\n    highs = high + air\n\n    genre = genre.lower()\n\n    if genre in {\"electronic\", \"hiphop\", \"rnb\"}:\n        if lows > 0.75:\n            return \"Low-end is very strong — often genre-typical, but worth a clarity check.\"\n        elif lows > 0.55:\n            return \"Low end is prominent, which is typical for this genre. No action needed unless masking is audible.\"\n        elif mids > 0.5:\n            return \"Mid frequencies dominate — may sound boxy or congested for this genre.\"\n        elif highs > 0.35:\n            return \"Highs are bright — ensure they don’t make the mix feel harsh or distract from the bass foundation.\"\n        else:\n            return \"Spectral balance appears well suited for a bass-driven style.\"\n\n    elif genre in {\"pop\", \"rock\", \"indie\", \"reggae\", \"funk\", \"soul\", \"classic\"}:\n        if lows > 0.6:\n            return \"Low end is strong — may be stylistic, but check for any mud or masking.\"\n        elif lows > 0.45:\n            return \"Low end is moderately elevated — still acceptable depending on artistic intent.\"\n        elif mids > 0.5:\n            return \"Midrange is quite strong — might sound rich, or a bit crowded.\"\n        elif highs > 0.45:\n            return \"Highs are crisp — could add brilliance, or cause sharpness if overdone.\"\n        else:\n            return \"Spectral balance is fairly even and typical for a balanced genre.\"\n\n    elif genre in {\"punk\", \"metal\", \"jazz\", \"country\", \"folk\"}:\n        if lows > 0.50:\n            return \"Low end is elevated — uncommon in this genre, so check for rumble or mud.\"\n        elif mids > 0.55:\n            return \"Midrange is dominant — can sound raw or aggressive, which fits this style.\"\n        elif highs > 0.5:\n            return \"Highs are very pronounced — this can be typical but may fatigue the ear.\"\n        else:\n            return \"Spectral balance looks appropriate for a mid/high-forward genre.\"\n\n    return \"Spectral balance analyzed, but genre could not be matched precisely.\"\n```\n",
    "embedding": [
      0.06550941616296768,
      -0.006850042380392551,
      -0.0511501170694828,
      0.020111829042434692,
      -0.03517467528581619,
      -0.07819771766662598,
      0.03043174184858799,
      0.030484534800052643,
      -0.014604946598410606,
      -0.07126808911561966,
      -0.0381925068795681,
      -0.11113478988409042,
      -0.021941281855106354,
      -0.05723211169242859,
      0.09871524572372437,
      0.03784333914518356,
      0.0731096863746643,
      -0.004470747895538807,
      -0.06835884600877762,
      -0.020402058959007263,
      0.08664125949144363,
      0.05677599087357521,
      0.03475790470838547,
      0.013052900321781635,
      0.03244628384709358,
      -0.028224358335137367,
      -0.05651172250509262,
      0.07929874956607819,
      0.013440510258078575,
      -0.01908678002655506,
      0.044527567923069,
      0.1326196789741516,
      0.03641347214579582,
      0.03992445394396782,
      0.05215509608387947,
      0.009158859960734844,
      -0.039603009819984436,
      -0.001848712214268744,
      0.007636422291398048,
      0.039149209856987,
      -0.01800476759672165,
      0.03759985789656639,
      0.040146954357624054,
      -0.039723340421915054,
      -0.09083893895149231,
      -0.05086972564458847,
      -0.10043825954198837,
      -0.05181393772363663,
      -0.041960880160331726,
      -0.03933621942996979,
      0.03817848488688469,
      0.009769393131136894,
      -0.008536078967154026,
      0.07906267046928406,
      -0.013250034302473068,
      0.007850303314626217,
      0.008932309225201607,
      -0.061329372227191925,
      0.04315691441297531,
      -0.11197050660848618,
      0.02094346657395363,
      -0.03434787318110466,
      -0.004265992436558008,
      -0.057848673313856125,
      0.045428916811943054,
      -0.026941435411572456,
      0.034663137048482895,
      0.024791425094008446,
      -0.014159739017486572,
      0.07980351895093918,
      -0.03842846676707268,
      -0.03788582980632782,
      -0.05243710055947304,
      0.027538394555449486,
      0.0733383372426033,
      0.02955823950469494,
      0.026169702410697937,
      -0.028127029538154602,
      -0.04634588956832886,
      -0.02528783492743969,
      -0.005638109520077705,
      -0.06781765073537827,
      -0.07747048884630203,
      0.002360524842515588,
      0.057616446167230606,
      -0.01967121660709381,
      0.02011142484843731,
      0.0012790561886504292,
      -0.04292504861950874,
      -0.018235238268971443,
      -0.06386417895555496,
      0.013234646059572697,
      0.0045122853480279446,
      -0.012838032096624374,
      0.014885121956467628,
      0.07447223365306854,
      0.037012938410043716,
      -0.09397278726100922,
      0.01839621737599373,
      0.04216500371694565,
      0.013530599884688854,
      -0.01600409671664238,
      0.02371697872877121,
      -0.04727250710129738,
      -0.09415245056152344,
      -0.0699995681643486,
      0.05725475773215294,
      0.04932528734207153,
      -0.03220552206039429,
      -0.012747228145599365,
      -0.014717677608132362,
      0.02552996575832367,
      0.003757156664505601,
      -0.009262177161872387,
      0.08357041329145432,
      0.07981812953948975,
      -0.008134298026561737,
      0.12259983271360397,
      -0.00583828566595912,
      0.026257917284965515,
      0.03148379549384117,
      -0.003925647586584091,
      0.05615318939089775,
      0.0831533893942833,
      0.03677600249648094,
      0.0014548480976372957,
      -0.10821375995874405,
      2.8205292671629834e-33,
      -0.03193993493914604,
      -0.02238151803612709,
      0.037163808941841125,
      -0.018469886854290962,
      -0.0038014103192836046,
      -0.0677696242928505,
      -0.1391829252243042,
      0.004669761750847101,
      -0.011550534516572952,
      0.0903051570057869,
      -0.03291445970535278,
      0.15078850090503693,
      -0.01407081913203001,
      -0.029056666418910027,
      -0.03602157160639763,
      -0.026559628546237946,
      -0.04057778790593147,
      -0.016793156042695045,
      -0.009639615193009377,
      -0.07673900574445724,
      -0.04024675488471985,
      0.006080894265323877,
      -0.029668230563402176,
      0.010669768787920475,
      0.009357638657093048,
      -0.03567124530673027,
      -0.02820858545601368,
      -0.03491039201617241,
      -0.0642056092619896,
      0.00357742584310472,
      -0.03857167810201645,
      -0.04938984662294388,
      0.042821016162633896,
      -0.060946159064769745,
      0.005211385432630777,
      0.04082399979233742,
      0.007916474714875221,
      0.09171491861343384,
      0.053874991834163666,
      -0.06772574782371521,
      -0.05381396785378456,
      0.036495424807071686,
      -0.0035531073808670044,
      0.00986909493803978,
      0.04684614762663841,
      0.030236776918172836,
      -0.020363617688417435,
      0.03359253704547882,
      -0.04761578142642975,
      0.04480292648077011,
      -0.031002802774310112,
      -0.04752917215228081,
      0.021208062767982483,
      0.061731722205877304,
      0.005698885302990675,
      0.009470616467297077,
      0.08604656159877777,
      0.06213963404297829,
      0.0534149669110775,
      -0.025474105030298233,
      0.06083138659596443,
      0.08552569895982742,
      0.03547421097755432,
      -0.09939444810152054,
      -0.0036938320845365524,
      0.06676184386014938,
      0.008048728108406067,
      0.02750648558139801,
      -0.00010283706797054037,
      0.019707268103957176,
      -0.032390933483839035,
      0.024316832423210144,
      -0.0017964873695746064,
      0.007532030344009399,
      0.03086499124765396,
      -0.015454818494617939,
      -0.004300024826079607,
      -0.054612528532743454,
      0.011989548802375793,
      -0.002710827626287937,
      0.016046008095145226,
      0.05074046552181244,
      0.008115206845104694,
      -0.048382945358753204,
      -0.10903283208608627,
      -0.08263201266527176,
      0.005497538950294256,
      -0.0900426134467125,
      -0.1169213056564331,
      -0.033045850694179535,
      -0.1488925665616989,
      -0.050496432930231094,
      0.016934387385845184,
      -0.027015868574380875,
      -0.007218360900878906,
      -5.4418317109867746e-33,
      0.006946598645299673,
      0.07020106166601181,
      0.08372870087623596,
      0.033334504812955856,
      0.02562824822962284,
      -0.026760105043649673,
      0.03677339106798172,
      0.02584548108279705,
      0.05830148234963417,
      0.02320079691708088,
      0.1258542686700821,
      -0.05076967179775238,
      -0.02550436183810234,
      -0.09694071114063263,
      0.10064297914505005,
      -0.01814231649041176,
      -0.11243999004364014,
      0.06176399812102318,
      0.0819999948143959,
      0.13553370535373688,
      -0.04550498351454735,
      0.018744084984064102,
      -0.06179166957736015,
      0.03385268151760101,
      -0.08195377886295319,
      0.033384282141923904,
      -0.0268182884901762,
      -0.07345625758171082,
      0.020588167011737823,
      -0.0771479457616806,
      -0.08464594930410385,
      0.022355355322360992,
      -0.007771132979542017,
      -0.015823552384972572,
      -0.03811066225171089,
      -0.021783480420708656,
      0.00023962643172126263,
      -0.008081693202257156,
      -0.08315328508615494,
      -0.03503773733973503,
      0.007728078868240118,
      0.11043182760477066,
      -0.0037361010909080505,
      -0.06311111897230148,
      -0.013903557322919369,
      -0.01330081932246685,
      0.044481612741947174,
      0.03000851906836033,
      -0.005063064396381378,
      -0.05970730632543564,
      0.10417595505714417,
      -0.006845302879810333,
      0.018899593502283096,
      0.07395323365926743,
      -0.019675012677907944,
      0.02359047904610634,
      -1.81864743353799e-05,
      -0.0433335155248642,
      -0.07474509626626968,
      -0.004064496140927076,
      -0.03948230668902397,
      -0.06215716525912285,
      -0.020875951275229454,
      -0.0002601050364319235,
      -0.025477010756731033,
      -0.007277197204530239,
      -0.03885374590754509,
      -0.01481594517827034,
      0.02002784051001072,
      -0.013146225363016129,
      0.028651509433984756,
      0.02530975453555584,
      0.040928732603788376,
      -0.04265217483043671,
      -0.03141574189066887,
      0.02320954203605652,
      -0.09215753525495529,
      -0.09419884532690048,
      -0.022836918011307716,
      0.015745101496577263,
      -0.09012409299612045,
      0.07460647821426392,
      -0.033295515924692154,
      -0.012655334547162056,
      -0.05210931599140167,
      0.023278430104255676,
      -0.05027094483375549,
      0.014108333736658096,
      -0.0057945349253714085,
      0.029010245576500893,
      0.03853750228881836,
      -0.022022968158125877,
      0.03142711892724037,
      0.06780344992876053,
      -0.013582614250481129,
      -5.400218228146514e-08,
      -0.011840378865599632,
      -0.05660884082317352,
      0.05052640289068222,
      -0.0036308253183960915,
      0.02502795122563839,
      0.07220393419265747,
      0.0191934946924448,
      -0.09671119600534439,
      0.04761063680052757,
      0.016591141000390053,
      0.04500606656074524,
      -0.02770094759762287,
      -0.034012164920568466,
      0.01637071557343006,
      -0.011727817356586456,
      0.02131127379834652,
      -0.037481244653463364,
      0.06300114840269089,
      -0.024458175525069237,
      -0.005378913599997759,
      0.02367672324180603,
      0.0011127764591947198,
      0.0771547481417656,
      -0.02618681639432907,
      0.02385905385017395,
      0.0007603548583574593,
      -0.034197937697172165,
      -0.0796353742480278,
      0.004365203902125359,
      0.024068528786301613,
      0.003172647673636675,
      -0.021022111177444458,
      -0.01220468245446682,
      0.03773542866110802,
      -0.016398901119828224,
      0.061271801590919495,
      -0.06406604498624802,
      0.04630224034190178,
      -0.02802761271595955,
      0.10973215103149414,
      -0.05437854677438736,
      -0.002320005791261792,
      -0.09194804728031158,
      0.0232106801122427,
      0.06439389288425446,
      -0.02937130257487297,
      0.04189309477806091,
      0.04351184144616127,
      0.04597268998622894,
      0.07227727025747299,
      0.0020687102805823088,
      0.007104504853487015,
      -0.04999770224094391,
      -0.024005642160773277,
      -0.12002619355916977,
      0.014364303089678288,
      -0.08159946650266647,
      0.14059895277023315,
      -0.10359839349985123,
      -0.05760680511593819,
      0.08047861605882645,
      -0.020328203216195107,
      -0.03017326444387436,
      0.002028661547228694
    ]
  },
  {
    "id": "audio_analysis.py_compute_windowed_rms_db",
    "filename": "audio_analysis.py",
    "function_name": "compute_windowed_rms_db",
    "text": "## Function: compute_windowed_rms_db (audio_analysis.py)\n\n```python\ndef compute_windowed_rms_db(y_mono, sr, window_duration=0.5):\n    window_size = int(sr * window_duration)\n    hop_size = int(window_size / 2)\n\n    rms_blocks = []\n    for i in range(0, len(y_mono) - window_size, hop_size):\n        block = y_mono[i:i + window_size]\n        rms = np.sqrt(np.mean(block ** 2))\n        rms_blocks.append(rms)\n\n    # Now calculate:\n    rms_blocks = np.array(rms_blocks)\n    rms_db_avg = 20 * np.log10(np.mean(rms_blocks) + 1e-9)\n\n    # Loudest 10%\n    sorted_rms = np.sort(rms_blocks)\n    top_10 = sorted_rms[int(len(sorted_rms) * 0.9):]\n    rms_db_peak = 20 * np.log10(np.mean(top_10) + 1e-9)\n\n    return round(rms_db_avg, 2), round(rms_db_peak, 2)\n```\n",
    "embedding": [
      0.016398929059505463,
      -0.039813343435525894,
      -0.009078954346477985,
      -0.005174010992050171,
      -0.043869081884622574,
      -0.07286781817674637,
      -0.04812949523329735,
      0.050656773149967194,
      -0.038215670734643936,
      -0.007611055392771959,
      -0.12687286734580994,
      -0.026357833296060562,
      -0.03669767454266548,
      -0.0022899992763996124,
      -0.015018553473055363,
      0.053107280284166336,
      -0.05153263360261917,
      0.007014977280050516,
      -0.004941489547491074,
      -0.05593150481581688,
      0.09230421483516693,
      0.10754693299531937,
      0.016212614253163338,
      0.025275124236941338,
      0.11584273725748062,
      -0.02804986946284771,
      -0.09759732335805893,
      0.021716823801398277,
      0.029868338257074356,
      -0.015230235643684864,
      0.024424977600574493,
      0.010952319018542767,
      0.11656790971755981,
      0.052926916629076004,
      -0.10286381840705872,
      -0.06547759473323822,
      0.016309145838022232,
      -0.007129537872970104,
      -0.012616321444511414,
      0.011918879114091396,
      -0.004262147471308708,
      0.058241553604602814,
      0.045604705810546875,
      -0.0764380693435669,
      -0.012040817178785801,
      -0.028094064444303513,
      -0.10541282594203949,
      -0.008329256437718868,
      0.004209685139358044,
      0.0448596216738224,
      0.011544270440936089,
      -0.009534424170851707,
      -0.05268939211964607,
      0.005283060483634472,
      -0.022401653230190277,
      0.0539117306470871,
      0.07087458670139313,
      -0.07702597230672836,
      0.06529764086008072,
      -0.01759876124560833,
      -0.024809343740344048,
      -0.029077718034386635,
      0.024646619334816933,
      -0.03345491737127304,
      0.029117226600646973,
      -0.02791583351790905,
      -0.02535412646830082,
      0.07981076091527939,
      -0.034222885966300964,
      0.09384001046419144,
      -0.017580276355147362,
      -0.03490521386265755,
      0.021978694945573807,
      -0.01714983396232128,
      -0.02167712152004242,
      -0.0653911754488945,
      -0.021928541362285614,
      -0.021068669855594635,
      -0.04481697827577591,
      0.012241670861840248,
      0.012780912220478058,
      -0.017984094098210335,
      -0.0278032124042511,
      -0.07314085960388184,
      0.01695324294269085,
      -0.028357138857245445,
      0.09373139590024948,
      0.04815379157662392,
      -0.03422166779637337,
      -0.017095472663640976,
      -0.03398972749710083,
      -0.012036814354360104,
      -0.09373609721660614,
      0.03418094292283058,
      0.1077907457947731,
      0.05343744158744812,
      0.033794403076171875,
      -0.04465938359498978,
      0.06386296451091766,
      0.030013389885425568,
      0.03923521935939789,
      -0.03174831345677376,
      0.0009888880886137486,
      -0.06329579651355743,
      0.05015292763710022,
      0.00966669525951147,
      0.06300776451826096,
      0.10732220113277435,
      -0.06439989805221558,
      -0.048828769475221634,
      -0.029426926746964455,
      0.0616946667432785,
      0.010951469652354717,
      0.020867791026830673,
      0.1274709701538086,
      0.07853825390338898,
      -0.024322371929883957,
      0.022724099457263947,
      -0.03263494744896889,
      0.0440516471862793,
      0.0021308106370270252,
      0.03782562166452408,
      0.04392910748720169,
      0.021973708644509315,
      -0.03037884458899498,
      0.03885512426495552,
      -0.011091363616287708,
      2.8123426836934755e-33,
      -0.05547814816236496,
      -0.015584243461489677,
      0.02462378703057766,
      -0.08549235016107559,
      0.07012607902288437,
      0.060943715274333954,
      -0.04737069830298424,
      -0.0012070656521245837,
      0.03486696258187294,
      0.08784786611795425,
      -0.07702302932739258,
      0.03647390753030777,
      -0.029272209852933884,
      -0.09340990334749222,
      0.02536732703447342,
      -0.00506321107968688,
      -0.016303112730383873,
      0.030416682362556458,
      -0.09363749623298645,
      -0.0373179167509079,
      0.030116165056824684,
      -0.02405661717057228,
      -0.0006014913669787347,
      0.02393930032849312,
      -0.02828703448176384,
      -0.03334992751479149,
      -0.008824748918414116,
      -0.04480660706758499,
      -0.008143110200762749,
      0.01105318684130907,
      0.0028987317346036434,
      0.037626270204782486,
      -0.052309103310108185,
      -0.055581234395504,
      0.026135031133890152,
      -0.03333684056997299,
      0.0675044134259224,
      0.06253407150506973,
      0.05722659453749657,
      -0.03685382753610611,
      -0.03335938602685928,
      0.04437767714262009,
      0.04468947649002075,
      -0.04937247931957245,
      -0.06495964527130127,
      -0.006077086087316275,
      -0.037128932774066925,
      0.12146193534135818,
      0.00886818952858448,
      0.10230228304862976,
      -0.044927146285772324,
      -0.023084882646799088,
      -0.016172805801033974,
      0.10007869452238083,
      0.003794499672949314,
      0.008203231729567051,
      0.10755182057619095,
      0.06359297782182693,
      0.046566952019929886,
      -0.02804831601679325,
      0.0475478433072567,
      -0.03709470480680466,
      0.03238683193922043,
      -0.0965515524148941,
      -0.05087815970182419,
      0.07711836695671082,
      0.03437996283173561,
      0.029011160135269165,
      0.013561216183006763,
      0.026697393506765366,
      0.018899375572800636,
      0.011093312874436378,
      -0.07744757831096649,
      -0.0004136404604651034,
      0.01805451512336731,
      -0.018743975088000298,
      0.03171321749687195,
      0.010719268582761288,
      -0.05386800691485405,
      -0.05671379342675209,
      0.011686958372592926,
      0.10116391628980637,
      -0.045603420585393906,
      -0.1353052854537964,
      0.013614235445857048,
      -0.005344475153833628,
      0.010856501758098602,
      -0.018083984032273293,
      -0.13718022406101227,
      -0.04533796012401581,
      -0.12408610433340073,
      0.027038749307394028,
      0.05791294574737549,
      0.00918539147824049,
      -0.10870754718780518,
      -2.737899728481854e-33,
      0.024652156978845596,
      0.11402177065610886,
      0.0955120101571083,
      0.011677620001137257,
      0.03750842064619064,
      0.0632389634847641,
      0.03660549968481064,
      -0.0034163957461714745,
      0.01768770068883896,
      -0.022258983924984932,
      0.017405305057764053,
      -0.03540337458252907,
      0.04967673495411873,
      0.017927102744579315,
      0.10969991981983185,
      0.025220820680260658,
      0.007273935712873936,
      -0.012262361124157906,
      -0.019110562279820442,
      -0.015373457223176956,
      0.04720931872725487,
      -0.003431640099734068,
      -0.0025909249670803547,
      -0.01781705766916275,
      -0.11290381103754044,
      0.036167554557323456,
      -0.02649991773068905,
      -0.03737955912947655,
      0.023109590634703636,
      -0.11814896762371063,
      -0.06865283846855164,
      0.024312330409884453,
      -0.14339178800582886,
      0.014158136211335659,
      0.025863688439130783,
      -0.004048833157867193,
      0.06727539002895355,
      -0.040738508105278015,
      -0.06298322975635529,
      -0.0517481304705143,
      0.06325071305036545,
      0.08528866618871689,
      -0.0054010264575481415,
      -0.07263091951608658,
      0.05536636337637901,
      0.08798795193433762,
      0.031045595183968544,
      -0.04297824949026108,
      -0.03641357272863388,
      -0.0750536397099495,
      0.034954678267240524,
      -0.006123231258243322,
      0.017324551939964294,
      0.07920712977647781,
      -0.05278380960226059,
      0.0080991480499506,
      -0.029441406950354576,
      0.01745539903640747,
      -0.07988112419843674,
      -0.04053434729576111,
      0.004925752058625221,
      -0.031585220247507095,
      -0.09975841641426086,
      -0.06865482032299042,
      -0.06294392794370651,
      0.007565378211438656,
      -0.02703568898141384,
      -0.04238282889127731,
      0.006972988601773977,
      0.010942106135189533,
      -0.03486541286110878,
      0.06877157092094421,
      0.05724801495671272,
      -0.024657517671585083,
      -0.06887310743331909,
      0.059271130710840225,
      -0.055277593433856964,
      -0.1080160140991211,
      -0.024341681972146034,
      -0.005334711167961359,
      -0.051540061831474304,
      0.08358463644981384,
      0.04186392202973366,
      -0.03179683908820152,
      -0.029683096334338188,
      -0.00375668378546834,
      0.10096566379070282,
      -0.009385044686496258,
      0.019843311980366707,
      -0.006783893331885338,
      -0.027789823710918427,
      0.07643195241689682,
      -0.0037794681265950203,
      -0.04105498269200325,
      0.0069548143073916435,
      -4.598020453272511e-08,
      0.03244432061910629,
      -0.05160382390022278,
      -0.001665622228756547,
      0.02552669495344162,
      -0.014585445635020733,
      0.028957543894648552,
      -0.02150117978453636,
      0.0037000805605202913,
      -0.04104125499725342,
      -0.055448029190301895,
      0.08031822741031647,
      -0.041689012199640274,
      -0.01980394497513771,
      0.06750574707984924,
      -0.07257561385631561,
      -0.002923861611634493,
      -0.07626824080944061,
      0.03709220886230469,
      0.030144475400447845,
      -0.09155993163585663,
      0.018057625740766525,
      0.049646373838186264,
      0.0969102531671524,
      0.04147930443286896,
      -0.03423142805695534,
      0.023896168917417526,
      0.02024471014738083,
      -0.05752163007855415,
      0.03752456232905388,
      0.022905686870217323,
      0.037033624947071075,
      0.029128970578312874,
      -0.0184849314391613,
      0.012467054650187492,
      -0.007659533992409706,
      0.041489727795124054,
      -0.027009015902876854,
      0.06120750308036804,
      0.01223091222345829,
      0.04081558436155319,
      -0.07523463666439056,
      -0.016685767099261284,
      -0.028962524607777596,
      0.009710772894322872,
      0.08754600584506989,
      -0.021376958116889,
      0.035527706146240234,
      0.040151339024305344,
      0.04795220121741295,
      -0.02965644933283329,
      0.09738434106111526,
      0.01702716015279293,
      0.011476177722215652,
      -0.043458279222249985,
      0.044799454510211945,
      -0.01814965158700943,
      -0.07496309280395508,
      0.03853994607925415,
      -0.04454582929611206,
      -0.03438045457005501,
      0.0039159320294857025,
      -0.053184155374765396,
      -0.039920270442962646,
      -0.003656187327578664
    ]
  },
  {
    "id": "audio_analysis.py_detect_transient_strength",
    "filename": "audio_analysis.py",
    "function_name": "detect_transient_strength",
    "text": "## Function: detect_transient_strength (audio_analysis.py)\n\n```python\ndef detect_transient_strength(y, sr):\n    onset_env = librosa.onset.onset_strength(y=y, sr=sr)\n    avg_transient_strength = float(np.mean(onset_env))\n    max_transient_strength = float(np.max(onset_env))\n    return round(avg_transient_strength, 4), round(max_transient_strength, 4)\n```\n",
    "embedding": [
      0.03821870684623718,
      -0.07177089154720306,
      -0.04622986540198326,
      -0.01816028356552124,
      -0.04676227644085884,
      -0.035210710018873215,
      0.011067780666053295,
      0.01755204237997532,
      -0.019053885713219643,
      -0.13236144185066223,
      0.02128106914460659,
      -0.06441061943769455,
      -0.024906620383262634,
      -0.006806827150285244,
      -0.034878239035606384,
      -0.02137415111064911,
      0.02190113253891468,
      0.027293482795357704,
      0.013458526693284512,
      -0.062120892107486725,
      0.028679560869932175,
      0.07949347794055939,
      0.013573604635894299,
      0.06859443336725235,
      0.07437582314014435,
      0.05463622510433197,
      -0.030552607029676437,
      -0.0005325303063727915,
      0.048088155686855316,
      -0.0542808398604393,
      0.019015319645404816,
      0.06614376604557037,
      0.06394314020872116,
      -0.0011286467779427767,
      -0.02322150580585003,
      -0.022991225123405457,
      -0.02924509532749653,
      -0.011128917336463928,
      0.005145934410393238,
      -0.03388184681534767,
      0.010052789002656937,
      -0.0180633757263422,
      0.0790654867887497,
      -0.08345746994018555,
      -0.05486799776554108,
      -0.0065329535864293575,
      -0.10147418826818466,
      -0.02038305439054966,
      -0.007935174740850925,
      0.04109916463494301,
      0.051218777894973755,
      -0.049177754670381546,
      0.053139206022024155,
      0.015158161520957947,
      -0.042712416499853134,
      0.016209052875638008,
      0.06328185647726059,
      -0.0434679239988327,
      0.05438852310180664,
      -0.008716964162886143,
      -0.08196057379245758,
      -0.03320937603712082,
      0.02128439210355282,
      -0.040381480008363724,
      0.023305634036660194,
      0.01448393240571022,
      0.04346928000450134,
      -0.026694197207689285,
      -0.015855513513088226,
      0.09420275688171387,
      -0.0008523837896063924,
      0.04148836061358452,
      0.033458199352025986,
      -0.0033527405466884375,
      0.04294705018401146,
      -0.06992284208536148,
      -0.03705925494432449,
      -0.03022763691842556,
      -0.04898457229137421,
      0.02902645245194435,
      0.031350407749414444,
      -0.08334413170814514,
      0.0034368494525551796,
      -0.04645207151770592,
      0.02209288999438286,
      -0.026406778022646904,
      0.04726876690983772,
      -0.012214506044983864,
      0.016122303903102875,
      0.040784839540719986,
      -0.06503667682409286,
      0.03416232392191887,
      -0.07711079716682434,
      0.02471187897026539,
      0.022904295474290848,
      0.0718129500746727,
      -0.0033515719696879387,
      -0.06160220131278038,
      0.05475559085607529,
      -0.011771160177886486,
      0.001955784857273102,
      -0.060617826879024506,
      0.005748894065618515,
      -0.002905862405896187,
      0.009258846752345562,
      -0.02876283787190914,
      0.027463437989354134,
      -0.027785085141658783,
      0.021469702944159508,
      0.027543189004063606,
      -8.825916302157566e-05,
      -0.005601699464023113,
      0.05980725958943367,
      -0.02279415912926197,
      0.09531015902757645,
      0.07613784819841385,
      -0.04877365753054619,
      0.05844330042600632,
      0.006040627136826515,
      -0.016289863735437393,
      0.08971197158098221,
      -0.045720990747213364,
      0.01235758513212204,
      -0.034518640488386154,
      0.02486579492688179,
      0.042910151183605194,
      0.01406215038150549,
      -9.679695475567477e-35,
      -0.013548932038247585,
      -0.0374533012509346,
      -0.0042325169779360294,
      -0.004579440224915743,
      -0.00024017889518290758,
      -0.040028661489486694,
      -0.07568402588367462,
      -0.027613630518317223,
      -0.00963920820504427,
      0.026071343570947647,
      -0.03770563751459122,
      0.10398206859827042,
      -0.059519797563552856,
      -0.08230429887771606,
      0.026696614921092987,
      0.025724345818161964,
      0.019680341705679893,
      0.03225339949131012,
      -0.03446822613477707,
      -0.006887076888233423,
      0.016892055049538612,
      -0.04641324281692505,
      0.009993653744459152,
      0.016347957774996758,
      0.0422293096780777,
      0.04155450314283371,
      0.06502524763345718,
      -0.02802913263440132,
      -0.04959644004702568,
      0.01427929662168026,
      0.0016648819437250495,
      0.014213060960173607,
      -0.06901203840970993,
      -0.07040631026029587,
      0.015623942948877811,
      -0.007159761618822813,
      0.038255006074905396,
      0.09052960574626923,
      0.015994306653738022,
      -0.07581710070371628,
      0.0027412581257522106,
      -0.003254115115851164,
      0.011808715760707855,
      -0.05518455430865288,
      -0.03574221208691597,
      0.005422190297394991,
      -0.0397733673453331,
      0.09918855130672455,
      -0.008708708919584751,
      0.02484903112053871,
      -0.0065590073354542255,
      0.00345238926820457,
      -0.046315718442201614,
      0.0356890931725502,
      -0.012277831323444843,
      0.04412662610411644,
      0.02980121783912182,
      0.06146128475666046,
      0.027743825688958168,
      -0.052501123398542404,
      0.14298926293849945,
      0.024411967024207115,
      0.07383614033460617,
      -0.14193975925445557,
      0.002197465393692255,
      0.045711684972047806,
      -0.028180470690131187,
      -0.041999153792858124,
      0.006262154784053564,
      0.01971421018242836,
      0.03409707173705101,
      -0.05795809254050255,
      -0.00459100678563118,
      -0.0403640940785408,
      -0.05807838588953018,
      -0.04857274517416954,
      0.021671302616596222,
      0.02778581716120243,
      -0.005204765126109123,
      -0.06376800686120987,
      -0.016865530982613564,
      -0.011195108294487,
      0.03683503344655037,
      0.03413994610309601,
      0.00019824625633191317,
      0.015263207256793976,
      0.003668995574116707,
      -0.04096155986189842,
      -0.14903107285499573,
      -0.06522134691476822,
      -0.13844959437847137,
      0.00626136502251029,
      0.048271145671606064,
      -0.021747680380940437,
      -0.06632237881422043,
      -2.406694644246074e-33,
      0.040388140827417374,
      0.11176493763923645,
      0.045609742403030396,
      0.04178212583065033,
      0.03644523024559021,
      -0.006456095725297928,
      0.023940369486808777,
      0.11553965508937836,
      0.012917323037981987,
      -0.04992605373263359,
      0.07094229012727737,
      -0.07165193557739258,
      -0.10531625896692276,
      -0.07533957064151764,
      0.07760880887508392,
      0.04419047012925148,
      -0.1075756847858429,
      0.007032985799014568,
      0.02201959863305092,
      0.047896672040224075,
      -1.2851482097175904e-05,
      -0.07266538590192795,
      -0.01155090518295765,
      0.06172126159071922,
      -0.07885218411684036,
      0.000989059917628765,
      0.026701603084802628,
      -0.0658404752612114,
      -0.03408889099955559,
      -0.06901737302541733,
      -0.09903620928525925,
      0.07955347746610641,
      -0.05522443354129791,
      0.012647815980017185,
      -0.0387708805501461,
      -0.014450205489993095,
      0.055448222905397415,
      -0.10298609733581543,
      -0.018878430128097534,
      -0.028565580025315285,
      0.04793962463736534,
      0.15168945491313934,
      -0.02934313751757145,
      -0.07786665856838226,
      0.011541608721017838,
      -0.013044287450611591,
      0.05523751303553581,
      -0.016512300819158554,
      0.0026529449969530106,
      -0.013057400472462177,
      0.1295703947544098,
      -0.005541244987398386,
      0.07513491809368134,
      0.06715717166662216,
      -0.06798778474330902,
      0.005155684892088175,
      -0.004564501345157623,
      -0.03942558541893959,
      -0.09191978722810745,
      -0.009679100476205349,
      -0.04637056216597557,
      -0.05880157649517059,
      -0.06272470206022263,
      -0.0039029959589242935,
      -0.00449864799156785,
      0.044807396829128265,
      -0.052014123648405075,
      -0.004700888879597187,
      0.015253475867211819,
      0.008117849007248878,
      0.07895415276288986,
      0.1016399934887886,
      0.04467521980404854,
      -0.011645225808024406,
      -0.08985523134469986,
      0.021846111863851547,
      -0.1301223337650299,
      -0.11501198261976242,
      -0.04537680372595787,
      -0.03483791649341583,
      -0.05211052671074867,
      0.009291478432714939,
      0.037482719868421555,
      -0.02773348055779934,
      -0.0539037324488163,
      0.02389364130795002,
      0.0457528792321682,
      0.02626447007060051,
      0.04359297826886177,
      0.03404861316084862,
      0.013868339359760284,
      0.05226335674524307,
      -0.04222435504198074,
      -0.033158380538225174,
      -0.007558260578662157,
      -4.49511858846563e-08,
      -0.06364080309867859,
      -0.04959176480770111,
      -0.04555105045437813,
      -0.06512882560491562,
      0.0331849604845047,
      0.08415791392326355,
      -0.009867973625659943,
      -0.012330809608101845,
      -0.0021720475051552057,
      -0.09213432669639587,
      0.06213602423667908,
      -0.049229804426431656,
      0.04821011424064636,
      0.03029528073966503,
      -0.01701219566166401,
      0.07255607098340988,
      -0.054558198899030685,
      0.17496399581432343,
      -0.0471157506108284,
      -0.041947364807128906,
      0.017059559002518654,
      0.08007613569498062,
      0.08372227847576141,
      -0.006129404529929161,
      -0.03673940896987915,
      0.01924983039498329,
      -0.04496476799249649,
      0.017447838559746742,
      0.02916257455945015,
      -0.012255772948265076,
      -0.017207112163305283,
      0.006335534155368805,
      -0.01721881702542305,
      -0.035761572420597076,
      0.018370555713772774,
      0.10862824320793152,
      -0.037775054574012756,
      -0.004843493457883596,
      -0.022254226729273796,
      0.09504714608192444,
      -0.09625378251075745,
      0.03703514114022255,
      -0.06375331431627274,
      -0.011955827474594116,
      -0.008459574542939663,
      -0.02467682957649231,
      0.08042224496603012,
      -0.02302219532430172,
      0.017032133415341377,
      0.09002387523651123,
      0.04536428302526474,
      0.07636217027902603,
      -0.003486762521788478,
      0.0031865392811596394,
      -0.01768324337899685,
      0.011544749140739441,
      -0.05293853208422661,
      0.08360254019498825,
      -0.08849348872900009,
      0.0015034781536087394,
      0.038671862334012985,
      0.0034774490632116795,
      0.07737061381340027,
      -0.01414902787655592
    ]
  },
  {
    "id": "audio_analysis.py_describe_transients",
    "filename": "audio_analysis.py",
    "function_name": "describe_transients",
    "text": "## Function: describe_transients (audio_analysis.py)\n\n```python\ndef describe_transients(avg, max):\n    if avg < 1.5:\n        quality = \"very soft or buried\"\n    elif avg < 3.5:\n        quality = \"balanced\"\n    elif avg < 7:\n        quality = \"punchy and defined\"\n    else:\n        quality = \"sharp or overly spiky\"\n\n    if max > 30:\n        note = \"The track has extremely spiky transients — possibly over-accentuated drums or uncompressed attacks.\"\n    elif max > 15:\n        note = \"Transients are strong and pronounced — mix might feel punchy or aggressive.\"\n    elif max < 5:\n        note = \"Transients appear soft throughout — the mix may lack snap or attack.\"\n    else:\n        note = \"Transient range appears normal for most styles.\"\n\n    return f\"Transients are {quality}. {note}\"\n```\n",
    "embedding": [
      -0.03334791958332062,
      -0.053718168288469315,
      0.008298343047499657,
      0.017793357372283936,
      -0.018378617241978645,
      -0.02809528447687626,
      0.034243710339069366,
      0.003643477102741599,
      -0.005029493942856789,
      -0.11601153761148453,
      0.003275315510109067,
      -0.05666530504822731,
      -0.00207549799233675,
      -0.015943141654133797,
      -0.00231829727999866,
      0.011176485568284988,
      0.057040318846702576,
      -0.0004337418940849602,
      0.022985005751252174,
      -0.07440954446792603,
      0.07418523728847504,
      0.068012535572052,
      -0.019079579040408134,
      0.02982369251549244,
      0.007985723204910755,
      0.062139131128787994,
      -0.06286107748746872,
      0.059461306780576706,
      0.01848197542130947,
      -0.06668276339769363,
      -0.05115963891148567,
      0.09334038943052292,
      0.05306463688611984,
      0.033264126628637314,
      -0.01895834505558014,
      -0.003275916911661625,
      -0.0695883110165596,
      0.04005511477589607,
      0.02917969785630703,
      0.015239563770592213,
      -0.0386749804019928,
      -0.017410876229405403,
      0.05009401962161064,
      -0.08173363655805588,
      -0.014784470200538635,
      -0.019716298207640648,
      -0.12342729419469833,
      -0.03137209638953209,
      -0.06200803443789482,
      -0.0062590474262833595,
      -0.01921708881855011,
      -0.029593249782919884,
      0.04365835711359978,
      0.012045454233884811,
      0.004198748618364334,
      -0.02599715068936348,
      0.012030675075948238,
      -0.025315063074231148,
      0.037005648016929626,
      -0.06531228870153427,
      -0.01359136588871479,
      -0.052670836448669434,
      0.026840172708034515,
      -0.04004933312535286,
      0.02085660584270954,
      -0.005253884010016918,
      0.03318631276488304,
      0.05809469521045685,
      0.009575880132615566,
      0.12959159910678864,
      -0.06040968373417854,
      0.006186569109559059,
      -0.020443696528673172,
      0.0332634299993515,
      0.01302387472242117,
      0.028809411451220512,
      -0.011555919423699379,
      -0.021622871980071068,
      -0.07471511512994766,
      -0.02350776642560959,
      -0.042121514678001404,
      -0.11415020376443863,
      -0.02782866731286049,
      -0.09194596111774445,
      0.06412134319543839,
      -0.005287593230605125,
      0.03427626192569733,
      -0.03183331713080406,
      -0.02595321461558342,
      0.05237986519932747,
      -0.06137881800532341,
      0.03125670552253723,
      0.014484413899481297,
      -0.03939531370997429,
      0.07358692586421967,
      0.09116919338703156,
      -0.014458417892456055,
      -0.14289343357086182,
      0.05317061021924019,
      0.019065525382757187,
      -0.019557567313313484,
      -0.03402028977870941,
      0.04535594955086708,
      -0.05650419369339943,
      0.014208984561264515,
      -0.06136519834399223,
      0.012594116851687431,
      -0.0011673618573695421,
      -0.000400538177927956,
      -0.008726807311177254,
      0.0034831392113119364,
      0.03067036345601082,
      0.029791975393891335,
      -0.08186081051826477,
      0.12603341042995453,
      0.017864525318145752,
      -0.0592447854578495,
      0.04205187037587166,
      0.03954914212226868,
      -0.017547352239489555,
      0.11295715719461441,
      -0.035621367394924164,
      -0.03001987375319004,
      0.012367780320346355,
      -0.02146661840379238,
      0.0068092443980276585,
      0.0265585295855999,
      7.094729215166533e-33,
      0.004753373563289642,
      -0.006894781719893217,
      -0.0500212237238884,
      -0.007491885218769312,
      0.055291805416345596,
      -0.05964614823460579,
      -0.09437563270330429,
      -0.017029589042067528,
      -0.003600351046770811,
      0.07664897292852402,
      -0.025164814665913582,
      0.0881623849272728,
      -0.00501847080886364,
      0.005187659058719873,
      -0.016008643433451653,
      0.008287232369184494,
      -0.03322584927082062,
      0.04282689094543457,
      -0.049095701426267624,
      0.03794661909341812,
      -0.061086077243089676,
      0.0017484116833657026,
      0.015678105875849724,
      -0.03564460575580597,
      0.05295797437429428,
      0.013874099589884281,
      -0.009552020579576492,
      -0.02718685381114483,
      -0.052085936069488525,
      -0.012771510519087315,
      -0.04671861603856087,
      -0.009270424023270607,
      0.010126263834536076,
      -0.0497165247797966,
      0.022806739434599876,
      0.01877490244805813,
      -0.028949646279215813,
      0.04692237824201584,
      -0.007550815586000681,
      -0.0748378336429596,
      -0.031457580626010895,
      -0.018596746027469635,
      -0.055835314095020294,
      -0.01746668852865696,
      0.012531410902738571,
      0.025456681847572327,
      -0.07025263458490372,
      0.12330155819654465,
      -0.017560463398694992,
      0.03860511630773544,
      0.013265246525406837,
      0.006813795771449804,
      0.03294370323419571,
      0.0389828085899353,
      0.012494424358010292,
      0.033664148300886154,
      0.11896195262670517,
      0.06470706313848495,
      0.019865863025188446,
      -0.0048088268376886845,
      0.10604328662157059,
      0.03589675948023796,
      0.07184211909770966,
      -0.1472933143377304,
      0.030346611514687538,
      0.059672050178050995,
      -0.04905430227518082,
      0.017977692186832428,
      0.03237510845065117,
      0.011990997940301895,
      0.00532727874815464,
      0.02833843231201172,
      -0.016329286620020866,
      -0.01674167811870575,
      -0.03879711031913757,
      -0.05571845918893814,
      -0.03173719719052315,
      0.016588961705565453,
      -0.002134414156898856,
      -0.041786178946495056,
      -0.07208917289972305,
      -0.0034836658742278814,
      -0.004143602214753628,
      0.021311020478606224,
      -0.041523996740579605,
      0.045498527586460114,
      0.004881472792476416,
      -0.03973427042365074,
      -0.11015956103801727,
      -0.009105087257921696,
      -0.12616132199764252,
      0.03379619121551514,
      0.04587322100996971,
      -0.008686481975018978,
      -0.003982082940638065,
      -8.421356874674042e-33,
      0.03317788243293762,
      0.12367607653141022,
      0.031098952516913414,
      0.1341422200202942,
      -0.021946372464299202,
      0.0313371904194355,
      0.041233472526073456,
      0.11761515587568283,
      0.08920037746429443,
      -0.03031129390001297,
      0.03039313480257988,
      -0.04865032806992531,
      -0.11769427359104156,
      -0.10668742656707764,
      0.04046545922756195,
      0.010124186985194683,
      -0.10518167167901993,
      -0.0033146024215966463,
      0.07258393615484238,
      0.05630255863070488,
      0.010759749449789524,
      -0.029385825619101524,
      -0.018744338303804398,
      0.05298313871026039,
      -0.06501757353544235,
      0.04858335480093956,
      -0.004172623157501221,
      -0.095222607254982,
      -0.07447167485952377,
      -0.07642371952533722,
      -0.04547807201743126,
      0.040379904210567474,
      -0.030410727486014366,
      -0.02657793089747429,
      0.007469774689525366,
      -0.005740718450397253,
      0.0669841393828392,
      -0.061031706631183624,
      -0.03136414289474487,
      -0.021499361842870712,
      0.04794413223862648,
      0.1355731040239334,
      0.000692777510266751,
      0.0018763691186904907,
      -0.007056147325783968,
      -0.01721362955868244,
      0.019054057076573372,
      0.0018991532269865274,
      -0.06177082657814026,
      -0.008513031527400017,
      0.0942978709936142,
      -0.00905754417181015,
      0.011123713105916977,
      0.039084795862436295,
      -0.10582546889781952,
      0.0029063911642879248,
      -0.03701692819595337,
      -0.07215388119220734,
      -0.06398854404687881,
      0.06296344846487045,
      -0.046170275658369064,
      -0.03639085963368416,
      -0.08984081447124481,
      -0.01427715364843607,
      -0.025643406435847282,
      -0.014426857233047485,
      -0.05293453484773636,
      -0.053806960582733154,
      -0.01012689433991909,
      0.009030447341501713,
      0.08221857249736786,
      0.07416366040706635,
      0.011618087068200111,
      -0.020165937021374702,
      -0.05439174920320511,
      -0.046529192477464676,
      -0.08562963455915451,
      -0.08009711652994156,
      -0.02923227660357952,
      0.028968336060643196,
      -0.048963457345962524,
      0.029535965994000435,
      0.02590290457010269,
      0.012804526835680008,
      -0.09929050505161285,
      0.04733391851186752,
      -0.014053838327527046,
      0.02652718871831894,
      0.04599930718541145,
      0.027482379227876663,
      0.06998967379331589,
      0.058229219168424606,
      -0.0077878134325146675,
      0.024058688431978226,
      -0.041621915996074677,
      -5.992701090917762e-08,
      -0.03574615716934204,
      -0.009303764440119267,
      -0.0176361333578825,
      -0.060295939445495605,
      0.024775763973593712,
      0.04505331814289093,
      0.012837747111916542,
      -0.05244220793247223,
      -0.009007350541651249,
      -0.11836040019989014,
      0.07863189280033112,
      -0.0051693846471607685,
      -0.0294258501380682,
      0.02259625680744648,
      -0.014980088919401169,
      0.04902498796582222,
      -0.07845541834831238,
      0.17587833106517792,
      -0.07042887806892395,
      -0.021801866590976715,
      0.025018639862537384,
      0.06511901319026947,
      0.04366842657327652,
      -0.005262712482362986,
      -0.009443935938179493,
      0.008087911643087864,
      0.02108466811478138,
      0.04173118993639946,
      0.033399853855371475,
      -0.013777200132608414,
      0.018928714096546173,
      0.004008760210126638,
      0.006986394990235567,
      -0.03644615411758423,
      0.027259662747383118,
      0.0987289771437645,
      -0.03338232636451721,
      -0.008033213205635548,
      0.015734540298581123,
      0.1124444454908371,
      -0.12234429270029068,
      -0.012625282630324364,
      -0.10263843089342117,
      0.007370654959231615,
      -0.0003054426924791187,
      -0.07303640991449356,
      0.017338236793875694,
      -0.06126346439123154,
      0.0025053019635379314,
      0.05332464724779129,
      0.0008307343232445419,
      0.03078816831111908,
      -0.03310057893395424,
      0.015415988862514496,
      -0.043407514691352844,
      0.023999763652682304,
      -0.009259681217372417,
      0.10386089235544205,
      -0.029650399461388588,
      -0.017035456374287605,
      0.05578092113137245,
      0.029363244771957397,
      0.07523622363805771,
      0.025016868487000465
    ]
  },
  {
    "id": "audio_analysis.py_generate_peak_issues_description",
    "filename": "audio_analysis.py",
    "function_name": "generate_peak_issues_description",
    "text": "## Function: generate_peak_issues_description (audio_analysis.py)\n\n```python\ndef generate_peak_issues_description(peak_db: float):\n    issues = []\n    explanation_parts = []\n\n    if peak_db > 0.0:\n        issues.append(\"Clipping risk\")\n        explanation_parts.append(\n            \"The track peaks above 0.0 dBFS, which can result in digital clipping. \"\n            \"Even if your DAW meters show 0.0 dB, intersample peaks may exceed this in real-world playback. \"\n            \"Consider using a true peak limiter set to -1.0 dBTP to avoid distortion.\"\n        )\n    elif -0.3 < peak_db <= 0.0:\n        issues.append(\"Near-clipping warning\")\n        explanation_parts.append(\n            \"The track peaks very close to 0.0 dBFS. While it may not clip outright, \"\n            \"there is a risk of intersample peaks causing distortion on some playback systems. \"\n            \"A ceiling of -1.0 dBTP is generally safer.\"\n        )\n    elif peak_db < -5.0:\n        issues.append(\"Low peak level\")\n        explanation_parts.append(\n            \"The track peaks well below typical full-scale levels. \"\n            \"This might indicate improper gain staging and can affect metering or plugin behavior. \"\n            \"Consider raising the level during export to reach closer to 0 dBFS without clipping.\"\n        )\n\n    return issues, \" \".join(explanation_parts)\n```\n",
    "embedding": [
      -0.04165700450539589,
      -0.05751709267497063,
      -0.06576019525527954,
      -0.0412549152970314,
      -0.03860868513584137,
      -0.0718565359711647,
      0.018940094858407974,
      0.04229426756501198,
      -0.06725369393825531,
      -0.08144820481538773,
      -0.03051239624619484,
      -0.07219406962394714,
      0.017094338312745094,
      -0.03989402577280998,
      -0.02800881117582321,
      0.00692099379375577,
      0.04917999356985092,
      0.015295147895812988,
      -0.01939341612160206,
      -0.031222252175211906,
      0.11152646690607071,
      0.04860343039035797,
      0.0009220981737598777,
      0.11301572620868683,
      0.042742595076560974,
      -0.046738360077142715,
      -0.034380219876766205,
      0.05576147884130478,
      -0.00940966047346592,
      -0.021842550486326218,
      0.062332719564437866,
      0.011045290157198906,
      0.10280551016330719,
      0.020246107131242752,
      0.028409680351614952,
      -0.03443590924143791,
      0.02679608389735222,
      -0.024478528648614883,
      -0.017536994069814682,
      -0.04402237385511398,
      0.023363415151834488,
      0.004670958500355482,
      -0.028846925124526024,
      -0.040749941021203995,
      -0.06464534252882004,
      -0.06038864701986313,
      -0.1250578761100769,
      -0.004123405087739229,
      -0.011685970239341259,
      0.020403951406478882,
      -0.0010186737636104226,
      0.03299307823181152,
      0.04454470053315163,
      -0.00646795891225338,
      0.017106344923377037,
      0.012321597896516323,
      0.02876194752752781,
      0.01596362516283989,
      0.030771005898714066,
      0.012658548541367054,
      -0.02543804794549942,
      0.008538356982171535,
      0.006580330431461334,
      -0.03345118463039398,
      0.020875735208392143,
      -0.014228826388716698,
      0.003574443282559514,
      0.04942826181650162,
      0.011659218929708004,
      0.15269404649734497,
      -0.07255434989929199,
      0.01599421352148056,
      -0.05720750242471695,
      0.03657899796962738,
      -0.0020361654460430145,
      0.0032903715036809444,
      -0.03130892664194107,
      -0.05590128153562546,
      -0.0706009492278099,
      0.03639388084411621,
      -0.01463186927139759,
      -0.10501030832529068,
      0.03345264121890068,
      -0.08360278606414795,
      0.03414367139339447,
      -0.06082252413034439,
      0.08358850330114365,
      0.01751861721277237,
      0.001498847152106464,
      0.0007443620706908405,
      -0.05704617127776146,
      -0.022251330316066742,
      -0.049542393535375595,
      0.0694526880979538,
      0.019268060103058815,
      0.05181232839822769,
      -0.04436255991458893,
      -0.08073558658361435,
      0.09073349833488464,
      0.02097952924668789,
      0.009399399161338806,
      -0.01880514807999134,
      -0.005017654504626989,
      0.018086319789290428,
      -0.026273267343640327,
      -0.08414909988641739,
      0.04229390248656273,
      0.017697252333164215,
      -0.07792338728904724,
      0.014767427928745747,
      0.0638396292924881,
      0.02340736985206604,
      0.024156024679541588,
      -0.08916889876127243,
      0.11061521619558334,
      0.1338077038526535,
      -0.003669716650620103,
      0.02401297725737095,
      -0.07038941234350204,
      -0.0018559583695605397,
      0.010621478781104088,
      -0.018344685435295105,
      -0.07758154720067978,
      0.10288986563682556,
      0.04920347407460213,
      0.053118299692869186,
      -0.021284664049744606,
      4.2406693389883286e-33,
      6.796628440497443e-05,
      -0.03050982393324375,
      0.01021413691341877,
      -0.06313571333885193,
      0.06575944274663925,
      0.03293278068304062,
      -0.10386211425065994,
      0.044293198734521866,
      -0.017690658569335938,
      0.042272280901670456,
      -0.021334564313292503,
      0.06897758692502975,
      0.021128902211785316,
      -0.0741313025355339,
      -0.002210442442446947,
      -0.025913814082741737,
      -0.006500281393527985,
      0.10320111364126205,
      -0.04503979533910751,
      0.03121422417461872,
      0.044342558830976486,
      -0.10073870420455933,
      -0.036733031272888184,
      0.009006554260849953,
      0.08179664611816406,
      0.0376945398747921,
      -0.03397394344210625,
      -0.02668970264494419,
      0.019372306764125824,
      0.027013106271624565,
      -0.08313560485839844,
      -0.09075191617012024,
      0.036105070263147354,
      -0.09456972032785416,
      -0.005222660955041647,
      0.032197218388319016,
      -0.02497022971510887,
      0.05504961684346199,
      -0.017309635877609253,
      -0.034606654196977615,
      -0.018157118931412697,
      0.03294619545340538,
      0.006884371396154165,
      -0.03910968452692032,
      -0.045119911432266235,
      -0.0036961156874895096,
      0.04152984172105789,
      0.11680971086025238,
      -0.10305867344141006,
      0.06991114467382431,
      0.0037954277358949184,
      -0.016114983707666397,
      0.004600591026246548,
      0.024531131610274315,
      -0.031252019107341766,
      -0.006682527717202902,
      0.08501610159873962,
      -0.07901964336633682,
      0.10975509881973267,
      -0.025596655905246735,
      0.03417104110121727,
      0.009077241644263268,
      0.01779572293162346,
      -0.12667101621627808,
      0.03866415470838547,
      0.07105857878923416,
      0.026930609717965126,
      0.04726100713014603,
      0.01974058710038662,
      -0.012078925967216492,
      -0.06292520463466644,
      0.01167646050453186,
      -0.030314218252897263,
      -0.06523861736059189,
      -0.060507480055093765,
      -0.022195609286427498,
      -0.00468214089050889,
      0.0008115448290482163,
      -0.0017634030664339662,
      -0.016749145463109016,
      -0.0005377744673751295,
      0.01609427109360695,
      0.02999352104961872,
      -0.09820405393838882,
      -0.033467743545770645,
      -0.003302688477560878,
      0.02607341669499874,
      -0.02035004086792469,
      -0.12872834503650665,
      -0.04475334286689758,
      -0.07876309752464294,
      0.006863174960017204,
      0.011165170930325985,
      -0.03458058461546898,
      -0.008786640129983425,
      -4.989598830416286e-33,
      0.09383349865674973,
      0.075950987637043,
      0.05287405103445053,
      0.050493981689214706,
      0.024804705753922462,
      0.028049523010849953,
      0.04493389651179314,
      0.06219428405165672,
      -0.010747271589934826,
      -0.08607291430234909,
      -0.02948463149368763,
      -0.09643673896789551,
      -0.05410420149564743,
      -0.0794467106461525,
      -0.011772511526942253,
      -0.07194821536540985,
      -0.03839164599776268,
      0.03263792395591736,
      0.013428840786218643,
      0.07142788916826248,
      0.00893167220056057,
      -0.03810500353574753,
      0.016695456579327583,
      0.01357276551425457,
      -0.06153632700443268,
      0.008135756477713585,
      -0.05243922397494316,
      -0.07906509935855865,
      0.09310585260391235,
      -0.06606373935937881,
      -0.04026322066783905,
      0.08095357567071915,
      -0.041923534125089645,
      -0.08691679686307907,
      -0.013126363977789879,
      0.00892233569175005,
      0.09294486790895462,
      0.025723407045006752,
      0.01426025666296482,
      -0.011349246837198734,
      0.07481027394533157,
      0.17979569733142853,
      -0.04071279615163803,
      -0.005704390350729227,
      0.03290965408086777,
      -0.017337718978524208,
      0.041851550340652466,
      0.04573933780193329,
      -0.0801716074347496,
      -0.013488532975316048,
      0.007928560487926006,
      -0.03605404868721962,
      0.06252875179052353,
      0.090290866792202,
      -0.05536036565899849,
      0.008237354457378387,
      -0.03609835356473923,
      -0.001113259932026267,
      -0.1026250571012497,
      0.03823690861463547,
      0.0010235795052722096,
      -0.0037466941867023706,
      -0.13590095937252045,
      -0.07268202304840088,
      0.01421576738357544,
      0.024070298299193382,
      -0.012568091973662376,
      0.01871461421251297,
      -0.0001627392921363935,
      0.012339944019913673,
      -0.012330942787230015,
      0.0317353792488575,
      0.06763036549091339,
      -0.044928714632987976,
      -0.016818329691886902,
      0.03291280195116997,
      -0.18318964540958405,
      -0.012533728964626789,
      -0.01486125960946083,
      0.05141828581690788,
      -0.04101366922259331,
      0.03519638255238533,
      0.07137498259544373,
      0.013082272373139858,
      -0.024694405496120453,
      0.01400127075612545,
      0.0005903140990994871,
      0.04109254851937294,
      -0.004268393851816654,
      0.012555263936519623,
      -0.06249314174056053,
      0.05119764804840088,
      -0.06448820978403091,
      0.06863313168287277,
      -0.005922054406255484,
      -4.967052191773291e-08,
      -0.03436380997300148,
      0.024636702612042427,
      -0.025937316939234734,
      0.000647345557808876,
      0.021708449348807335,
      0.02116107940673828,
      0.0005299625918269157,
      -0.05256819725036621,
      0.035631854087114334,
      -0.04772431403398514,
      0.06971174478530884,
      -0.058166295289993286,
      -0.03777962177991867,
      0.028805207461118698,
      -0.04230605810880661,
      -0.010258578695356846,
      0.022473333403468132,
      0.09496661275625229,
      -0.03015252761542797,
      0.0455499142408371,
      -0.04287821799516678,
      0.06052974984049797,
      0.017982931807637215,
      -0.022701028734445572,
      -0.012808041647076607,
      0.03295289725065231,
      0.0098198177292943,
      0.052814092487096786,
      0.06045113503932953,
      -0.056787993758916855,
      0.012029067613184452,
      0.011621124111115932,
      -0.0005917385569773614,
      -0.007091274950653315,
      0.04698790982365608,
      0.020592477172613144,
      -0.048309795558452606,
      0.0825292095541954,
      -0.0026036533527076244,
      0.10333807021379471,
      -0.09439870715141296,
      -0.035290975123643875,
      -0.02095699869096279,
      0.018538853153586388,
      0.0348883680999279,
      -0.020907744765281677,
      0.045136019587516785,
      0.011061161756515503,
      0.0385059118270874,
      0.012286202982068062,
      0.03161244839429855,
      0.023354794830083847,
      -0.041065894067287445,
      -0.02363833412528038,
      0.04355686157941818,
      0.02307126671075821,
      -0.030187757685780525,
      0.07134291529655457,
      -0.0540231354534626,
      0.03194365277886391,
      0.023310484364628792,
      -0.05236727371811867,
      -0.01418343186378479,
      0.04990193620324135
    ]
  },
  {
    "id": "audio_analysis.py_analyze_audio",
    "filename": "audio_analysis.py",
    "function_name": "analyze_audio",
    "text": "## Function: analyze_audio (audio_analysis.py)\n\n```python\ndef analyze_audio(file_path, genre=None):\n    y, sr = librosa.load(file_path, mono=False)\n    print(f\"y shape: {y.shape}, ndim: {y.ndim}\")\n\n    y_mono = librosa.to_mono(y)\n\n    # 🎯 True peak measurement (preserved)\n    peak_amp = np.max(np.abs(y_mono))\n    peak_db = 20 * np.log10(peak_amp + 1e-9)\n\n    # ✅ Normalize to 0 dBFS for consistent analysis\n    y_norm = y_mono / (peak_amp + 1e-9)\n\n    # ✅ Compute loudness + RMS on normalized audio\n    rms_db_avg, rms_db_peak = compute_windowed_rms_db(y_norm, sr)\n    meter = pyln.Meter(sr)\n    loudness = meter.integrated_loudness(y_norm)\n\n    # 🧠 Get peak issue info from unnormalized peak\n    peak_issues, peak_explanation_parts = generate_peak_issues_description(peak_db)\n    peak_explanation_parts = [peak_explanation_parts] if isinstance(peak_explanation_parts,\n                                                                    str) else peak_explanation_parts\n    issues = []\n    pass\n\n    # ✅ warn user if peak is low *and* RMS is still high\n    if peak_db < -3.0 and rms_db_avg > -15.0:\n        peak_issues.append(\"Low peak level without dynamic benefit\")\n        peak_explanation_parts.append(\n            \"The track peaks well below 0 dBFS, but the average loudness remains high. \"\n            \"This suggests the level was lowered without gaining extra dynamic range. \"\n            \"Consider exporting at full scale unless you're preparing for mastering.\"\n        )\n\n    # ✅ Transient strength (on normalized signal)\n    avg_transients, max_transients = detect_transient_strength(y_norm, sr)\n\n    # ✅ Tempo and key detection on normalized audio\n    tempo_arr, _ = librosa.beat.beat_track(y=y_norm, sr=sr)\n    tempo = float(tempo_arr)\n    key = detect_key(y_norm, sr)\n\n    # 🧮 Dynamic range (still meaningful with normalized signal)\n    dynamic_range = peak_db - rms_db_avg  # This reflects actual range even after norm\n\n    # ✅ Stereo width (must use original y to retain L/R difference)\n    width_ratio = 0.0\n    if y.ndim == 1:\n        stereo_width_label = \"narrow\"\n    else:\n        mid = (y[0] + y[1]) / 2\n        side = (y[0] - y[1]) / 2\n        width_ratio = np.mean(np.abs(side)) / (np.mean(np.abs(mid)) + 1e-9)\n\n        if not math.isfinite(width_ratio):\n            width_ratio = 0.0\n            stereo_width_label = \"narrow\"\n        elif width_ratio < 0.25:\n            stereo_width_label = \"narrow\"\n        elif width_ratio < 0.6:\n            stereo_width_label = \"medium\"\n        elif width_ratio < 1.2:\n            stereo_width_label = \"wide\"\n        else:\n            stereo_width_label = \"too wide\"\n\n    # ✅ Spectral analysis (on normalized signal)\n    S = np.abs(librosa.stft(y_norm, n_fft=2048, hop_length=512)) ** 2\n    freqs = librosa.fft_frequencies(sr=sr)\n    total_energy = np.sum(S)\n\n    low_end_mask = freqs <= 150\n    low_end_energy = np.sum(S[low_end_mask])\n    normalized_low_end = low_end_energy / (total_energy + 1e-9)\n    low_end_description = describe_low_end_profile(normalized_low_end, genre=genre)\n\n    if normalized_low_end < 0.1:\n        bass_profile = \"light\"\n    elif normalized_low_end < 0.3:\n        bass_profile = \"balanced\"\n    else:\n        bass_profile = \"bass heavy\"\n\n    band_energies = compute_band_energies(S, freqs)\n    spectral_description = describe_spectral_balance(band_energies, genre=genre)\n\n    return {\n        \"peak_db\": f\"{peak_db:.2f}\",\n        \"rms_db_avg\": round(float(rms_db_avg), 2),\n        \"rms_db_peak\": round(float(rms_db_peak), 2),\n        \"tempo\": f\"{tempo:.2f}\",\n        \"key\": key,\n        \"lufs\": f\"{loudness:.2f}\",\n        \"dynamic_range\": f\"{dynamic_range:.2f}\",\n        \"stereo_width_ratio\": f\"{width_ratio:.2f}\",\n        \"stereo_width\": stereo_width_label,\n        \"low_end_energy_ratio\": f\"{normalized_low_end:.2f}\",\n        \"low_end_description\": low_end_description,\n        \"band_energies\": json.dumps(band_energies),\n        \"spectral_balance_description\": spectral_description,\n        \"peak_issue\": \", \".join(peak_issues) if peak_issues else None,\n        \"peak_issue_explanation\": \" \".join(peak_explanation_parts),\n        \"avg_transient_strength\": avg_transients,\n        \"max_transient_strength\": max_transients,\n        \"transient_description\": describe_transients(avg_transients, max_transients),\n        \"issues\": json.dumps(issues)\n    }\n```\n",
    "embedding": [
      -0.013353843241930008,
      -0.09661947935819626,
      -0.06823229789733887,
      0.006637739483267069,
      -0.06740587949752808,
      -0.07858343422412872,
      -0.026635995134711266,
      0.0591253787279129,
      -0.08568355441093445,
      -0.04874519258737564,
      -0.03768828138709068,
      -0.0747094675898552,
      -0.020926404744386673,
      -0.01606818102300167,
      -0.015045019797980785,
      0.019111091271042824,
      -0.011478176340460777,
      0.01054320391267538,
      -0.01187371090054512,
      -0.023937378078699112,
      0.119761623442173,
      0.09606365859508514,
      0.05460593104362488,
      0.08470756560564041,
      0.09248810261487961,
      -0.044464047998189926,
      0.0087712612003088,
      0.056080467998981476,
      -0.01313080545514822,
      -0.03367229923605919,
      0.0671231597661972,
      0.013365714810788631,
      0.11499636620283127,
      0.028616437688469887,
      0.02005443163216114,
      -0.009798267856240273,
      0.02188601903617382,
      -0.06131647527217865,
      0.0037986275274306536,
      -0.005837218835949898,
      0.010581864975392818,
      -0.005631729960441589,
      0.020688336342573166,
      -0.07425519078969955,
      -0.027341444045305252,
      -0.046470288187265396,
      -0.09909993410110474,
      -0.026445236057043076,
      -0.006130026187747717,
      0.004244381096214056,
      0.02267194166779518,
      -0.0583043172955513,
      -0.0031045826617628336,
      -0.0003825073654297739,
      -0.022395608946681023,
      0.053231243044137955,
      0.05139163136482239,
      -0.07787755131721497,
      0.09930245578289032,
      -0.05705559253692627,
      -0.06352459639310837,
      0.013983426615595818,
      -0.004519712645560503,
      -0.008981055580079556,
      -0.012011579237878323,
      -0.0056745270267128944,
      0.015464588068425655,
      0.03359660878777504,
      -0.020214200019836426,
      0.06385473161935806,
      -0.03336435556411743,
      0.043579600751399994,
      0.03677636757493019,
      -0.0030009334441274405,
      -0.007248379290103912,
      -0.05058245360851288,
      0.000694084563292563,
      -0.003676150692626834,
      -0.0635453388094902,
      5.000741111871321e-06,
      0.02128627337515354,
      -0.019285673275589943,
      0.033254675567150116,
      -0.07698652148246765,
      0.024178514257073402,
      -0.044674891978502274,
      0.050542689859867096,
      0.02088618092238903,
      -0.05357121676206589,
      -0.004854768980294466,
      0.01567019335925579,
      0.014644889160990715,
      -0.1092897579073906,
      0.09074778109788895,
      0.06889910995960236,
      0.058996424078941345,
      0.022734815254807472,
      -0.007478533312678337,
      0.08942361921072006,
      0.018214991316199303,
      0.012309865094721317,
      -0.016960037872195244,
      0.025500284507870674,
      0.004625481553375721,
      0.01700766012072563,
      0.017688214778900146,
      0.025863628834486008,
      0.08077860623598099,
      -0.04053361341357231,
      0.00744342477992177,
      0.01445741392672062,
      -0.024693872779607773,
      0.009420846588909626,
      -0.027951465919613838,
      0.16901624202728271,
      0.12958143651485443,
      -0.027615303173661232,
      0.05530553683638573,
      -0.06286369264125824,
      0.0254221148788929,
      -0.008712518028914928,
      -0.03689136728644371,
      0.0063495817594230175,
      0.05451454967260361,
      -0.001995447324588895,
      0.0702667385339737,
      -0.06523247063159943,
      4.4640617547865346e-33,
      -0.05272679775953293,
      -0.011863271705806255,
      0.005631444044411182,
      -0.041938189417123795,
      -0.0036974239628762007,
      0.009123452939093113,
      -0.09383238106966019,
      -0.0064270817674696445,
      -0.05025457218289375,
      0.03494882583618164,
      -0.022490860894322395,
      0.0995018482208252,
      -0.045508574694395065,
      -0.07362467050552368,
      -0.016805365681648254,
      0.00852400716394186,
      -0.009630181826651096,
      0.04673099145293236,
      -0.05279569327831268,
      -0.01939001865684986,
      0.04733980447053909,
      -0.01818910613656044,
      -0.012571648694574833,
      0.022486330941319466,
      -0.014084854163229465,
      0.04904169961810112,
      0.08136733621358871,
      -0.008559681475162506,
      -0.05218541994690895,
      0.0004679042613133788,
      -0.023276299238204956,
      -0.025634603574872017,
      0.005311486776918173,
      -0.03609421104192734,
      0.017135722562670708,
      -0.04802897945046425,
      0.08045059442520142,
      0.062008898705244064,
      -0.015702199190855026,
      -0.07859642058610916,
      -0.036907799541950226,
      0.030700569972395897,
      0.026976754888892174,
      -0.04562734067440033,
      -0.026516368612647057,
      0.025130148977041245,
      -0.09158141165971756,
      0.10628432780504227,
      0.05713914334774017,
      0.07718244194984436,
      0.0031934576109051704,
      -0.015586234629154205,
      -0.03490793704986572,
      0.11034637689590454,
      -0.0433020144701004,
      0.02655123546719551,
      0.07484899461269379,
      -0.003926804289221764,
      0.0780905932188034,
      -0.06545304507017136,
      0.10622023791074753,
      -0.007929941639304161,
      0.07924681901931763,
      -0.12250369042158127,
      -0.018736809492111206,
      0.07179641723632812,
      -0.019271807745099068,
      0.021671343594789505,
      0.03918382152915001,
      -0.004619842395186424,
      -0.00980995874851942,
      -0.03689831495285034,
      -0.03797689452767372,
      -0.006376695353537798,
      0.017540540546178818,
      -0.02271387167274952,
      0.045735642313957214,
      0.017615029588341713,
      -0.009569398127496243,
      -0.02856733836233616,
      -0.024680322036147118,
      0.1234886422753334,
      -0.02478751167654991,
      -0.06776692718267441,
      -0.040145933628082275,
      -0.014161340892314911,
      0.028492514044046402,
      -0.03386364132165909,
      -0.10758530348539352,
      -0.0669606402516365,
      -0.11312304437160492,
      -0.01329121645539999,
      -0.013605178333818913,
      -0.04532213136553764,
      -0.08650790899991989,
      -6.0194747777686316e-33,
      0.09821009635925293,
      0.09175638854503632,
      -0.00627671554684639,
      -0.0016294775996357203,
      0.010830863378942013,
      0.03936915844678879,
      0.031617455184459686,
      0.029899124056100845,
      -0.008394460193812847,
      -0.07763591408729553,
      0.05616839602589607,
      -0.08083418756723404,
      -0.017612414434552193,
      -0.03583438694477081,
      0.09375083446502686,
      0.026112420484423637,
      -0.015174532309174538,
      -0.00018475300748832524,
      -0.03189212828874588,
      0.04966270551085472,
      0.023353159427642822,
      0.004073858726769686,
      -0.010585492476820946,
      -0.00864647887647152,
      -0.09160102903842926,
      -0.009488359093666077,
      -0.10865548998117447,
      -0.017147734761238098,
      0.03129678964614868,
      -0.07156309485435486,
      -0.08077452331781387,
      0.07697678357362747,
      -0.09415788948535919,
      0.005704777780920267,
      -0.016223931685090065,
      -0.01704343967139721,
      0.052546337246894836,
      -0.05256517231464386,
      0.03453543409705162,
      -0.05665275454521179,
      0.046470604836940765,
      0.12344484031200409,
      -0.03646388649940491,
      -0.07564914971590042,
      0.017452841624617577,
      0.044843390583992004,
      0.06196204945445061,
      -0.04261156544089317,
      -0.022158242762088776,
      -0.05543437600135803,
      0.03934412822127342,
      -0.02353699691593647,
      0.08910970389842987,
      0.05389145761728287,
      -0.07485837489366531,
      0.02394268289208412,
      0.0025385203771293163,
      -0.0218138936907053,
      -0.11966991424560547,
      -0.05670008435845375,
      0.014906872995197773,
      -0.00685186218470335,
      -0.11030247062444687,
      -0.05754070356488228,
      -0.07084504514932632,
      -0.011489828117191792,
      -0.02799496427178383,
      -0.06001712754368782,
      0.03627687692642212,
      -0.009734464809298515,
      -0.0430261604487896,
      0.029749687761068344,
      0.032145626842975616,
      0.00023003120440989733,
      -0.054732270538806915,
      0.05116821825504303,
      -0.13417533040046692,
      -0.08199909329414368,
      -0.039412710815668106,
      -0.002417508978396654,
      0.013666028156876564,
      0.060767486691474915,
      0.05514350160956383,
      0.001613618223927915,
      -0.01967570371925831,
      -0.039025500416755676,
      0.08571532368659973,
      0.01028954517096281,
      0.04394025355577469,
      -0.01422363705933094,
      -0.011810584925115108,
      0.03302866593003273,
      -0.06507647037506104,
      0.00474372785538435,
      0.012533318251371384,
      -5.2423686724978324e-08,
      -0.03428342193365097,
      -0.014749868772923946,
      -0.017818044871091843,
      -0.020568061619997025,
      0.0023620689753443003,
      -0.01945813000202179,
      -0.03545659780502319,
      -0.03481089323759079,
      -0.006709436886012554,
      -0.00869848020374775,
      0.037566374987363815,
      -0.06229088082909584,
      -0.08686813712120056,
      0.051386408507823944,
      -0.11594190448522568,
      0.025736777111887932,
      -0.022291064262390137,
      0.08464199304580688,
      -0.005593466106802225,
      -0.1059618592262268,
      -0.04135703667998314,
      0.07654530555009842,
      0.04882596805691719,
      0.02094689942896366,
      -0.018765250220894814,
      0.033014848828315735,
      -0.036761101335287094,
      -0.0315822958946228,
      0.018993668258190155,
      -0.015657169744372368,
      0.004453152418136597,
      0.01611846499145031,
      -0.016414908692240715,
      -0.011306067928671837,
      0.0048096999526023865,
      0.08832275122404099,
      -0.051054760813713074,
      0.0661664679646492,
      -0.018181148916482925,
      0.08508527278900146,
      -0.05325186625123024,
      0.025283120572566986,
      -0.04460832476615906,
      0.010343954898416996,
      0.03324326127767563,
      0.0019524047384038568,
      0.037852827459573746,
      0.06307831406593323,
      0.03878432884812355,
      0.055134743452072144,
      0.06311432272195816,
      0.06714270263910294,
      -0.04249429330229759,
      -0.05078158155083656,
      -0.004565338604152203,
      0.01876791939139366,
      -0.08250261843204498,
      0.09795372933149338,
      -0.060407426208257675,
      0.025123974308371544,
      0.06630545109510422,
      -0.005236165132373571,
      -0.014512441121041775,
      -0.03211269900202751
    ]
  },
  {
    "id": "analysis_rms_chunks.py_compute_rms_chunks",
    "filename": "analysis_rms_chunks.py",
    "function_name": "compute_rms_chunks",
    "text": "## Function: compute_rms_chunks (analysis_rms_chunks.py)\n\n```python\ndef compute_rms_chunks(file_path, chunk_duration=0.5, json_output_path=None):\n    print(\"🔍 Writing RMS JSON to:\", json_output_path)\n    y, sr = librosa.load(file_path, mono=True)\n    samples_per_chunk = int(sr * chunk_duration)\n    total_chunks = len(y) // samples_per_chunk\n\n    rms_chunks = []\n    for i in range(total_chunks):\n        start = i * samples_per_chunk\n        end = start + samples_per_chunk\n        chunk = y[start:end]\n        if len(chunk) == 0:\n            continue\n        rms = np.sqrt(np.mean(chunk ** 2))\n        rms_db = 20 * np.log10(rms + 1e-9)\n        rms_chunks.append(float(np.round(rms_db, 2)))\n\n    # ✅ Write JSON only if path is provided\n    if json_output_path:\n        json_path = Path(json_output_path)\n        json_path.parent.mkdir(parents=True, exist_ok=True)\n        with open(json_path, \"w\") as f:\n            json.dump(rms_chunks, f)\n\n    return rms_chunks\n```\n",
    "embedding": [
      -0.07655637711286545,
      -0.04182329773902893,
      -0.04744154214859009,
      0.016124535351991653,
      -0.013508876785635948,
      -0.11090639978647232,
      -0.07590138912200928,
      0.08498242497444153,
      -0.008433195762336254,
      -0.0027486332692205906,
      -0.016706280410289764,
      -0.017846981063485146,
      -0.06488903611898422,
      0.0014573503285646439,
      0.022236736491322517,
      -0.021677765995264053,
      -0.11104394495487213,
      0.008065148256719112,
      -0.022138815373182297,
      -0.05157918483018875,
      0.15204453468322754,
      0.09852026402950287,
      -0.01844443567097187,
      0.013317040167748928,
      0.11683223396539688,
      -0.049749113619327545,
      -0.006433849222958088,
      0.006831048987805843,
      -0.007857369258999825,
      0.009565097279846668,
      0.03447093814611435,
      -0.038677725940942764,
      0.06873758137226105,
      -0.01363809872418642,
      0.059908363968133926,
      0.028606900945305824,
      -0.009830213151872158,
      -0.05250503122806549,
      -0.005022562108933926,
      -0.02303815446794033,
      0.04355103522539139,
      0.0362570583820343,
      0.038991931825876236,
      -0.06476213037967682,
      0.026905199512839317,
      -0.08097997307777405,
      -0.07384401559829712,
      -0.03757127746939659,
      0.02804783172905445,
      0.05309711769223213,
      -0.018475458025932312,
      -0.0016159949591383338,
      -0.09935162961483002,
      0.0026716641150414944,
      0.02422269433736801,
      -0.0222234595566988,
      0.01685125008225441,
      -0.044779010117053986,
      -0.015795208513736725,
      -0.05274483561515808,
      -0.04395151510834694,
      0.004637147765606642,
      -0.03029065579175949,
      -0.04397987946867943,
      -0.0007121499511413276,
      -0.029198840260505676,
      -0.04762960597872734,
      0.06847260892391205,
      -0.04265206679701805,
      0.07458148896694183,
      0.014028504490852356,
      -0.000921884726267308,
      -0.06219882518053055,
      -0.02247910015285015,
      0.0009268880821764469,
      -0.058858465403318405,
      0.02404097281396389,
      2.8006459160678787e-06,
      -0.04020776227116585,
      -0.03577031195163727,
      -0.03431686386466026,
      -0.048630207777023315,
      0.03379536420106888,
      -0.017905784770846367,
      -0.10293134301900864,
      -0.040607549250125885,
      0.1094665676355362,
      0.12166787683963776,
      -0.013248492032289505,
      -0.05501328781247139,
      -0.01625559665262699,
      0.011930786073207855,
      -0.043682605028152466,
      -0.00793664064258337,
      0.016648251563310623,
      0.11960078030824661,
      0.07795091718435287,
      0.010695069096982479,
      0.051276639103889465,
      0.030982254073023796,
      0.0196339413523674,
      -0.0008176928386092186,
      0.08419010788202286,
      -0.017812784761190414,
      0.04536924883723259,
      0.004098295699805021,
      0.0733191967010498,
      0.05313757807016373,
      -0.03928107023239136,
      0.018548792228102684,
      0.0404861755669117,
      0.07177647948265076,
      -0.04411166161298752,
      -0.004106368403881788,
      0.10447058826684952,
      0.05093452334403992,
      0.014843889512121677,
      0.03280672803521156,
      -0.0639507994055748,
      0.11842171102762222,
      0.028278598561882973,
      -0.01577857695519924,
      0.019961053505539894,
      0.08553189784288406,
      0.055164288729429245,
      -0.005850312765687704,
      0.011972896754741669,
      4.2400386128007155e-33,
      -0.03375457599759102,
      -0.045987796038389206,
      0.09660576283931732,
      -0.09935387223958969,
      0.002638606820255518,
      -0.011790330521762371,
      -0.04208848252892494,
      -0.014566753059625626,
      -0.009818408638238907,
      0.04886491969227791,
      -0.10371670126914978,
      0.039335425943136215,
      -0.033126041293144226,
      0.004293013364076614,
      0.0009955912828445435,
      -0.032821036875247955,
      0.01668175496160984,
      -0.0010663917055353522,
      0.017172550782561302,
      0.03074941411614418,
      0.0549137145280838,
      -0.05148034542798996,
      0.027527734637260437,
      0.02833407185971737,
      -0.09799080342054367,
      -0.05810811370611191,
      0.029002267867326736,
      -0.008119861595332623,
      -0.08883914351463318,
      0.013207062147557735,
      0.03978103771805763,
      0.040927302092313766,
      -0.06224566698074341,
      -0.039707355201244354,
      0.04479488730430603,
      -0.035804565995931625,
      0.04051731526851654,
      0.023211192339658737,
      -0.008362133987247944,
      -0.06992672383785248,
      0.02121320180594921,
      0.04063395783305168,
      -0.020055703818798065,
      -0.003049943596124649,
      -0.07654937356710434,
      -0.04526466876268387,
      -0.03233768418431282,
      0.04168939217925072,
      -0.01886976882815361,
      0.11566411703824997,
      -0.020817816257476807,
      0.019545409828424454,
      0.008155835792422295,
      0.09145018458366394,
      -0.016814475879073143,
      0.011704951524734497,
      0.05964379385113716,
      -0.0075294263660907745,
      0.07129465788602829,
      -0.03585703670978546,
      0.0861896276473999,
      -0.021890051662921906,
      0.027086883783340454,
      0.00868783425539732,
      -0.017579739913344383,
      0.07476536929607391,
      0.05396462231874466,
      0.04216882586479187,
      -0.0066856625489890575,
      0.059129174798727036,
      -0.018963975831866264,
      -0.03893095999956131,
      -0.029606012627482414,
      -0.0872427374124527,
      -0.01374447625130415,
      -0.06945572048425674,
      0.04387476295232773,
      0.04638300836086273,
      -0.09531111270189285,
      -0.03129413723945618,
      0.008952637203037739,
      0.07465294003486633,
      -0.023048900067806244,
      -0.11296560615301132,
      -0.009392810054123402,
      0.0004587052681017667,
      0.013201010413467884,
      -0.04331781342625618,
      -0.09140895307064056,
      -0.10828886926174164,
      -0.10306017845869064,
      0.015124065801501274,
      0.03636065497994423,
      -0.05308057367801666,
      -0.08729374408721924,
      -5.0552035374776624e-33,
      0.054037805646657944,
      0.03853951767086983,
      0.11327211558818817,
      0.00010290740465279669,
      0.05730792135000229,
      -0.02688303403556347,
      0.00024685519747436047,
      0.04385827109217644,
      0.07904304563999176,
      0.0391266904771328,
      -0.037993621081113815,
      -0.08647704124450684,
      0.026071764528751373,
      -0.04347054660320282,
      0.016713541001081467,
      0.03753715381026268,
      0.01694474183022976,
      -0.01775934174656868,
      -0.008421380072832108,
      -0.04709100350737572,
      -0.007978944107890129,
      -0.022226905450224876,
      0.06807855516672134,
      -0.027295511215925217,
      -0.028760312125086784,
      -0.019929051399230957,
      -0.026735221967101097,
      -0.022248130291700363,
      -0.11516722291707993,
      -0.09564841538667679,
      -0.08823394030332565,
      -0.0016232997877523303,
      -0.06462369114160538,
      -0.017396168783307076,
      -0.03716123476624489,
      -0.029681149870157242,
      0.06313799321651459,
      0.038347985595464706,
      -0.0020014410838484764,
      0.0026558805257081985,
      0.07899414002895355,
      0.08858391642570496,
      -0.045463938266038895,
      0.01457380410283804,
      0.027921341359615326,
      -0.021599186584353447,
      0.06635751575231552,
      0.0022815039847046137,
      -0.029508063569664955,
      -0.047958750277757645,
      0.05211943760514259,
      0.010873151011765003,
      -0.01942160166800022,
      0.10941526293754578,
      -0.008177239447832108,
      0.01792321912944317,
      -0.011506421491503716,
      0.0013449538964778185,
      -0.08712364733219147,
      -0.07386667281389236,
      -0.09249496459960938,
      -0.07125840336084366,
      -0.07881785184144974,
      -0.041223764419555664,
      0.03483198583126068,
      -0.06436231732368469,
      -0.0010902815265581012,
      -0.05558030679821968,
      -0.011284422129392624,
      0.030322937294840813,
      -0.021306350827217102,
      0.04203053191304207,
      0.08012856543064117,
      0.01304941438138485,
      -0.059284258633852005,
      0.016101736575365067,
      -0.10255687683820724,
      -0.1352258175611496,
      -0.04981835559010506,
      0.04152732342481613,
      -0.009784478694200516,
      0.05356411263346672,
      0.01904570683836937,
      0.054002296179533005,
      0.022172261029481888,
      -0.03528454527258873,
      0.07991911470890045,
      0.006785353645682335,
      0.009559376165270805,
      -0.021051615476608276,
      0.0020164288580417633,
      0.09185659140348434,
      0.06649146974086761,
      0.01831027865409851,
      -0.0014989946503192186,
      -5.093624722007917e-08,
      0.013811550103127956,
      -0.019249068573117256,
      -0.07980449497699738,
      0.0724455714225769,
      0.03588519245386124,
      0.02794170007109642,
      -0.023569613695144653,
      0.012664088979363441,
      0.058122750371694565,
      0.011558176949620247,
      0.11602140963077545,
      -0.012986475601792336,
      -0.12676095962524414,
      0.011616659350693226,
      -0.052464600652456284,
      0.014091948047280312,
      -0.03293337672948837,
      0.06460225582122803,
      -0.0198993943631649,
      0.006379460450261831,
      0.05635414272546768,
      0.019369540736079216,
      0.024426842108368874,
      -0.0032869414426386356,
      -0.016135798767209053,
      -0.049075569957494736,
      0.0042932056821882725,
      -0.023409323766827583,
      -0.01722734235227108,
      -0.06463796645402908,
      0.003985850140452385,
      -0.004305872600525618,
      0.0012126755900681019,
      -0.008576893247663975,
      -0.018536673858761787,
      -0.011928764171898365,
      0.07838328927755356,
      0.07545676082372665,
      0.03085733950138092,
      0.08342713117599487,
      -0.026480617001652718,
      0.07385632395744324,
      -0.07406318187713623,
      0.024551061913371086,
      0.06670670211315155,
      -0.044553570449352264,
      -0.04677273705601692,
      0.08362478017807007,
      0.055738549679517746,
      0.05492760241031647,
      0.051492031663656235,
      -0.02049754373729229,
      -0.0005161570734344423,
      -0.019671883434057236,
      0.022490810602903366,
      -0.04055441915988922,
      -0.052654895931482315,
      0.038743164390325546,
      -0.01678837649524212,
      0.029506631195545197,
      0.07268939167261124,
      -0.01829584687948227,
      -0.0013556202175095677,
      -0.07098278403282166
    ]
  },
  {
    "id": "analysis_rms_chunks.py_process_reference_track",
    "filename": "analysis_rms_chunks.py",
    "function_name": "process_reference_track",
    "text": "## Function: process_reference_track (analysis_rms_chunks.py)\n\n```python\ndef process_reference_track(ref_track_path, rms_json_output_dir):\n    # Define output JSON path (e.g., alongside ref track)\n    json_output_path = Path(rms_json_output_dir) / (Path(ref_track_path).stem + \"_rms.json\")\n\n    # Compute RMS chunks using your function\n    rms_chunks = compute_rms_chunks(str(ref_track_path), chunk_duration=0.5, json_output_path=str(json_output_path))\n\n    print(f\"Reference track RMS JSON saved at: {json_output_path}\")\n    return json_output_path\n```\n",
    "embedding": [
      -0.07088956236839294,
      -0.009729601442813873,
      -0.05247660353779793,
      0.010535226203501225,
      -0.012201419100165367,
      -0.06758037954568863,
      -0.08391758799552917,
      0.08145469427108765,
      -0.023657124489545822,
      -0.05769070237874985,
      -0.03059713914990425,
      -0.017161564901471138,
      -0.05277002230286598,
      0.017495855689048767,
      0.00250611687079072,
      -0.038195185363292694,
      -0.08859268575906754,
      0.029595691710710526,
      -0.016629619523882866,
      -0.11276417970657349,
      0.13959640264511108,
      0.09724247455596924,
      -0.025216788053512573,
      0.05327972397208214,
      0.06612652540206909,
      -0.0257282592356205,
      -0.06042671576142311,
      0.03221796825528145,
      0.023765509948134422,
      0.0010405476205050945,
      0.05053453519940376,
      -0.001343651325441897,
      0.059124525636434555,
      0.003588855965062976,
      0.055852990597486496,
      0.06909506022930145,
      0.009596692398190498,
      -0.0777582898736,
      0.051838964223861694,
      -0.012502896599471569,
      0.08347253501415253,
      0.0669512152671814,
      0.017698248848319054,
      -0.04332505911588669,
      0.03974076360464096,
      -0.045620642602443695,
      -0.06588960438966751,
      -0.00933102983981371,
      -0.009408100508153439,
      0.06099218502640724,
      -0.024309605360031128,
      0.04435868188738823,
      -0.057475291192531586,
      0.02150353230535984,
      0.012038123793900013,
      0.040381453931331635,
      0.046963613480329514,
      -0.03585280478000641,
      -0.051483601331710815,
      -0.04418805614113808,
      -0.034274548292160034,
      -0.0503234788775444,
      -0.044976845383644104,
      -0.08587922155857086,
      -0.0519661009311676,
      -0.01962684839963913,
      -0.025344232097268105,
      0.039639122784137726,
      0.009855586104094982,
      0.07829069346189499,
      0.01556581910699606,
      0.020031539723277092,
      -0.023094378411769867,
      -0.023325452581048012,
      0.008428814820945263,
      -0.039168067276477814,
      -0.020979586988687515,
      -0.007685384247452021,
      -0.05057455599308014,
      -0.03188878670334816,
      -0.016078494489192963,
      -0.08846110105514526,
      -0.012052399106323719,
      -0.03693731129169464,
      -0.05357860028743744,
      -0.03710436075925827,
      0.0703044980764389,
      0.07367022335529327,
      -0.01920956000685692,
      -0.013913780450820923,
      -0.03624351695179939,
      -0.0704524889588356,
      -0.019351186230778694,
      -0.05159958079457283,
      0.027603328227996826,
      0.09825803339481354,
      0.029573770239949226,
      -0.017195358872413635,
      0.07950721681118011,
      0.019722823053598404,
      -0.011622278019785881,
      0.07053080201148987,
      0.07648540288209915,
      0.00237444625236094,
      0.021800348535180092,
      0.03378473222255707,
      -0.018145982176065445,
      0.08138351887464523,
      -0.030103394761681557,
      0.003176020458340645,
      0.02022550441324711,
      0.03127777948975563,
      -0.01251787319779396,
      0.014933318831026554,
      0.13581766188144684,
      0.048432763665914536,
      -0.010944617912173271,
      -0.00054964330047369,
      -0.019016213715076447,
      0.1099420040845871,
      0.03802749142050743,
      -0.010904619470238686,
      0.007329941261559725,
      0.0833296850323677,
      0.03768244385719299,
      -0.027479616925120354,
      -0.012852608226239681,
      -1.006646893283151e-33,
      -0.023013854399323463,
      -0.013669012114405632,
      0.12273894250392914,
      -0.14783743023872375,
      -0.012087265960872173,
      -0.034714315086603165,
      -0.04709654673933983,
      0.00536244036629796,
      0.04017840325832367,
      0.031072912737727165,
      -0.08327721804380417,
      0.04364028200507164,
      -0.018947353586554527,
      -0.007726217154413462,
      -0.03587045148015022,
      -0.058072224259376526,
      -0.017610963433980942,
      0.051690440624952316,
      -0.04722544550895691,
      0.029745176434516907,
      0.04024452343583107,
      -0.011090770363807678,
      -0.022184140980243683,
      0.01600540056824684,
      -0.06841286271810532,
      -0.072368323802948,
      -0.005097498185932636,
      0.02801596373319626,
      -0.07085255533456802,
      0.02260500006377697,
      -0.02868129499256611,
      0.02095034159719944,
      -0.014998609200119972,
      -0.014481067657470703,
      0.0580851174890995,
      -0.017185518518090248,
      0.010996340773999691,
      0.006348064634948969,
      -0.016050251200795174,
      -0.08763612806797028,
      0.030600950121879578,
      0.0417766235768795,
      -0.01830468513071537,
      0.002373575698584318,
      -0.12989257276058197,
      -0.04463639482855797,
      -0.05793631821870804,
      0.03682957962155342,
      -0.0011282714549452066,
      0.09459896385669708,
      0.027433566749095917,
      0.024209892377257347,
      0.018043486401438713,
      0.05299971252679825,
      -0.024658840149641037,
      -0.06688588857650757,
      0.06978955119848251,
      0.031156273558735847,
      0.08510537445545197,
      -0.03188546746969223,
      0.0890248566865921,
      0.0037912214174866676,
      0.01249180268496275,
      0.043487757444381714,
      -0.02081018127501011,
      0.05492829158902168,
      0.02994745783507824,
      0.05343223363161087,
      0.027794815599918365,
      0.08120453357696533,
      -0.027915650978684425,
      0.04589061066508293,
      -0.04814881831407547,
      -0.06222566217184067,
      0.04439456760883331,
      -0.06399475783109665,
      0.00683782109990716,
      0.01465571578592062,
      -0.09590762108564377,
      -0.02710566483438015,
      -0.014766452834010124,
      0.09259278327226639,
      -0.013133990578353405,
      -0.10411421954631805,
      -0.016426067799329758,
      -0.011139707639813423,
      -0.00787705834954977,
      -0.0187526848167181,
      -0.06711342185735703,
      -0.09534261375665665,
      -0.11900161951780319,
      0.046591617166996,
      0.024766022339463234,
      -0.0015160006005316973,
      -0.05415486544370651,
      -7.845837044563358e-34,
      0.08076980710029602,
      0.029080908745527267,
      0.15464811027050018,
      0.005788933020085096,
      0.008109595626592636,
      -0.033976174890995026,
      0.008264695294201374,
      0.08012906461954117,
      0.060084905475378036,
      0.05523224547505379,
      -0.07114498317241669,
      -0.09541882574558258,
      0.027382763102650642,
      0.005257170647382736,
      0.037837203592061996,
      0.010508858598768711,
      0.03487024083733559,
      0.012637277133762836,
      0.04337465390563011,
      0.01637631468474865,
      -0.011321241967380047,
      -0.045058514922857285,
      0.041514135897159576,
      -0.022732511162757874,
      -0.050425462424755096,
      -0.0275457464158535,
      0.05196306109428406,
      -0.0545450784265995,
      -0.05230461433529854,
      -0.08017650991678238,
      -0.05627092719078064,
      -0.013866082765161991,
      -0.061090774834156036,
      -0.03721977025270462,
      0.007547487039119005,
      -0.04747471213340759,
      0.05450177565217018,
      0.021737975999712944,
      0.0175084937363863,
      -0.027399271726608276,
      0.08970995247364044,
      0.1224055364727974,
      -0.07436414808034897,
      0.06018712744116783,
      0.053000397980213165,
      -0.027728145942091942,
      0.07821649312973022,
      0.042399775236845016,
      -0.03531618416309357,
      -0.07857345789670944,
      0.020812980830669403,
      0.03377441316843033,
      -0.024249447509646416,
      0.0627526193857193,
      -0.029059935361146927,
      0.020659131929278374,
      -0.012191418558359146,
      -0.013253345154225826,
      -0.06527860462665558,
      -0.04812738299369812,
      -0.08399643748998642,
      -0.07283535599708557,
      -0.08575913310050964,
      -0.04842500388622284,
      0.036302778869867325,
      -0.053355950862169266,
      -0.009794111363589764,
      -0.060852594673633575,
      -0.020569801330566406,
      0.05016706511378288,
      0.0009766214061528444,
      0.06673812121152878,
      0.039928849786520004,
      0.04563968628644943,
      -0.0729735791683197,
      0.011507922783493996,
      -0.10998931527137756,
      -0.08416106551885605,
      -0.06254973262548447,
      0.0742056593298912,
      -0.01637500524520874,
      0.04749482870101929,
      0.013046614825725555,
      0.023960918188095093,
      0.028551137074828148,
      -0.01882411539554596,
      0.06353241205215454,
      0.03532152250409126,
      -0.023703766986727715,
      -0.06137856841087341,
      0.01985635608434677,
      0.060578152537345886,
      0.04183876886963844,
      0.04405229166150093,
      -0.011170175857841969,
      -3.901374157067039e-08,
      0.007411161903291941,
      -0.022623714059591293,
      -0.04351985082030296,
      0.11722420156002045,
      0.020636621862649918,
      0.03834502026438713,
      -0.016104746609926224,
      0.0335053913295269,
      0.036162570118904114,
      -0.008638470433652401,
      0.05046171322464943,
      -0.032191142439842224,
      -0.13305412232875824,
      0.007655729539692402,
      -0.033401571214199066,
      -0.001908421516418457,
      -0.030181340873241425,
      0.08842281252145767,
      -0.003696601139381528,
      0.004126123618334532,
      0.06898260116577148,
      -0.008571382611989975,
      0.03894452005624771,
      0.01493219006806612,
      -0.05679284408688545,
      -0.04301887005567551,
      0.028396543115377426,
      0.01382641401141882,
      -0.02231941930949688,
      -0.1024911105632782,
      0.05815385654568672,
      0.018280193209648132,
      -0.029662074521183968,
      0.0027798847295343876,
      -0.02902633138000965,
      -0.039247799664735794,
      0.07389724254608154,
      0.08272562175989151,
      0.04962731897830963,
      0.10206727683544159,
      -0.04775390401482582,
      0.07036615908145905,
      -0.10404794663190842,
      0.03275948762893677,
      0.05795580893754959,
      -0.04802434891462326,
      -0.04058188199996948,
      0.06856128573417664,
      0.005518794059753418,
      0.0316101536154747,
      0.012101511470973492,
      -0.02547510340809822,
      -0.02085038088262081,
      -0.04141794517636299,
      0.0367698147892952,
      -0.03835010901093483,
      -0.04133012518286705,
      -0.010459368117153645,
      -0.06143621727824211,
      0.03455474600195885,
      0.07440581172704697,
      -0.007908393628895283,
      0.020661961287260056,
      -0.009112472645938396
    ]
  },
  {
    "id": "sessions.py_get_db",
    "filename": "sessions.py",
    "function_name": "get_db",
    "text": "## Function: get_db (sessions.py)\n\n```python\ndef get_db():\n    db = SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n```\n",
    "embedding": [
      0.0021823770366609097,
      0.06341580301523209,
      -0.062207695096731186,
      0.06499218940734863,
      -0.017093030735850334,
      -0.06166261434555054,
      0.0806397795677185,
      0.03406168892979622,
      0.00045858067460358143,
      -0.002082417719066143,
      -0.0375344455242157,
      0.004528076853603125,
      -0.022143308073282242,
      -0.007908071391284466,
      0.05488215386867523,
      0.010971631854772568,
      -0.03787779062986374,
      -0.024730443954467773,
      0.059876877814531326,
      0.03247831016778946,
      0.034003738313913345,
      0.13153520226478577,
      0.030183447524905205,
      0.07341673970222473,
      -0.009025109931826591,
      -0.09423409402370453,
      -0.02920573763549328,
      0.021433359012007713,
      -0.022070150822401047,
      0.012646795250475407,
      0.00848099123686552,
      0.06345688551664352,
      -0.12722913920879364,
      -0.02043934352695942,
      0.07397747039794922,
      0.0364963635802269,
      -0.022790109738707542,
      -0.027507053688168526,
      0.1247975155711174,
      -0.04026104137301445,
      0.0056644161231815815,
      -0.041016507893800735,
      -0.08582375943660736,
      0.06799979507923126,
      -9.957863221643493e-05,
      -0.005192607641220093,
      -0.10557767003774643,
      0.05130080506205559,
      0.0272862259298563,
      -0.023582033812999725,
      0.004652536474168301,
      0.04630456492304802,
      -0.013237246312201023,
      -0.00907693151384592,
      0.0415165014564991,
      0.07166256755590439,
      0.0519847646355629,
      0.031557079404592514,
      -0.06757751852273941,
      0.10565576702356339,
      -0.08497744798660278,
      0.004538423381745815,
      -0.026951583102345467,
      0.02979813702404499,
      -0.05428806319832802,
      -0.028316788375377655,
      -0.0003632299485616386,
      -0.02000579424202442,
      0.08151055127382278,
      -0.02714010514318943,
      -0.058637890964746475,
      -0.04141900688409805,
      -0.06613259017467499,
      -0.06277693808078766,
      -0.0032298327423632145,
      -0.10715460032224655,
      0.0423634871840477,
      -0.05854927375912666,
      -0.08610589802265167,
      0.043016497045755386,
      -0.10191694647073746,
      -0.09294930100440979,
      0.017465511336922646,
      -0.0026925706770271063,
      0.01672733761370182,
      -0.050959616899490356,
      0.002004491165280342,
      0.02138078399002552,
      0.02279558777809143,
      -0.01185201108455658,
      -0.06903403997421265,
      0.033430065959692,
      -0.07874772697687149,
      0.050895806401968,
      -0.10439662635326385,
      0.020210379734635353,
      0.044847793877124786,
      -0.01059000939130783,
      0.05720546841621399,
      0.06756908446550369,
      0.006348182447254658,
      0.07901792973279953,
      0.02223464474081993,
      -0.0221786480396986,
      0.03330661356449127,
      0.027615968137979507,
      -0.015254322439432144,
      -0.09225384145975113,
      -0.03910890594124794,
      -0.029560625553131104,
      -0.015468467026948929,
      0.04844812676310539,
      -0.006486279424279928,
      0.02234618365764618,
      0.05335114523768425,
      0.04566559940576553,
      -0.01631108857691288,
      0.002748463535681367,
      -0.00930026639252901,
      0.06328091770410538,
      0.12797968089580536,
      0.046285610646009445,
      -0.00981270894408226,
      0.05147732049226761,
      -0.03290969133377075,
      0.02728937566280365,
      0.06526043266057968,
      -9.627663320154282e-34,
      0.011763601563870907,
      -0.1462988704442978,
      0.08622411638498306,
      0.014265649951994419,
      0.0158685352653265,
      0.12547102570533752,
      -0.013265213929116726,
      0.008758164942264557,
      -0.05993394926190376,
      0.0678660050034523,
      -0.11428268253803253,
      0.02159048803150654,
      0.031642280519008636,
      -0.0565001480281353,
      -0.011120680719614029,
      0.04794492572546005,
      -0.03799615427851677,
      0.02173745073378086,
      0.024969372898340225,
      0.0491347461938858,
      0.022808963432908058,
      -0.014568677172064781,
      0.020889781415462494,
      0.03995014354586601,
      0.03631407395005226,
      0.042846012860536575,
      -0.03844964876770973,
      0.021076533943414688,
      -0.03638685867190361,
      0.02227397821843624,
      -0.08332756906747818,
      -0.05380171164870262,
      0.025408972054719925,
      -0.002386515960097313,
      -0.016341159120202065,
      -0.016097357496619225,
      -0.0009103324264287949,
      0.00015160102338995785,
      -0.047780536115169525,
      -0.09348583221435547,
      -0.01223436463624239,
      0.04386650025844574,
      -0.037283457815647125,
      0.0030045867897570133,
      -0.08305998891592026,
      -0.0037896335124969482,
      -0.025803955271840096,
      0.05082422122359276,
      0.010540799237787724,
      -0.0013931713765487075,
      -0.07822901755571365,
      -0.013620957732200623,
      -0.0165711659938097,
      0.05468466505408287,
      -0.028196612372994423,
      -0.012901701033115387,
      0.032060761004686356,
      0.05543619766831398,
      0.04894382879137993,
      -0.06996558606624603,
      0.05308445543050766,
      -0.050392597913742065,
      -0.018251603469252586,
      -0.0829620361328125,
      -0.03382989391684532,
      0.008955002762377262,
      0.0025411564856767654,
      0.0698501318693161,
      0.03819916024804115,
      -0.0063563138246536255,
      -0.04756419360637665,
      0.045477960258722305,
      0.0011167649645358324,
      -0.0827193409204483,
      0.04500804841518402,
      0.001748317969031632,
      -0.03613763675093651,
      -0.03429725393652916,
      -0.01328477542847395,
      0.05353695526719093,
      0.1471395045518875,
      -0.012404625304043293,
      -0.07850422710180283,
      0.009379222989082336,
      0.006023244932293892,
      0.014006609097123146,
      0.011079590767621994,
      -0.0019363164901733398,
      -0.02966926433146,
      -0.016055719926953316,
      -0.1445206254720688,
      -0.06951042264699936,
      0.053062669932842255,
      -0.03886552155017853,
      -0.04143115505576134,
      -2.5078218722343384e-33,
      0.07861901074647903,
      -0.020188942551612854,
      -0.0030330978333950043,
      -0.01717832125723362,
      0.06974341720342636,
      -0.039103757590055466,
      0.05595781281590462,
      -0.03702487424015999,
      -0.06816349923610687,
      -0.04422706365585327,
      0.015897898003458977,
      -0.0028793979436159134,
      0.09119971841573715,
      0.017992088571190834,
      0.0046127256937325,
      0.10614769160747528,
      -0.02736789360642433,
      0.010059347376227379,
      -0.04200064763426781,
      0.0474877767264843,
      -0.06937150657176971,
      -0.008037806488573551,
      0.003986706957221031,
      -0.0512085035443306,
      -0.04800967499613762,
      -0.0653284564614296,
      -0.01842569373548031,
      -0.10820799320936203,
      -0.0036397676449269056,
      0.022065991535782814,
      -0.017627621069550514,
      0.003647146513685584,
      -0.07660388201475143,
      0.09483011066913605,
      -0.004711204208433628,
      0.018802670761942863,
      -0.0005473023629747331,
      -0.025257043540477753,
      0.00955124944448471,
      0.0665425956249237,
      0.10196806490421295,
      0.0938178077340126,
      -0.0647214949131012,
      -0.02701139636337757,
      0.0030546498019248247,
      0.06379395723342896,
      -0.0602286271750927,
      0.04744976386427879,
      -0.07684995234012604,
      -0.04882654547691345,
      0.00657383119687438,
      -0.06883849203586578,
      -0.017968958243727684,
      -0.04655683413147926,
      -0.030403010547161102,
      -0.058537282049655914,
      0.03440859168767929,
      -0.006596414837986231,
      -0.030221140012145042,
      -0.039903998374938965,
      -0.02644043229520321,
      -0.022855112329125404,
      -0.07183567434549332,
      0.025699015706777573,
      -0.06596524268388748,
      -0.028517650440335274,
      -0.06376480311155319,
      0.0849122479557991,
      0.030779631808400154,
      -0.033382728695869446,
      0.00698502641171217,
      0.010572055354714394,
      0.03971760347485542,
      0.09881304204463959,
      -0.00025302518042735755,
      0.12220299243927002,
      -0.1048583984375,
      -0.09533457458019257,
      0.0013142595998942852,
      0.09180987626314163,
      0.026429308578372,
      -0.03272499144077301,
      0.014979926869273186,
      -0.006229719612747431,
      -0.018631577491760254,
      -0.07736402750015259,
      -0.009359912946820259,
      0.04519709199666977,
      -0.028711317107081413,
      -0.05449924245476723,
      -0.06544087082147598,
      0.04269494488835335,
      -0.02669343538582325,
      0.03841524198651314,
      0.07530753314495087,
      -2.6287951371273266e-08,
      -0.006773615255951881,
      -0.04763169586658478,
      0.1030225083231926,
      -0.020226534456014633,
      0.05298677831888199,
      0.0162339024245739,
      0.030078954994678497,
      0.09020332247018814,
      -0.0021041836589574814,
      0.027742285281419754,
      0.02585965394973755,
      -0.04794445261359215,
      0.046746134757995605,
      0.04078901186585426,
      -0.043790239840745926,
      0.057454030960798264,
      0.06330929696559906,
      0.054918207228183746,
      0.022061984986066818,
      -0.02642621472477913,
      -0.05362336337566376,
      -0.02135353721678257,
      0.03356162831187248,
      -0.026194309815764427,
      -0.001915679662488401,
      -0.004170245490968227,
      -0.039812009781599045,
      0.04634477570652962,
      -0.05084298551082611,
      -0.09154405444860458,
      0.043569087982177734,
      0.004446601029485464,
      -0.027413586154580116,
      0.03654984384775162,
      -0.014929856173694134,
      0.0932055339217186,
      -0.0011983640724793077,
      0.02876359038054943,
      0.00419239979237318,
      0.09678560495376587,
      -0.08929115533828735,
      -0.0797252357006073,
      -0.010453558526933193,
      0.02565240114927292,
      -0.030083056539297104,
      -0.005301411263644695,
      -0.014216351322829723,
      0.09546243399381638,
      0.042668960988521576,
      0.006674465257674456,
      0.03159947320818901,
      -0.053913794457912445,
      -0.041990745812654495,
      -0.02017616108059883,
      -0.0009715156047604978,
      0.031778015196323395,
      -0.01897124946117401,
      -0.03151668235659599,
      -0.0341171957552433,
      -0.07882519066333771,
      -0.04470790922641754,
      0.02703128382563591,
      0.019119013100862503,
      -0.027871493250131607
    ]
  },
  {
    "id": "sessions.py_create_or_get_session",
    "filename": "sessions.py",
    "function_name": "create_or_get_session",
    "text": "## Function: create_or_get_session (sessions.py)\n\n```python\n@router.post(\"/\")\ndef create_or_get_session(\n    session_name: str = Body(...),\n    user_id: int = Body(...),\n    db: Session = Depends(get_db)\n):\n    existing = db.query(UserSession).filter_by(session_name=session_name, user_id=user_id).first()\n    if existing:\n        return {\"id\": existing.id, \"session_name\": existing.session_name}\n\n    session_id = str(uuid.uuid4())\n    new_session = UserSession(id=session_id, session_name=session_name, user_id=user_id)\n    db.add(new_session)\n    db.commit()\n    db.refresh(new_session)\n    return {\"id\": new_session.id, \"session_name\": new_session.session_name}\n```\n",
    "embedding": [
      -0.00942701194435358,
      0.07894979417324066,
      -0.04249143227934837,
      0.02270274981856346,
      -0.04576942324638367,
      -0.0817548930644989,
      0.08143608272075653,
      0.018876802176237106,
      -0.023001020774245262,
      -0.01819063164293766,
      -0.008961770683526993,
      -0.026365987956523895,
      -0.006130356341600418,
      0.005349553655833006,
      0.022152787074446678,
      0.030064981430768967,
      -0.04215320572257042,
      -0.010456686839461327,
      0.024546904489398003,
      -0.04111571982502937,
      0.051739975810050964,
      0.04749683290719986,
      0.020355956628918648,
      0.020295558497309685,
      0.011413704603910446,
      -0.13336923718452454,
      0.013294389471411705,
      0.004761127755045891,
      0.04987959563732147,
      0.0024406190495938063,
      0.08198633790016174,
      0.017361145466566086,
      -0.10259668529033661,
      -0.02985355816781521,
      0.0374443456530571,
      -0.032211240381002426,
      0.012577753514051437,
      -0.04606666415929794,
      0.08754199743270874,
      -0.07425376772880554,
      -0.029855813831090927,
      -0.029345041140913963,
      -0.024095643311738968,
      0.08021454513072968,
      -0.020859314128756523,
      0.005498812068253756,
      -0.0483015738427639,
      0.08255162835121155,
      0.05363476648926735,
      -0.019761404022574425,
      0.027165262028574944,
      0.03460870683193207,
      -0.04877106845378876,
      -0.025002408772706985,
      -0.038847070187330246,
      0.05327209457755089,
      -0.09021604806184769,
      0.04773306846618652,
      -0.06387660652399063,
      -0.005334343761205673,
      -0.023593401536345482,
      -0.025041529908776283,
      0.10340473800897598,
      -0.012742605060338974,
      -0.08306469023227692,
      -0.01727631688117981,
      0.009329995140433311,
      -0.023503605276346207,
      0.11945359408855438,
      0.022819584235548973,
      -0.05611122399568558,
      0.02682596817612648,
      -0.11896322667598724,
      -0.015589394606649876,
      -0.037529442459344864,
      -0.08576081693172455,
      0.023616958409547806,
      -0.004229232203215361,
      -0.1166578158736229,
      0.041264768689870834,
      -0.06475578993558884,
      -0.05533125251531601,
      -0.011475468054413795,
      -0.07795348763465881,
      0.010741484351456165,
      -0.06627966463565826,
      -0.007048979867249727,
      -0.036840807646512985,
      -0.028455376625061035,
      -0.026319356635212898,
      -0.05514638125896454,
      0.02837057039141655,
      -0.020584922283887863,
      -0.011201302520930767,
      -0.0689663514494896,
      0.04490884765982628,
      0.022414645180106163,
      0.09371647983789444,
      0.04426821321249008,
      0.13982701301574707,
      -0.0358438603579998,
      -0.06354527920484543,
      -0.02166147530078888,
      0.06259208172559738,
      0.056983720511198044,
      0.02979126386344433,
      0.02932712808251381,
      -0.04735451564192772,
      -0.06470079720020294,
      0.017097817733883858,
      -0.04067414626479149,
      0.06712829321622849,
      0.04390436410903931,
      0.03244571015238762,
      0.06290596723556519,
      0.019878022372722626,
      0.021864650771021843,
      0.07072068005800247,
      -0.035341620445251465,
      0.02895796112716198,
      0.10425430536270142,
      -0.01968417689204216,
      0.018735677003860474,
      -0.007060931995511055,
      -0.026019666343927383,
      0.0013106437399983406,
      0.10819627344608307,
      8.781506670588898e-34,
      0.08049029111862183,
      0.01296802144497633,
      0.03303913772106171,
      0.03315933048725128,
      -0.021086620166897774,
      0.13948553800582886,
      0.04007317125797272,
      0.048038795590400696,
      -0.020949549973011017,
      0.006755721289664507,
      -0.06774535775184631,
      -0.03713234141469002,
      0.062179647386074066,
      -0.02247830294072628,
      -0.03825228661298752,
      -0.06025055795907974,
      -0.06369760632514954,
      0.013097058981657028,
      0.0710911974310875,
      0.014329595491290092,
      -0.016009192913770676,
      -0.040647946298122406,
      0.0286763496696949,
      0.05264240875840187,
      0.031319741159677505,
      -0.01152942143380642,
      -0.009494160301983356,
      0.004504728130996227,
      -0.05652337893843651,
      -0.02069941535592079,
      -0.04534217342734337,
      0.01480565220117569,
      -0.015022089704871178,
      0.017804689705371857,
      -0.0061024511232972145,
      0.014313054271042347,
      0.02687644027173519,
      0.004312762524932623,
      -0.055431872606277466,
      -0.08578318357467651,
      0.010862861759960651,
      0.045494724065065384,
      -0.036129843443632126,
      -0.015714913606643677,
      -0.08618871867656708,
      -0.03010879084467888,
      -0.0576101690530777,
      0.07482211291790009,
      -0.03269064426422119,
      -0.020999319851398468,
      -0.08867008239030838,
      0.014394155703485012,
      -0.00034677833900786936,
      0.014612818136811256,
      -0.057678043842315674,
      -0.07930382341146469,
      -0.0590074248611927,
      0.054076291620731354,
      0.0014817271148785949,
      -0.057371024042367935,
      0.050674911588430405,
      -0.018243901431560516,
      -0.038000982254743576,
      0.0183443333953619,
      -0.00032936831121332943,
      0.008206675760447979,
      0.09476476162672043,
      0.0688808262348175,
      0.06842422485351562,
      -0.06240551173686981,
      -0.008158711716532707,
      6.90108208800666e-05,
      -0.04052133113145828,
      -0.019440697506070137,
      -0.014896976761519909,
      -0.07952017337083817,
      -0.04770457744598389,
      0.04811127856373787,
      -0.017806148156523705,
      0.010695106349885464,
      0.008072974160313606,
      -0.008218739181756973,
      -0.11162887513637543,
      0.05342470109462738,
      -0.04217557981610298,
      0.039212666451931,
      0.028680451214313507,
      0.009483831003308296,
      -0.012069160118699074,
      -0.0046328045427799225,
      -0.0821756049990654,
      -0.019799306988716125,
      0.09878981858491898,
      -0.01035203505307436,
      0.06472914665937424,
      -3.9164481605643716e-33,
      0.004134821239858866,
      -0.03589492663741112,
      0.007345027755945921,
      -0.034827057272195816,
      0.050176575779914856,
      -0.05142514780163765,
      0.13279151916503906,
      0.007828491739928722,
      -0.04247673973441124,
      -0.03829292207956314,
      0.005361455492675304,
      -0.041450295597314835,
      0.12804223597049713,
      0.009962181560695171,
      0.03046335279941559,
      0.07392698526382446,
      -0.06472727656364441,
      0.0252156350761652,
      -0.03581622987985611,
      0.027747008949518204,
      -0.06268879771232605,
      0.1413397192955017,
      -0.06686688959598541,
      -0.02774045430123806,
      0.0002590571530163288,
      -0.013543205335736275,
      0.016632629558444023,
      -0.07040592283010483,
      -0.05468511953949928,
      -0.008889127522706985,
      0.005495790392160416,
      0.058119628578424454,
      -0.05778353661298752,
      0.06608651578426361,
      -0.007811783347278833,
      -0.054338838905096054,
      -0.007151410449296236,
      0.0811832994222641,
      0.023766083642840385,
      0.08690158277750015,
      0.1263553947210312,
      0.03619608283042908,
      -0.03523619845509529,
      0.06459124386310577,
      -0.010326619260013103,
      0.03710266202688217,
      0.0013158908113837242,
      0.0028150014113634825,
      -0.10577944666147232,
      0.036202553659677505,
      0.0012286294950172305,
      -0.05196738615632057,
      -0.026546921581029892,
      -0.04614487290382385,
      0.030023489147424698,
      -0.10267364978790283,
      0.0361802838742733,
      -0.07585244625806808,
      0.04716971144080162,
      -0.03215464577078819,
      -0.012581984512507915,
      -0.03291458263993263,
      -0.018366916105151176,
      0.11728186160326004,
      -0.004295083694159985,
      -0.09029295295476913,
      -0.07889976352453232,
      0.07713939994573593,
      0.04721289500594139,
      -0.01261221244931221,
      -0.028588704764842987,
      -0.07618416100740433,
      0.04192834720015526,
      0.05836107209324837,
      0.10273991525173187,
      0.0463944673538208,
      -0.06316744536161423,
      -0.04510707035660744,
      -0.060434624552726746,
      0.06394879519939423,
      -0.12066709995269775,
      -0.011542089283466339,
      -0.003611980704590678,
      -0.03978978469967842,
      -0.07129554450511932,
      -0.0905008316040039,
      -0.02087601274251938,
      0.0822557806968689,
      -0.049718163907527924,
      0.009781789034605026,
      -0.01912357658147812,
      0.025121264159679413,
      -0.10082802176475525,
      -0.03939111903309822,
      0.00654740771278739,
      -4.8745242509085074e-08,
      0.045796338468790054,
      -0.007764540147036314,
      0.05270391330122948,
      0.10816513001918793,
      0.0373963788151741,
      0.06558734178543091,
      0.018528472632169724,
      0.04128215089440346,
      -0.05551155284047127,
      -0.06465207040309906,
      -0.025736870244145393,
      0.03599974140524864,
      0.044259849935770035,
      -0.005739958956837654,
      -0.0011662694159895182,
      -0.0335998572409153,
      -0.04759896919131279,
      0.05276624485850334,
      -0.0414147712290287,
      -0.027532542124390602,
      -0.05539841204881668,
      -0.035645727068185806,
      0.031711675226688385,
      -0.01448860950767994,
      0.009376867674291134,
      0.05974354222416878,
      0.01681174710392952,
      -0.02257094532251358,
      -0.023720143362879753,
      0.010869598016142845,
      0.0012127378722652793,
      0.04463431239128113,
      -0.006357087753713131,
      0.015988187864422798,
      0.020819546654820442,
      0.05320523679256439,
      -0.03218802064657211,
      0.07650036364793777,
      -0.018898913636803627,
      0.02095440775156021,
      -0.07608678936958313,
      0.019495539367198944,
      0.01819714903831482,
      0.009328179992735386,
      0.008573896251618862,
      -0.038905251771211624,
      -0.04654056951403618,
      0.05661659315228462,
      0.07973639667034149,
      0.004802735522389412,
      -0.030680784955620766,
      -0.05377299711108208,
      0.07044852524995804,
      -0.059092454612255096,
      0.0009786918526515365,
      0.033169183880090714,
      -0.011468413285911083,
      0.05462721362709999,
      -0.000595761404838413,
      -0.09088816493749619,
      0.030458539724349976,
      0.016728220507502556,
      -0.01339071523398161,
      -0.07289908081293106
    ]
  },
  {
    "id": "sessions.py_list_sessions",
    "filename": "sessions.py",
    "function_name": "list_sessions",
    "text": "## Function: list_sessions (sessions.py)\n\n```python\n@router.get(\"/\")\ndef list_sessions(db: Session = Depends(get_db)):\n    sessions = db.query(UserSession).all()\n    return [{\"id\": s.id, \"session_name\": s.session_name} for s in sessions]\n```\n",
    "embedding": [
      -0.010173601098358631,
      0.1023465245962143,
      -0.025923924520611763,
      0.033795055001974106,
      -0.015033243224024773,
      -0.0472814179956913,
      0.10649680346250534,
      0.053644128143787384,
      -0.016423910856246948,
      -0.03995625302195549,
      -0.05709699168801308,
      0.0463956780731678,
      -0.03302404284477234,
      0.04960748180747032,
      0.04908522218465805,
      0.029615743085741997,
      -0.056511253118515015,
      0.0194388497620821,
      0.06391230970621109,
      -0.0680515393614769,
      0.056980714201927185,
      0.14120090007781982,
      -0.003123973496258259,
      0.037158332765102386,
      -0.006611849647015333,
      -0.0804496705532074,
      0.012261507101356983,
      -0.017387883737683296,
      -0.021903233602643013,
      0.025603681802749634,
      0.044214725494384766,
      0.04804157465696335,
      -0.10366906225681305,
      -0.029933031648397446,
      0.05540797859430313,
      -0.07064983993768692,
      -0.033485837280750275,
      -0.023755265399813652,
      0.14548984169960022,
      -0.04697054997086525,
      -0.0010504096280783415,
      0.002613446908071637,
      -0.019704271107912064,
      0.018020395189523697,
      -0.024398794397711754,
      -0.03553374111652374,
      -0.08021005988121033,
      0.06469931453466415,
      0.014401117339730263,
      -0.014772814698517323,
      0.04988352954387665,
      0.014061897061765194,
      -0.0336017869412899,
      -0.0008603481110185385,
      -0.008532103151082993,
      0.04124555364251137,
      -0.06382068991661072,
      0.020095111802220345,
      -0.08366674184799194,
      0.009232863783836365,
      -0.05280563607811928,
      -0.07375333458185196,
      0.07611911743879318,
      0.006719274912029505,
      -0.08118889480829239,
      -0.025378817692399025,
      0.04278677701950073,
      0.031227590516209602,
      0.06691627204418182,
      -0.010358085855841637,
      -0.03819623962044716,
      -0.0157475583255291,
      -0.0462954007089138,
      -0.06578383594751358,
      0.00017480998940300196,
      -0.10571657121181488,
      0.06202521547675133,
      -0.038984570652246475,
      -0.09719077497720718,
      0.02135162241756916,
      -0.07978267222642899,
      -0.06797869503498077,
      0.004723147954791784,
      -0.01831134222447872,
      0.008879676461219788,
      -0.07353990525007248,
      -0.03716329485177994,
      -0.039190951734781265,
      -0.028666922822594643,
      -0.023184264078736305,
      -0.1171487495303154,
      -0.01839900016784668,
      -0.008412535302340984,
      -0.015670493245124817,
      -0.09574844688177109,
      0.04823729023337364,
      0.04094019904732704,
      0.03136393055319786,
      0.007142981048673391,
      0.08325645327568054,
      -0.01119126845151186,
      -0.03448301926255226,
      0.023304296657443047,
      0.012310577556490898,
      0.04643924906849861,
      0.05287350341677666,
      0.028060225769877434,
      -0.09610719233751297,
      -0.0344390943646431,
      -0.012378528714179993,
      -0.0439465269446373,
      0.06839751452207565,
      0.03625604882836342,
      0.05656861141324043,
      0.06648917496204376,
      -0.09308687597513199,
      0.011142400093376637,
      0.05380995571613312,
      0.006933950819075108,
      0.0995512530207634,
      0.08390630781650543,
      -0.04127354547381401,
      0.027198705822229385,
      0.04234413430094719,
      -0.023485831916332245,
      -0.005642998963594437,
      0.10657232999801636,
      1.0294611264162e-33,
      0.0774984061717987,
      -0.0369417630136013,
      0.009956802241504192,
      -0.013886398635804653,
      0.0097510302439332,
      0.09103034436702728,
      0.020293181762099266,
      0.011314635165035725,
      -0.023558514192700386,
      0.05741718411445618,
      -0.11001129448413849,
      0.07052406668663025,
      0.07273320853710175,
      -0.032193511724472046,
      -0.030962103977799416,
      0.02958746813237667,
      -0.05078023299574852,
      0.021292563527822495,
      0.05042494460940361,
      0.00403788173571229,
      -0.013641848228871822,
      -0.01484422292560339,
      0.009340750053524971,
      0.03962244465947151,
      0.022367147728800774,
      -0.04376876354217529,
      -0.005051590036600828,
      0.04161132872104645,
      -0.04662157595157623,
      -0.016358595341444016,
      -0.0004695163806900382,
      -0.0062782978639006615,
      0.05051850527524948,
      -0.005823565647006035,
      0.016477247700095177,
      0.026194289326667786,
      0.01793494075536728,
      0.021626340225338936,
      -0.07308892160654068,
      -0.09032068401575089,
      0.021372776478528976,
      0.04204917699098587,
      -0.022998783737421036,
      0.004240397363901138,
      -0.13416722416877747,
      -0.02123865857720375,
      -0.05920272320508957,
      0.03335530310869217,
      0.019196050241589546,
      0.020162079483270645,
      -0.10467331111431122,
      -0.01098107360303402,
      -0.054798539727926254,
      0.04828742519021034,
      -0.005644997116178274,
      -0.09263379871845245,
      -0.026903975754976273,
      0.07603742182254791,
      0.024239875376224518,
      -0.03218909353017807,
      0.02172192372381687,
      -0.06518502533435822,
      -0.00977376103401184,
      -0.04511835798621178,
      -0.03864813968539238,
      -0.006744707468897104,
      0.04276657477021217,
      0.07046694308519363,
      0.043760035187006,
      -0.00663774786517024,
      -0.04303133487701416,
      0.02256116457283497,
      0.028772976249456406,
      -0.011479660868644714,
      -0.028388116508722305,
      -0.01159155648201704,
      -0.061503298580646515,
      0.03182889521121979,
      -0.01555375475436449,
      0.0726715698838234,
      0.02766869217157364,
      -0.021466197445988655,
      -0.08794066309928894,
      0.1134471446275711,
      -0.030492734163999557,
      0.03601193055510521,
      0.030516283586621284,
      -0.027529552578926086,
      0.0035647510085254908,
      0.001134358812123537,
      -0.1038718968629837,
      -0.015915609896183014,
      0.0839405357837677,
      0.007936161011457443,
      0.005747281014919281,
      -3.3307485493755664e-33,
      0.055834315717220306,
      0.024600809440016747,
      0.0419175960123539,
      -0.0373077392578125,
      0.04573022201657295,
      -0.07599640637636185,
      0.11472013592720032,
      -0.01180285681039095,
      -0.048335932195186615,
      -0.014034373685717583,
      0.039717353880405426,
      -0.0398588664829731,
      0.10362705588340759,
      -0.0347660630941391,
      0.0633697360754013,
      0.057418305426836014,
      -0.04413389787077904,
      0.001724120113067329,
      0.003027579514309764,
      -0.005511429160833359,
      -0.07128352671861649,
      0.061970923095941544,
      -0.03817296400666237,
      -0.07115646451711655,
      -0.015865623950958252,
      -0.04223005473613739,
      0.024251334369182587,
      -0.11850090324878693,
      -0.025853903964161873,
      0.04569386690855026,
      -0.0032285575289279222,
      0.008075718767940998,
      -0.038595788180828094,
      0.0636407881975174,
      -0.016077639535069466,
      -0.008864736184477806,
      0.003512585535645485,
      0.07268724590539932,
      0.01439086813479662,
      0.028815308585762978,
      0.11705304682254791,
      0.0635976567864418,
      -0.03663569316267967,
      0.05345648527145386,
      -0.014459528028964996,
      -0.0008455156930722296,
      -0.02986961416900158,
      -0.004330615513026714,
      -0.058275725692510605,
      0.030969683080911636,
      0.027316177263855934,
      -0.0399356335401535,
      -0.01948346011340618,
      -0.020931333303451538,
      0.03269857540726662,
      -0.08858514577150345,
      -0.007432511076331139,
      -0.08864747732877731,
      0.051159098744392395,
      -0.03593665361404419,
      -0.056574687361717224,
      -0.06013285741209984,
      -0.035227034240961075,
      0.0798151046037674,
      -0.044866859912872314,
      -0.12020248174667358,
      -0.10844428092241287,
      0.017110025510191917,
      0.055447712540626526,
      -0.017559189349412918,
      0.004893694072961807,
      -0.07490717619657516,
      0.04399034008383751,
      0.09065280854701996,
      0.05591348931193352,
      0.013432587496936321,
      -0.05859054997563362,
      -0.06568549573421478,
      -0.025369666516780853,
      0.06634800881147385,
      -0.035850055515766144,
      -0.018947625532746315,
      -0.003140699351206422,
      -0.07066436111927032,
      -0.0636889860033989,
      -0.06589824706315994,
      0.013048895634710789,
      0.11240959167480469,
      -0.0063622696325182915,
      0.0038128329906612635,
      0.02808372490108013,
      0.0208643339574337,
      -0.018765432760119438,
      -0.017096465453505516,
      0.022993190214037895,
      -3.813188342860485e-08,
      -0.0175175704061985,
      -0.003119335975497961,
      0.07870950549840927,
      0.05864620953798294,
      0.025982147082686424,
      0.03620012477040291,
      0.07580628246068954,
      0.06532353162765503,
      -0.007021308410912752,
      0.035160187631845474,
      0.02282772772014141,
      0.01976977474987507,
      0.0500035397708416,
      -0.002520604059100151,
      0.035971567034721375,
      0.07397621124982834,
      -0.0012496800627559423,
      0.1134735494852066,
      -0.020383518189191818,
      0.09409349411725998,
      -0.05163930356502533,
      -0.05861472338438034,
      0.021224195137619972,
      -0.0194681528955698,
      -0.0075371661223471165,
      0.05649939179420471,
      -0.05505215376615524,
      -0.0040684849955141544,
      -0.03852143883705139,
      0.005921944044530392,
      -0.03694964945316315,
      0.03279956802725792,
      0.007847794331610203,
      0.002340591512620449,
      0.0355013869702816,
      0.05064027011394501,
      -0.06623583287000656,
      0.02696935646235943,
      -0.0043707299046218395,
      0.07862214744091034,
      -0.10544775426387787,
      -0.06481043249368668,
      0.01818908378481865,
      0.05986211821436882,
      0.027945611625909805,
      -0.06471995264291763,
      -0.07115397602319717,
      0.09262629598379135,
      0.04228145256638527,
      -0.015515853650867939,
      -0.005105651915073395,
      -0.0603894367814064,
      0.014947029761970043,
      -0.08776634931564331,
      0.0038284489419311285,
      0.012819201685488224,
      0.03421781584620476,
      -0.00869871024042368,
      -0.026439860463142395,
      -0.09654060006141663,
      -0.010590757243335247,
      0.03193498030304909,
      -0.04159372299909592,
      -0.06632541120052338
    ]
  },
  {
    "id": "sessions.py_get_session",
    "filename": "sessions.py",
    "function_name": "get_session",
    "text": "## Function: get_session (sessions.py)\n\n```python\n@router.get(\"/{id}\")\ndef get_session(id: str, db: Session = Depends(get_db)):\n    session = db.query(UserSession).filter(UserSession.id == id).first()\n    if not session:\n        raise HTTPException(status_code=404, detail=\"Session not found\")\n    return session\n```\n",
    "embedding": [
      -0.011139288544654846,
      0.10766083002090454,
      -0.016847899183630943,
      0.01084316149353981,
      -0.019385892897844315,
      -0.0812571793794632,
      0.07095683366060257,
      0.009523807093501091,
      -0.008541334420442581,
      -0.05165642872452736,
      -0.0355580672621727,
      0.02242494560778141,
      -0.037684328854084015,
      0.009545862674713135,
      0.055229540914297104,
      0.0209337305277586,
      -0.018302196636795998,
      0.019900796934962273,
      0.030935661867260933,
      -0.027309678494930267,
      0.044381286948919296,
      0.14302979409694672,
      -0.019634539261460304,
      0.05193060636520386,
      -0.029436495155096054,
      -0.09984096884727478,
      0.0012935595586895943,
      -0.02564668469130993,
      0.010583042167127132,
      0.02203518897294998,
      0.059754036366939545,
      0.04109162092208862,
      -0.15179407596588135,
      -0.043695542961359024,
      0.0757158100605011,
      -0.05639335885643959,
      -0.01679046079516411,
      -0.05298210307955742,
      0.14352068305015564,
      -0.06009967252612114,
      -0.04272840917110443,
      0.012005411088466644,
      -0.0008962970459833741,
      0.042917557060718536,
      -0.044920727610588074,
      -0.03769691661000252,
      -0.06684219837188721,
      0.04303488880395889,
      0.004926137626171112,
      -0.03901872783899307,
      0.024610430002212524,
      0.04093959555029869,
      -0.03224378451704979,
      -0.014715687371790409,
      -0.016263825818896294,
      0.02043403498828411,
      -0.058697037398815155,
      0.03088478557765484,
      -0.06750842928886414,
      0.006188059225678444,
      -0.05096874386072159,
      -0.06974045187234879,
      0.08504575490951538,
      -0.021693848073482513,
      -0.09551642835140228,
      -0.024640385061502457,
      0.03727368265390396,
      -0.03463071957230568,
      0.09979283809661865,
      -0.0025660288520157337,
      -0.08697488903999329,
      -0.023555953055620193,
      -0.09521684795618057,
      -0.025797197595238686,
      0.005651735235005617,
      -0.10387422889471054,
      0.0802275761961937,
      -0.041764020919799805,
      -0.06791433691978455,
      0.029640456661581993,
      -0.0558086521923542,
      -0.07670687884092331,
      0.0362410806119442,
      0.0012427294859662652,
      0.02756347320973873,
      -0.07563784718513489,
      -0.024503927677869797,
      0.013496524654328823,
      -0.0033995741978287697,
      -0.022987645119428635,
      -0.06542027741670609,
      0.0005022119730710983,
      -0.04381054267287254,
      -0.014511086978018284,
      -0.09360816329717636,
      0.030125299468636513,
      -0.005054148845374584,
      0.044833194464445114,
      0.014870950020849705,
      0.11103367060422897,
      0.0034947236999869347,
      -0.04531465843319893,
      0.029860716313123703,
      0.00042314876918680966,
      0.055469755083322525,
      0.04466260224580765,
      0.0417054146528244,
      -0.05708746239542961,
      0.013215893879532814,
      0.01106388121843338,
      -0.05831008031964302,
      0.02253461256623268,
      0.02902017906308174,
      0.04092443734407425,
      0.08998610079288483,
      -0.037744130939245224,
      0.07216513901948929,
      0.051322273910045624,
      -0.03719489648938179,
      0.03670594468712807,
      0.07356353104114532,
      -0.044650763273239136,
      0.07382246851921082,
      0.035047926008701324,
      -0.018359733745455742,
      0.009213864803314209,
      0.12016338855028152,
      3.806853516159348e-33,
      0.07021067291498184,
      -0.010611308738589287,
      -0.004963800311088562,
      -0.015831708908081055,
      0.004716773517429829,
      0.121377132833004,
      0.047091029584407806,
      -0.003921489231288433,
      -0.006560739129781723,
      0.020276367664337158,
      -0.10860143601894379,
      0.0077317687682807446,
      0.03995007276535034,
      -0.04606369510293007,
      -0.02575540542602539,
      0.029420599341392517,
      -0.0588124617934227,
      0.0010731079382821918,
      0.061474792659282684,
      0.0164827611297369,
      -0.009158746339380741,
      -0.059202514588832855,
      0.06179364025592804,
      0.047244586050510406,
      0.008992785587906837,
      -0.027383901178836823,
      -0.017144950106739998,
      0.011439847759902477,
      -0.04534921795129776,
      -0.02400069683790207,
      -0.007220796775072813,
      0.006360838655382395,
      0.044603537768125534,
      0.0021737085189670324,
      0.029400451108813286,
      -0.012815368361771107,
      0.02533417008817196,
      0.0331825390458107,
      -0.07037264108657837,
      -0.07047802954912186,
      -0.05303904414176941,
      0.056145746260881424,
      -0.02337518520653248,
      -0.0333825945854187,
      -0.11109823733568192,
      -0.031950678676366806,
      -0.03751199319958687,
      0.05053761973977089,
      0.016830066218972206,
      -0.008547519333660603,
      -0.10870103538036346,
      0.00823307130485773,
      0.02961290441453457,
      0.038575779646635056,
      -0.028249192982912064,
      -0.06869886070489883,
      -0.0323408842086792,
      0.06534770131111145,
      0.030833715572953224,
      -0.0576249435544014,
      0.05232999846339226,
      -0.09187057614326477,
      -0.006135710049420595,
      -0.07378453761339188,
      -0.01688675582408905,
      0.013984832912683487,
      0.02008625492453575,
      0.08291991800069809,
      0.04801419749855995,
      -0.01825089566409588,
      -0.020611707121133804,
      -0.03015582635998726,
      0.011605195701122284,
      -0.004397563170641661,
      -0.024871937930583954,
      -0.028509128838777542,
      -0.03811465576291084,
      0.057154711335897446,
      0.03555956110358238,
      0.06159476935863495,
      0.05301738530397415,
      -0.025652199983596802,
      -0.05931369215250015,
      0.07521732896566391,
      -0.04255371540784836,
      0.035231757909059525,
      0.038070227950811386,
      -0.011479303240776062,
      -0.0016508032567799091,
      0.028678398579359055,
      -0.0987081527709961,
      -0.03760397806763649,
      0.05107012018561363,
      0.03023483231663704,
      0.05071511119604111,
      -5.853027349086088e-33,
      0.04131085425615311,
      0.016844885423779488,
      0.011822161264717579,
      -0.06025901064276695,
      0.06785044819116592,
      -0.03448306396603584,
      0.14828947186470032,
      -0.022539904341101646,
      -0.05470104515552521,
      -0.021587330847978592,
      0.048767995089292526,
      -0.04588562622666359,
      0.09402544796466827,
      0.02112697996199131,
      0.039577703922986984,
      0.06321726739406586,
      -0.03180898725986481,
      0.00856880471110344,
      -0.006406518630683422,
      0.04951903596520424,
      -0.06030791997909546,
      0.06049259006977081,
      -0.08318653702735901,
      -0.0792323499917984,
      -0.06395912170410156,
      -0.016156204044818878,
      0.007654715329408646,
      -0.14404258131980896,
      -0.05153951793909073,
      0.00374481244944036,
      -0.006628899369388819,
      0.053990546613931656,
      -0.04801279678940773,
      0.015987372025847435,
      -0.012721293605864048,
      -0.016279222443699837,
      -0.01677585579454899,
      0.09073393791913986,
      -0.013746509328484535,
      0.040171172469854355,
      0.12664242088794708,
      0.07886654138565063,
      -0.016603363677859306,
      0.076607346534729,
      -0.00859146099537611,
      0.04775331914424896,
      -0.03968231752514839,
      -0.016424981877207756,
      -0.10847330093383789,
      0.046597763895988464,
      0.013587012887001038,
      -0.009174701757729053,
      0.028422370553016663,
      -0.02380700595676899,
      0.005457122810184956,
      -0.08301913738250732,
      0.0015335918869823217,
      -0.06640747934579849,
      -0.0009001708822324872,
      -0.00114830129314214,
      -0.05508972704410553,
      -0.06877866387367249,
      -0.06999416649341583,
      0.09146343171596527,
      -0.041157811880111694,
      -0.06737913191318512,
      -0.06477433443069458,
      0.09743332117795944,
      0.05953799933195114,
      0.0012804969446733594,
      0.017221085727214813,
      -0.08414645493030548,
      0.05081604793667793,
      0.07583719491958618,
      0.09822989255189896,
      0.030622294172644615,
      -0.06712416559457779,
      -0.0398637019097805,
      -0.002108972752466798,
      0.0962284579873085,
      -0.03156464919447899,
      -0.022432640194892883,
      -0.025429867208003998,
      -0.09340915083885193,
      -0.027078988030552864,
      -0.08352667093276978,
      -0.008315222337841988,
      0.06603209674358368,
      -0.027919098734855652,
      -0.02879166416823864,
      0.0029587980825453997,
      0.005893097724765539,
      -0.07816315442323685,
      -0.028629766777157784,
      0.03763588145375252,
      -4.3241154656925573e-08,
      0.01454214844852686,
      0.00981557834893465,
      0.10319343209266663,
      0.047354042530059814,
      0.02978820726275444,
      0.059587158262729645,
      0.0695066973567009,
      0.0170956552028656,
      -0.052304331213235855,
      0.03411851450800896,
      -0.01273934543132782,
      -0.0004950755974277854,
      0.04089340195059776,
      -0.018153894692659378,
      0.00572571437805891,
      0.016890522092580795,
      -0.015234287828207016,
      0.09139746427536011,
      -0.026806479319930077,
      0.031460050493478775,
      -0.07646940648555756,
      -0.056846074759960175,
      0.021010328084230423,
      -0.007350719999521971,
      0.0021104682236909866,
      0.02523176558315754,
      -0.030040768906474113,
      -0.013147087767720222,
      -0.03174028545618057,
      -0.022419853135943413,
      -0.0286901593208313,
      0.06465211510658264,
      -0.004816308151930571,
      -0.00948016531765461,
      0.0066826315596699715,
      0.11779442429542542,
      -0.06241817772388458,
      0.04492669180035591,
      -0.044357188045978546,
      0.032414812594652176,
      -0.07857169955968857,
      -0.02264842949807644,
      0.05663790553808212,
      0.01602741703391075,
      0.041067399084568024,
      0.0058419955894351006,
      -0.05032143369317055,
      0.053410619497299194,
      0.03796631842851639,
      -0.016090502962470055,
      0.010492010042071342,
      -0.05258405953645706,
      0.013386898674070835,
      -0.02182171307504177,
      0.0007935030735097826,
      0.01962297037243843,
      -0.0018679994391277432,
      -0.011792012490332127,
      -0.047069285064935684,
      -0.10601674020290375,
      0.03341565653681755,
      0.028854496777057648,
      -0.025684993714094162,
      -0.07542695105075836
    ]
  },
  {
    "id": "sessions.py_get_tracks_for_session",
    "filename": "sessions.py",
    "function_name": "get_tracks_for_session",
    "text": "## Function: get_tracks_for_session (sessions.py)\n\n```python\n@router.get(\"/{id}/tracks\")\ndef get_tracks_for_session(\n    id: str,\n    type: str = Query(default=None, description=\"Filter by track type\"),\n    track_name: str = Query(default=None, description=\"Filter by partial name match\"),\n    sort_by: str = Query(default=\"uploaded_at\", enum=[\"uploaded_at\", \"track_name\"]),\n    sort_order: str = Query(default=\"desc\", enum=[\"asc\", \"desc\"]),\n    db: Session = Depends(get_db)\n):\n    try:\n        print(f\"🟡 Looking up session ID: {id}\")\n        session = db.query(UserSession).filter(UserSession.id == id).first()\n        if not session:\n            print(\"⚠️ No session found for that ID.\")\n            raise HTTPException(status_code=404, detail=\"Session not found\")\n\n\n        # ✅ FIX: Use correct ID for feedback query\n        feedback_lookup = {\n            msg.track_id: msg.message\n            for msg in db.query(ChatMessage)\n            .filter(ChatMessage.session_id == id, ChatMessage.sender == \"assistant\", ChatMessage.track_id != None)\n            .order_by(ChatMessage.timestamp.desc())\n            .all()\n        }\n\n        query = db.query(Track).filter(Track.session_id == id)\n\n        # Exclude reference tracks by name\n        query = query.filter(~Track.track_name.ilike('%(Reference)%'))\n\n        if type:\n            query = query.filter(Track.type.ilike(type))\n        if track_name:\n            query = query.filter(Track.track_name.ilike(f\"%{track_name}%\"))\n\n        if sort_by == \"uploaded_at\":\n            query = query.order_by(Track.uploaded_at.desc() if sort_order == \"desc\" else Track.uploaded_at.asc())\n        else:\n            query = query.order_by(Track.track_name.desc() if sort_order == \"desc\" else Track.track_name.asc())\n\n        tracks = query.all()\n\n        result = []\n        for track in tracks:\n            band_energies = {}\n            issues = []\n            analysis_data = None\n\n            if track.analysis:\n                try:\n                    band_energies = json.loads(track.analysis.band_energies or \"{}\")\n                except Exception as e:\n                    print(f\"⚠️ Failed to parse band_energies for track {track.id}: {e}\")\n\n                try:\n                    issues = json.loads(track.analysis.issues or \"[]\")\n                except Exception as e:\n                    print(f\"⚠️ Failed to parse issues for track {track.id}: {e}\")\n\n                analysis_data = {\n                    \"peak_db\": track.analysis.peak_db,\n                    \"rms_db\": track.analysis.rms_db_peak,\n                    \"lufs\": track.analysis.lufs,\n                    \"dynamic_range\": track.analysis.dynamic_range,\n                    \"stereo_width_ratio\": track.analysis.stereo_width_ratio,\n                    \"stereo_width\": track.analysis.stereo_width,\n                    \"key\": track.analysis.key,\n                    \"tempo\": track.analysis.tempo,\n                    \"low_end_energy_ratio\": track.analysis.low_end_energy_ratio,\n                    \"band_energies\": band_energies,\n                    \"issues\": issues,\n                }\n\n            result.append({\n                \"id\": track.id,\n                \"track_name\": track.track_name,\n                \"type\": track.type,\n                \"file_path\": track.file_path,\n                \"uploaded_at\": track.uploaded_at,\n                \"analysis\": analysis_data,\n                \"feedback\": feedback_lookup.get(track.id, \"\")\n            })\n\n        return result\n\n    except Exception as e:\n        print(\"❌ INTERNAL ERROR in /sessions/{id}/tracks:\", e)\n        raise HTTPException(status_code=500, detail=str(e))\n```\n",
    "embedding": [
      -0.010660308413207531,
      0.05551883950829506,
      -0.040678173303604126,
      0.046965762972831726,
      0.03884899616241455,
      -0.0018768062582239509,
      0.0637814849615097,
      0.02359379082918167,
      -0.000517767621204257,
      -0.008538540452718735,
      -0.009085424244403839,
      0.02411029115319252,
      -0.01194011140614748,
      0.022058751434087753,
      -0.048979513347148895,
      -0.007235373370349407,
      -0.04683956503868103,
      -0.03133053332567215,
      -0.019217446446418762,
      -0.08725741505622864,
      0.001571920933201909,
      0.096384197473526,
      0.04111887142062187,
      0.043019283562898636,
      -0.03012041002511978,
      -0.03131464868783951,
      -0.03685961663722992,
      -0.0674445629119873,
      -0.07559598237276077,
      -0.02971530519425869,
      0.014935226179659367,
      0.039464037865400314,
      -0.07030128687620163,
      0.0049817441031336784,
      0.09542980790138245,
      -0.12021186202764511,
      -0.056935034692287445,
      -0.06042170152068138,
      0.10835016518831253,
      -0.06226354464888573,
      -0.053296614438295364,
      -0.006020665634423494,
      0.05373777076601982,
      0.012477255426347256,
      -0.05969192832708359,
      -0.010709569789469242,
      -0.08170265704393387,
      0.022519512102007866,
      0.009544319473206997,
      0.00017903871776070446,
      -0.0070069050416350365,
      0.008969975635409355,
      0.005472718738019466,
      0.02081826888024807,
      -0.05718928575515747,
      0.015367108397185802,
      -0.07712327688932419,
      0.013952227309346199,
      -0.044784724712371826,
      -0.00905629526823759,
      -0.08925037831068039,
      -0.0964866653084755,
      0.04835430532693863,
      -0.04499320685863495,
      -0.0254976786673069,
      -0.03169671446084976,
      -0.004204319790005684,
      -0.015694091096520424,
      0.11524006724357605,
      0.027023818343877792,
      -0.027239350602030754,
      0.06456727534532547,
      -0.07912762463092804,
      -0.003739576553925872,
      -0.05372023209929466,
      -0.09978163242340088,
      0.060679417103528976,
      0.03630887344479561,
      -0.06671839952468872,
      -0.0322457030415535,
      -0.06051778793334961,
      -0.1034247949719429,
      0.026673898100852966,
      0.004122018814086914,
      0.06250298023223877,
      -0.11066771298646927,
      0.0010332257952541113,
      -0.02926643006503582,
      -0.04817775636911392,
      -0.04620778188109398,
      -0.08793637156486511,
      0.04982457682490349,
      -0.0030389437451958656,
      -0.015834789723157883,
      0.004735481459647417,
      0.06507491320371628,
      0.024780884385108948,
      0.12251298874616623,
      0.06504414230585098,
      0.08609575778245926,
      0.03612827509641647,
      -0.009550400078296661,
      -0.01735829934477806,
      -0.004131165333092213,
      0.07750508934259415,
      0.014938880689442158,
      0.030836060643196106,
      0.01425127126276493,
      0.04918983206152916,
      -0.04562575742602348,
      -0.0713176503777504,
      0.03498159721493721,
      0.014941124245524406,
      0.025160372257232666,
      0.07730153203010559,
      0.037408456206321716,
      0.02792518027126789,
      0.08766068518161774,
      -0.06287280470132828,
      0.015019785612821579,
      0.07071518152952194,
      -0.027022283524274826,
      -0.015028044581413269,
      0.02753790281713009,
      -0.005221218336373568,
      0.03523598983883858,
      0.14766643941402435,
      5.1299932635227765e-33,
      0.06424593925476074,
      -0.04149032011628151,
      0.00616854801774025,
      -0.10485132783651352,
      0.0149827990680933,
      0.06449789553880692,
      -0.002062808955088258,
      -0.005191302392631769,
      -0.029577314853668213,
      0.034338563680648804,
      -0.09403332322835922,
      0.025692317634820938,
      -0.004788650199770927,
      -0.0373426117002964,
      -0.026141537353396416,
      -0.04653068259358406,
      -0.06954538822174072,
      0.04381854459643364,
      0.014958864077925682,
      -0.019907400012016296,
      0.02567390538752079,
      -0.09707185626029968,
      0.013597896322607994,
      0.008079485967755318,
      0.033063266426324844,
      -0.02707499824464321,
      -0.03303096070885658,
      0.006966358050704002,
      0.004266655072569847,
      -0.019104016944766045,
      -0.035218894481658936,
      -0.011511468328535557,
      0.01938031055033207,
      -0.025414127856492996,
      0.019565360620617867,
      -0.013306711800396442,
      0.0012492819223552942,
      0.02231321670114994,
      -0.035177335143089294,
      -0.06680899858474731,
      0.008186137303709984,
      0.0546448640525341,
      -0.05410343036055565,
      -0.03500192612409592,
      -0.1362418681383133,
      -0.01899411901831627,
      -0.06974446028470993,
      0.06369514763355255,
      -0.009859847836196423,
      0.004570824094116688,
      -0.07590064406394958,
      -0.0025845433119684458,
      0.0005169077194295824,
      -0.018142003566026688,
      0.008148950524628162,
      -0.057583801448345184,
      0.01793198101222515,
      0.08494838327169418,
      0.020697999745607376,
      -0.03956164792180061,
      0.10837986320257187,
      -0.07115834206342697,
      0.006065454334020615,
      -0.060742247849702835,
      0.008482743985950947,
      0.015775363892316818,
      0.10266772657632828,
      0.07706258445978165,
      0.10180153697729111,
      -0.009226593188941479,
      -0.039422426372766495,
      0.03837648034095764,
      0.052781134843826294,
      -0.027275513857603073,
      0.0935799852013588,
      -0.04433136060833931,
      -0.05606004223227501,
      0.023299233987927437,
      -0.05423826351761818,
      0.03607332706451416,
      0.006521226372569799,
      -0.05716070532798767,
      -0.052835799753665924,
      0.04184876009821892,
      -0.04764733836054802,
      0.04253314062952995,
      0.039947643876075745,
      0.01119429524987936,
      -0.0583261139690876,
      0.008379771374166012,
      -0.07141585648059845,
      0.024630684405565262,
      0.018074555322527885,
      0.015501875430345535,
      0.08234812319278717,
      -5.206499211320091e-33,
      0.04744327813386917,
      0.04308740049600601,
      0.08120448142290115,
      -0.07184132188558578,
      0.13802233338356018,
      -0.05399108678102493,
      0.11852629482746124,
      0.0134844109416008,
      0.01951134204864502,
      -0.011768242344260216,
      0.02530183084309101,
      -0.07702521979808807,
      -0.016994019970297813,
      -0.04138387367129326,
      0.047165773808956146,
      0.027383748441934586,
      -0.0395246297121048,
      -0.005994867999106646,
      -0.028321335092186928,
      0.027709560468792915,
      -0.0759073942899704,
      0.05942417308688164,
      -0.062076371163129807,
      0.002777344547212124,
      -0.03915848582983017,
      0.017370233312249184,
      0.0653761699795723,
      -0.08548440039157867,
      -0.045478515326976776,
      0.006643710192292929,
      -0.01692245528101921,
      0.0057393768802285194,
      -0.10234881937503815,
      0.035270918160676956,
      -0.03749579191207886,
      -0.03084443509578705,
      -0.011140013113617897,
      0.13112778961658478,
      -0.051481105387210846,
      0.11559248715639114,
      0.047285642474889755,
      0.1013631522655487,
      -0.038429196923971176,
      0.03578408434987068,
      0.0032099622767418623,
      -0.03191470354795456,
      -0.020173991098999977,
      0.09077412635087967,
      -0.13547027111053467,
      0.018617186695337296,
      0.002193602966144681,
      -0.02946503274142742,
      -0.02126799337565899,
      -0.015185180120170116,
      0.045934874564409256,
      -0.027229832485318184,
      0.01692758873105049,
      -0.10438358038663864,
      -0.06384261697530746,
      -0.02959679253399372,
      -0.0094815194606781,
      0.016532616689801216,
      -0.05623595789074898,
      0.05097359046339989,
      -0.017992284148931503,
      -0.006001431494951248,
      -0.06431636959314346,
      0.04963916912674904,
      -0.010198259726166725,
      0.07723946124315262,
      -0.0352155938744545,
      -0.06893258541822433,
      0.05811668559908867,
      0.056069981306791306,
      0.0794406533241272,
      0.0421750470995903,
      -0.09248974919319153,
      0.011651953682303429,
      -0.02027733623981476,
      0.05585367605090141,
      -0.08978242427110672,
      0.04662199690937996,
      -0.00691312225535512,
      -0.04238880053162575,
      0.024178851395845413,
      0.0176771879196167,
      -0.025663288310170174,
      0.08734968304634094,
      -0.040439117699861526,
      0.008271130733191967,
      0.04861041530966759,
      -0.020214160904288292,
      0.0027616636361926794,
      -0.0021078488789498806,
      -0.0027821918483823538,
      -5.0158323716686937e-08,
      -0.054729919880628586,
      -0.019565990194678307,
      0.02918565273284912,
      0.07991258054971695,
      0.08613589406013489,
      0.0415368415415287,
      0.06397940218448639,
      0.06352254003286362,
      -0.010463583283126354,
      -0.0295132827013731,
      0.05641382932662964,
      0.0004952470189891756,
      0.013807985000312328,
      0.011723900213837624,
      -0.014147872105240822,
      -0.02146812528371811,
      -0.014605438336730003,
      0.03424376621842384,
      -0.052718885242938995,
      0.032104481011629105,
      -0.025440016761422157,
      -0.03786684572696686,
      0.01269449945539236,
      0.00710840430110693,
      0.031153477728366852,
      0.04178646206855774,
      0.010909761302173138,
      0.020135758444666862,
      0.023500127717852592,
      -0.007430313620716333,
      0.002247098833322525,
      0.05913953855633736,
      0.01882822811603546,
      -0.023294540122151375,
      0.04654797539114952,
      0.059267643839120865,
      -0.024859264492988586,
      0.00929333083331585,
      -0.10267122834920883,
      0.04638497158885002,
      -0.06340211629867554,
      0.04374028369784355,
      0.05805181339383125,
      0.008980052545666695,
      0.12992560863494873,
      -0.03983044996857643,
      0.0047975992783904076,
      0.03316021338105202,
      0.04623118042945862,
      -0.02026261016726494,
      -0.05787095054984093,
      -0.10050167888402939,
      0.0632716715335846,
      0.04470255225896835,
      0.04313309118151665,
      0.023217374458909035,
      0.02088947407901287,
      0.01811801828444004,
      -0.027248192578554153,
      -0.04667395353317261,
      0.06003876030445099,
      -0.03885664418339729,
      -0.032173700630664825,
      0.0007757760467939079
    ]
  },
  {
    "id": "sessions.py_update_session_name",
    "filename": "sessions.py",
    "function_name": "update_session_name",
    "text": "## Function: update_session_name (sessions.py)\n\n```python\n@router.put(\"/{id}\")\ndef update_session_name(\n    id: str,\n    new_name: str = Form(...),\n    db: Session = Depends(get_db)\n):\n    session = db.query(UserSession).filter(UserSession.id == id).first()\n    if not session:\n        raise HTTPException(status_code=404, detail=\"Session not found\")\n    session.session_name = new_name\n    db.commit()\n    return {\"message\": \"Session updated\", \"session\": session}\n```\n",
    "embedding": [
      -0.05183397978544235,
      0.07294096797704697,
      0.0027167273219674826,
      0.013239259831607342,
      -0.0718735009431839,
      -0.08056963235139847,
      0.036669421941041946,
      0.006727198138833046,
      0.007339248433709145,
      0.01847650296986103,
      -0.02253664657473564,
      0.013195250183343887,
      -0.0200848076492548,
      -0.021111885085701942,
      0.055933814495801926,
      0.04769391939043999,
      -0.047073524445295334,
      -0.01495577022433281,
      0.019874833524227142,
      -0.022421276196837425,
      -0.002658436307683587,
      0.12445244938135147,
      0.0450601652264595,
      0.06714124977588654,
      0.018694303929805756,
      -0.08728401362895966,
      0.002894798293709755,
      -0.008748271502554417,
      -0.01277658436447382,
      0.011336453258991241,
      0.03939568251371384,
      0.03912969306111336,
      -0.07359224557876587,
      -0.05297582969069481,
      0.046325020492076874,
      -0.028032343834638596,
      -0.04646984487771988,
      -0.007368919905275106,
      0.12463562190532684,
      -0.03976861387491226,
      -0.04547130689024925,
      -0.054850660264492035,
      -0.015904448926448822,
      0.03944792598485947,
      -0.05170435830950737,
      0.0009304026025347412,
      -0.04426373168826103,
      0.036130670458078384,
      0.010921252891421318,
      -0.021429238840937614,
      0.042204178869724274,
      -0.03044819086790085,
      -0.049763619899749756,
      -0.008912204764783382,
      -0.053098466247320175,
      0.02668100595474243,
      -0.026477543637156487,
      0.07651003450155258,
      -0.045873772352933884,
      -0.037026144564151764,
      -0.00706277322024107,
      -0.027788804844021797,
      0.10964001715183258,
      -0.017753563821315765,
      -0.1020929142832756,
      -0.033892951905727386,
      0.027147281914949417,
      -0.046390600502491,
      0.07894653081893921,
      0.009274596348404884,
      -0.035733845084905624,
      0.029351459816098213,
      -0.09322474896907806,
      -0.0885222777724266,
      -0.04150187596678734,
      -0.12351422756910324,
      0.028147319331765175,
      0.03294695168733597,
      -0.07925684750080109,
      0.07024546712636948,
      -0.010780966840684414,
      -0.08349737524986267,
      -0.0009291335009038448,
      -0.050092991441488266,
      0.02851281315088272,
      -0.09597168862819672,
      -0.013696663081645966,
      -0.0181275587528944,
      -0.03635544329881668,
      -0.04974685609340668,
      -0.0682007223367691,
      -0.02921818010509014,
      0.0020482270047068596,
      -0.013439676724374294,
      -0.12687136232852936,
      0.049398429691791534,
      -0.01933065801858902,
      0.0909607857465744,
      -0.001632561325095594,
      0.1086869016289711,
      0.029575033113360405,
      -0.03384760767221451,
      -0.041725240647792816,
      0.04013512283563614,
      0.06963757425546646,
      0.04759977012872696,
      0.051907334476709366,
      -0.01804029569029808,
      0.022120129317045212,
      -0.019193222746253014,
      -0.04520398750901222,
      0.012522866949439049,
      0.017382359132170677,
      0.030171694234013557,
      0.02386508323252201,
      -0.01930011436343193,
      0.02309054508805275,
      0.08282247185707092,
      -0.06765004992485046,
      0.04082173481583595,
      0.10225483775138855,
      -0.06079829856753349,
      0.011294946074485779,
      0.006510553415864706,
      -0.055284421890974045,
      -0.018533453345298767,
      0.1428038328886032,
      2.0848529235275705e-33,
      0.10514272749423981,
      0.053039371967315674,
      -0.015293583273887634,
      0.03046826273202896,
      0.04274479299783707,
      0.12010917067527771,
      0.016288997605443,
      -0.008591140620410442,
      0.027905000373721123,
      -0.0023845164105296135,
      -0.09355838596820831,
      -0.017004281282424927,
      0.07826066017150879,
      -0.026395980268716812,
      -0.04918278753757477,
      -0.049000613391399384,
      -0.09004724770784378,
      0.035025455057621,
      0.08941902220249176,
      0.03371230512857437,
      0.03596823662519455,
      -0.028925709426403046,
      0.055847033858299255,
      0.0003206866094842553,
      0.01385818887501955,
      0.02649509720504284,
      0.013472391292452812,
      0.026925217360258102,
      -0.032262470573186874,
      -0.04095395654439926,
      -0.0014917764347046614,
      -0.0001350710663245991,
      0.04056777060031891,
      0.031014293432235718,
      0.011810100637376308,
      -0.03804396092891693,
      -0.005300349090248346,
      -0.030927985906600952,
      -0.07087627798318863,
      -0.0930890217423439,
      0.027803372591733932,
      0.0466281920671463,
      -0.04660443589091301,
      0.011314613744616508,
      -0.07819876074790955,
      0.002311286749318242,
      -0.07382107526063919,
      0.10039495676755905,
      0.027227021753787994,
      -0.05657881125807762,
      -0.10200037062168121,
      -0.0016928660916164517,
      -0.018331771716475487,
      0.018929896876215935,
      -0.05626364052295685,
      -0.010817193426191807,
      -0.03528265655040741,
      0.020859891548752785,
      -0.031141387298703194,
      -0.10364159196615219,
      0.06858081370592117,
      -0.06714855134487152,
      -0.016830245032906532,
      -0.0313979908823967,
      -0.008973491378128529,
      0.025818921625614166,
      0.04245771840214729,
      0.052576374262571335,
      0.05669344216585159,
      -0.027784205973148346,
      -0.040006935596466064,
      0.03364957123994827,
      -0.02644508145749569,
      0.03409871086478233,
      -0.03276309370994568,
      -0.056685175746679306,
      -0.08522891253232956,
      0.07445906102657318,
      -0.025615908205509186,
      0.07957978546619415,
      0.0705949142575264,
      -0.058060429990291595,
      -0.1191498190164566,
      0.08266891539096832,
      0.010434189811348915,
      0.061205361038446426,
      0.031240636482834816,
      0.05140746384859085,
      -0.03464775159955025,
      0.030633842572569847,
      -0.06471064686775208,
      -0.012378164567053318,
      0.049688633531332016,
      0.02308308519423008,
      0.053806547075510025,
      -4.344394960504887e-33,
      0.02537711337208748,
      -0.03816383332014084,
      -0.04175685718655586,
      0.005015473812818527,
      0.05815598741173744,
      -0.04955871403217316,
      0.10409311205148697,
      0.023454690352082253,
      -0.02047259360551834,
      -0.03125706687569618,
      -0.023122500628232956,
      0.0023365551605820656,
      0.08829440176486969,
      -0.02866244874894619,
      -0.009366785176098347,
      0.05867369845509529,
      -0.07125387340784073,
      0.04703173786401749,
      -0.060087624937295914,
      0.006543309893459082,
      -0.057732079178094864,
      0.08587720990180969,
      -0.10158190876245499,
      -0.02685798518359661,
      -0.0360947921872139,
      -0.039344415068626404,
      0.013921983540058136,
      -0.08134069293737411,
      -0.020647425204515457,
      0.03909645974636078,
      -0.032706208527088165,
      0.05836153402924538,
      -0.07145429402589798,
      0.07444073259830475,
      0.014030390419065952,
      -0.01878459006547928,
      0.05388250946998596,
      0.009592718444764614,
      -0.039784859865903854,
      0.05742115154862404,
      0.1282227784395218,
      0.08684717118740082,
      -0.025480816140770912,
      0.0371251255273819,
      0.04083689674735069,
      0.05034758150577545,
      -0.08003134280443192,
      -0.024760739877820015,
      -0.13239262998104095,
      0.032410696148872375,
      0.00281545496545732,
      -0.05994844064116478,
      -0.009772482328116894,
      -0.01764228194952011,
      0.06915079802274704,
      -0.060025978833436966,
      -0.004519632086157799,
      -0.05815548449754715,
      0.022602567449212074,
      -0.017003092914819717,
      -0.0717872679233551,
      -0.011471414938569069,
      0.008505399338901043,
      0.07728395611047745,
      -0.011381115764379501,
      -0.017813077196478844,
      -0.10405139625072479,
      0.05173372104763985,
      0.10961493849754333,
      -0.007347742561250925,
      0.01399647630751133,
      -0.10255929827690125,
      0.029028017073869705,
      0.07059459388256073,
      0.10773173719644547,
      0.005169372074306011,
      -0.04869992285966873,
      -0.07037544995546341,
      -0.03331834450364113,
      0.055445346981287,
      -0.053692545741796494,
      -0.02630106918513775,
      0.0007636905065737665,
      -0.03264475613832474,
      -0.053163573145866394,
      -0.030915630981326103,
      0.04214143753051758,
      0.10007784515619278,
      -0.05339965969324112,
      -0.0561385415494442,
      -0.002268825192004442,
      0.03005915693938732,
      -0.03449697047472,
      -0.03695114329457283,
      -0.012618470005691051,
      -4.631169403523927e-08,
      0.023725267499685287,
      0.027426665648818016,
      0.04857569932937622,
      0.09018135815858841,
      0.04952775686979294,
      0.03930452838540077,
      0.05551648885011673,
      0.006417731288820505,
      -0.026828758418560028,
      -0.030244359746575356,
      -0.03182676061987877,
      0.04724852740764618,
      0.05803612247109413,
      -0.013896007090806961,
      -0.011368276551365852,
      0.012537660077214241,
      -0.04050932824611664,
      0.09609095752239227,
      -0.002416567876935005,
      -0.04549369961023331,
      -0.02564343437552452,
      -0.029746247455477715,
      0.029890280216932297,
      -0.013809177093207836,
      0.044681329280138016,
      -0.014376776292920113,
      0.018113384023308754,
      0.022845180705189705,
      -0.054559096693992615,
      -0.03957414999604225,
      -0.008364611305296421,
      0.010681475512683392,
      0.03289627283811569,
      0.05543650686740875,
      0.006140037905424833,
      0.05250696837902069,
      -0.005892337765544653,
      0.03730389103293419,
      0.021747658029198647,
      0.08674903213977814,
      -0.06846264004707336,
      0.020118029788136482,
      0.02788776531815529,
      0.0013167127035558224,
      0.012612742371857166,
      -0.0017845892580226064,
      -0.06741080433130264,
      0.03493870422244072,
      0.018505660817027092,
      -0.0009539962047711015,
      0.013147568330168724,
      0.005909707862883806,
      0.03063567727804184,
      -0.05742673575878143,
      0.001089608296751976,
      0.03671767935156822,
      -0.002875501988455653,
      0.0007097537745721638,
      -0.021367309615015984,
      -0.11307317763566971,
      0.012843585573136806,
      0.006367609836161137,
      -0.002941717626526952,
      -0.10270753502845764
    ]
  },
  {
    "id": "sessions.py_delete_session",
    "filename": "sessions.py",
    "function_name": "delete_session",
    "text": "## Function: delete_session (sessions.py)\n\n```python\n@router.delete(\"/{id}\")\ndef delete_session(id: str, db: Session = Depends(get_db)):\n    session = db.query(UserSession).filter(UserSession.id == id).first()\n    if not session:\n        raise HTTPException(status_code=404, detail=\"Session not found\")\n\n    # Get all track IDs related to this session\n    track_ids = [t.id for t in db.query(Track.id).filter(Track.session_id == id).all()]\n\n    if track_ids:\n        # Delete chat messages related to these tracks\n        deleted_chats = db.query(ChatMessage).filter(ChatMessage.track_id.in_(track_ids)).delete(synchronize_session=False)\n        print(f\"Deleted {deleted_chats} chat messages linked to session {id}\")\n\n        # Delete analysis results related to these tracks\n        deleted_analysis = db.query(AnalysisResult).filter(AnalysisResult.track_id.in_(track_ids)).delete(synchronize_session=False)\n        print(f\"Deleted {deleted_analysis} analysis results linked to session {id}\")\n\n        # Delete tracks themselves\n        deleted_tracks = db.query(Track).filter(Track.session_id == id).delete(synchronize_session=False)\n        print(f\"Deleted {deleted_tracks} tracks linked to session {id}\")\n\n    # Finally delete the session itself\n    db.delete(session)\n    db.commit()\n\n    return {\"message\": f\"Session and all related tracks, analysis, and chats deleted\"}\n```\n",
    "embedding": [
      -0.015680843964219093,
      0.03194208815693855,
      -0.01703226938843727,
      0.025039205327630043,
      0.050598762929439545,
      -0.04214082658290863,
      0.1065698191523552,
      -0.0840751901268959,
      0.05325224995613098,
      -0.025243833661079407,
      -0.012878024950623512,
      0.017720777541399002,
      0.02182001806795597,
      0.021086830645799637,
      -0.01009884849190712,
      0.031233448535203934,
      -0.06414058059453964,
      -0.005939730908721685,
      -0.039827510714530945,
      -0.025848470628261566,
      0.009815956465899944,
      0.10706011205911636,
      0.044278573244810104,
      0.08774084597826004,
      0.004203448072075844,
      -0.05706406384706497,
      0.022353041917085648,
      -0.05659718066453934,
      -0.07708767801523209,
      0.010590262711048126,
      0.04029572382569313,
      0.032271236181259155,
      -0.07720452547073364,
      -0.02316107042133808,
      0.07747592031955719,
      -0.03611220046877861,
      -0.062384288758039474,
      -0.050175730139017105,
      0.14895032346248627,
      -0.026813125237822533,
      -0.021507488563656807,
      0.0017258236184716225,
      0.0032114547211676836,
      0.002292511984705925,
      -0.00033753542811609805,
      0.0001136395731009543,
      -0.17480234801769257,
      0.03961620852351189,
      -0.01601303182542324,
      -0.022987309843301773,
      0.017407556995749474,
      0.0393839031457901,
      -0.03480261564254761,
      0.044025253504514694,
      0.0024318601936101913,
      0.023182280361652374,
      -0.020508011803030968,
      0.022335736081004143,
      -0.054815374314785004,
      -0.014469273388385773,
      0.0008968315669335425,
      -0.032510362565517426,
      0.06302288174629211,
      -0.0779666006565094,
      -0.04074693098664284,
      -0.027667539194226265,
      0.022922979667782784,
      0.005226476583629847,
      0.13297104835510254,
      0.038125161081552505,
      -0.05718724802136421,
      0.006473660934716463,
      -0.07996086031198502,
      0.0026503291446715593,
      -0.04458977282047272,
      0.014533297158777714,
      0.04740532860159874,
      -0.0024995950516313314,
      -0.13961118459701538,
      -0.029878418892621994,
      -0.08136890828609467,
      -0.08530901372432709,
      0.05283575505018234,
      -0.031161827966570854,
      0.0027448611799627542,
      -0.08080664277076721,
      0.002422547899186611,
      -0.058228783309459686,
      -0.016911005601286888,
      -0.0049197133630514145,
      -0.01999053917825222,
      0.042331449687480927,
      0.029743274673819542,
      0.02452201209962368,
      0.03331915661692619,
      0.010665121488273144,
      -0.015580818988382816,
      0.09386316686868668,
      0.04116500914096832,
      0.11069800704717636,
      0.026298077777028084,
      0.017430629581212997,
      -0.0025860946625471115,
      0.03755217790603638,
      -0.016134057193994522,
      0.09347192198038101,
      0.0019082111539319158,
      0.02056213654577732,
      -0.017972232773900032,
      0.01935357227921486,
      -0.08415718376636505,
      -0.012696003541350365,
      0.0322660356760025,
      0.0810084268450737,
      0.0804213285446167,
      0.034103527665138245,
      0.07698283344507217,
      0.12464651465415955,
      -0.023418178781867027,
      0.06313721835613251,
      0.08055274188518524,
      -0.05441305786371231,
      0.03274722024798393,
      0.03204052895307541,
      -0.05436644330620766,
      0.06074558570981026,
      0.05148523300886154,
      5.6689074648648854e-33,
      0.06437312066555023,
      -0.042482584714889526,
      -0.07514354586601257,
      -0.055942121893167496,
      0.07152099162340164,
      0.10783956199884415,
      -0.07004160434007645,
      0.021552152931690216,
      0.04064284265041351,
      0.032775212079286575,
      -0.10588891059160233,
      0.002247339580208063,
      0.03021736815571785,
      -0.08548932522535324,
      -0.00865703634917736,
      -0.02570285275578499,
      -0.018022308126091957,
      0.07250116765499115,
      0.023678934201598167,
      0.0019949355628341436,
      0.03651672229170799,
      -0.018628953024744987,
      0.03882046788930893,
      0.033113520592451096,
      0.027634622529149055,
      0.03749097138643265,
      0.03691514953970909,
      -0.012863283976912498,
      -0.0632733553647995,
      -0.01400116365402937,
      -0.04727477580308914,
      0.008179305121302605,
      -0.029573287814855576,
      0.0102994404733181,
      0.026546016335487366,
      -0.00020741557818837464,
      0.019638726487755775,
      -0.037959519773721695,
      -0.07921067625284195,
      -0.043054915964603424,
      -0.007970939390361309,
      0.028098350390791893,
      -0.06716015934944153,
      -0.06624915450811386,
      -0.10443317890167236,
      -0.032918307930231094,
      -0.017873559147119522,
      0.058807581663131714,
      -0.005502340383827686,
      0.006932493299245834,
      -0.03746676445007324,
      -0.032523512840270996,
      0.013723067939281464,
      -0.06513193249702454,
      -0.028581907972693443,
      -0.04553346335887909,
      0.001946570468135178,
      0.02337251603603363,
      0.10034944117069244,
      -0.020247863605618477,
      0.07773751020431519,
      -0.06635849922895432,
      -0.02475191466510296,
      -0.06978874653577805,
      0.04028637334704399,
      0.021695086732506752,
      0.0007151366444304585,
      0.07376894354820251,
      0.02055693417787552,
      -0.05892125144600868,
      0.011688174679875374,
      0.0602559857070446,
      0.029782207682728767,
      -0.042171090841293335,
      0.02510567009449005,
      -0.0770496055483818,
      -0.04353158548474312,
      0.0715240016579628,
      -0.008038138039410114,
      0.057834506034851074,
      0.05125591903924942,
      -0.03772277012467384,
      -0.07919969409704208,
      0.0006467013154178858,
      -0.037849195301532745,
      0.006028755567967892,
      0.04490470513701439,
      -0.03326388821005821,
      -0.042198099195957184,
      0.0691227987408638,
      -0.08910378068685532,
      0.029255928471684456,
      -0.0008613114478066564,
      0.010542298667132854,
      0.031826648861169815,
      -6.400177357723646e-33,
      -0.0037935851141810417,
      0.03843856230378151,
      0.02291817031800747,
      -0.09970021992921829,
      0.08524928987026215,
      -0.06040768325328827,
      0.103884756565094,
      0.013263965956866741,
      -0.016428949311375618,
      -0.03794913738965988,
      0.026927843689918518,
      -0.11291991174221039,
      0.03970889374613762,
      -0.00627575907856226,
      0.0371364951133728,
      0.04405481740832329,
      0.019586559385061264,
      -0.023250076919794083,
      -0.09907308965921402,
      0.019267475232481956,
      -0.048443395644426346,
      0.057123418897390366,
      -0.06972916424274445,
      0.0003632890875451267,
      -0.0644613727927208,
      -0.04153705760836601,
      0.007217026315629482,
      -0.08846358954906464,
      -0.01915823109447956,
      0.004974146373569965,
      0.02722054161131382,
      0.040475815534591675,
      -0.06834425777196884,
      0.024510106071829796,
      0.016992809250950813,
      -0.035060472786426544,
      0.023490019142627716,
      0.06336124241352081,
      -0.05327292159199715,
      -0.008597982116043568,
      0.11764290183782578,
      0.08426862210035324,
      -0.07639801502227783,
      0.026981784030795097,
      0.0032290315721184015,
      0.056291352957487106,
      -0.06540849804878235,
      0.06821130216121674,
      -0.0736272782087326,
      0.044561371207237244,
      0.03412536531686783,
      -0.07230130583047867,
      0.043961089104413986,
      -0.05856246128678322,
      0.009147975593805313,
      -0.05528141185641289,
      0.04657605662941933,
      -0.05487660691142082,
      -0.013031477108597755,
      -0.048269398510456085,
      -0.017564361914992332,
      -0.00039956322871148586,
      -0.0708225667476654,
      0.10485309362411499,
      0.04725080728530884,
      -0.06262646615505219,
      -0.052802395075559616,
      0.10308784246444702,
      0.023477360606193542,
      -0.000651619688142091,
      -0.01907508634030819,
      -0.002040626248344779,
      0.019618920981884003,
      0.04136519134044647,
      0.11117905378341675,
      0.02761949598789215,
      -0.08765643835067749,
      -0.047183625400066376,
      -0.042475346475839615,
      0.057895101606845856,
      -0.019765343517065048,
      -0.005568719003349543,
      0.024296212941408157,
      -0.06700918078422546,
      -0.07042091339826584,
      -0.04653974995017052,
      -0.033152900636196136,
      0.07209441065788269,
      -0.04046166315674782,
      -0.005987522192299366,
      0.022117333486676216,
      -0.05915311723947525,
      -0.027841130271553993,
      -0.00495566613972187,
      0.021218229085206985,
      -4.4688597711228795e-08,
      -0.01886085420846939,
      -0.013821572996675968,
      0.01818156987428665,
      0.06050599738955498,
      0.05393201857805252,
      0.007368179969489574,
      0.024719946086406708,
      0.16272060573101044,
      0.0021445585880428553,
      -0.036711592227220535,
      -0.01999019831418991,
      -0.011266244575381279,
      -0.05165942385792732,
      0.008669019676744938,
      0.02281772345304489,
      -0.11018657684326172,
      -0.0643940269947052,
      0.022381793707609177,
      -0.01221754401922226,
      0.02220744825899601,
      -0.025426864624023438,
      -0.011447178199887276,
      0.011952867731451988,
      0.023662861436605453,
      0.017185257747769356,
      -0.012332967482507229,
      0.03591122105717659,
      0.03422149643301964,
      -0.0434718020260334,
      -0.02028481476008892,
      -0.01644684188067913,
      0.0008206351776607335,
      0.008892047218978405,
      -0.030176006257534027,
      0.04402915760874748,
      0.035745278000831604,
      -0.05030946433544159,
      0.02713802084326744,
      -0.06991543620824814,
      0.09688224643468857,
      -0.07123909145593643,
      0.052795667201280594,
      0.0074129654094576836,
      0.0064827995374798775,
      0.06451637297868729,
      -0.08526915311813354,
      -0.0532778799533844,
      -0.009497454389929771,
      0.03867999464273453,
      -0.0074281650595366955,
      -0.042062994092702866,
      -0.031986303627491,
      0.0025616916827857494,
      0.02278866432607174,
      -0.024997731670737267,
      0.027732476592063904,
      0.04621744155883789,
      -0.00019010729738511145,
      -0.04187861084938049,
      -0.07306379824876785,
      0.11430106312036514,
      0.022336719557642937,
      -0.0059576197527348995,
      -0.08609198778867722
    ]
  },
  {
    "id": "tracks.py_get_db",
    "filename": "tracks.py",
    "function_name": "get_db",
    "text": "## Function: get_db (tracks.py)\n\n```python\ndef get_db():\n    db = SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n```\n",
    "embedding": [
      0.018244531005620956,
      0.006891644559800625,
      -0.06123640760779381,
      0.07546677440404892,
      -0.002004092326387763,
      -0.011521777138113976,
      0.06141744554042816,
      0.03236905112862587,
      -0.031810611486434937,
      -0.02949788048863411,
      -0.03162579983472824,
      -0.026994386687874794,
      -0.04358656704425812,
      -0.02114074118435383,
      0.022367926314473152,
      0.026830390095710754,
      -0.02754385583102703,
      -0.010213502682745457,
      0.042397841811180115,
      -0.004447199869900942,
      0.002886570291593671,
      0.09236634522676468,
      0.047036632895469666,
      0.11777326464653015,
      -0.025429606437683105,
      -0.07842815667390823,
      -0.05565603822469711,
      0.02508625201880932,
      -0.03512270376086235,
      -0.0008743225480429828,
      0.011371122673153877,
      0.05204201117157936,
      -0.06587827205657959,
      0.0057546901516616344,
      0.06236639618873596,
      -0.0010838672751560807,
      -0.02525636926293373,
      -0.04917995259165764,
      0.0845479816198349,
      -0.058451175689697266,
      0.01565057411789894,
      -0.026392119005322456,
      -0.06744608283042908,
      0.06693895906209946,
      -0.001364570576697588,
      -0.012530135922133923,
      -0.12229713052511215,
      0.018244169652462006,
      0.013611845672130585,
      0.015455430373549461,
      -0.003804801031947136,
      0.01147942803800106,
      0.007584639824926853,
      -0.002685337793081999,
      0.024211004376411438,
      0.08880680054426193,
      0.06922174245119095,
      0.05891594663262367,
      -0.029798539355397224,
      0.07030691206455231,
      -0.069425068795681,
      -0.03179185837507248,
      -0.04526698961853981,
      -0.0011062646517530084,
      -0.04571585729718208,
      -0.05518578365445137,
      -0.060208193957805634,
      7.6966782216914e-05,
      0.08410301804542542,
      -0.011431270278990269,
      -0.011611922644078732,
      -0.016468485817313194,
      -0.04856947436928749,
      -0.02574378065764904,
      0.013131961226463318,
      -0.09388364851474762,
      0.030548937618732452,
      -0.043692804872989655,
      -0.08200980722904205,
      0.02463662251830101,
      -0.0974106416106224,
      -0.11309618502855301,
      0.016915341839194298,
      -0.052959851920604706,
      0.05822615697979927,
      -0.03716713935136795,
      0.028583815321326256,
      0.012012559920549393,
      0.02237110212445259,
      -0.04470609873533249,
      -0.09057924151420593,
      0.026584770530462265,
      -0.049864511936903,
      0.02233276516199112,
      -0.08336026966571808,
      0.04405803233385086,
      0.047607578337192535,
      -0.002035474171862006,
      0.09845612198114395,
      0.043752968311309814,
      0.02172534540295601,
      0.085239939391613,
      -0.0011453479528427124,
      -0.00021534044935833663,
      0.02575153112411499,
      0.0034775645472109318,
      -0.019926954060792923,
      -0.0279267318546772,
      -0.0273587703704834,
      -0.04583817347884178,
      0.00371487601660192,
      0.046417877078056335,
      -0.005686091724783182,
      0.040518488734960556,
      0.07137683779001236,
      0.08464458584785461,
      -0.05746837332844734,
      0.037236008793115616,
      -0.011544560082256794,
      0.049986500293016434,
      0.11086288094520569,
      0.04014900326728821,
      -0.02295655757188797,
      0.06609271466732025,
      -0.05361560732126236,
      0.026400240138173103,
      0.07760249078273773,
      -9.872842972732002e-34,
      0.011722872033715248,
      -0.1574493795633316,
      0.08456241339445114,
      -0.045891571789979935,
      0.04318815842270851,
      0.05319288372993469,
      -0.052486833184957504,
      0.00976661778986454,
      -0.04359862953424454,
      0.1029806137084961,
      -0.09254048764705658,
      0.03462386503815651,
      0.010133576579391956,
      -0.06465697288513184,
      0.00830154214054346,
      0.021761231124401093,
      -0.048908594995737076,
      0.03262777253985405,
      -0.0060180844739079475,
      0.039217811077833176,
      0.04505147412419319,
      -0.002446455182507634,
      0.0008414346375502646,
      -0.0033643722999840975,
      0.05953023210167885,
      0.06724338978528976,
      -0.06063685193657875,
      0.009668438695371151,
      -0.007866349071264267,
      0.03315203636884689,
      -0.09768099337816238,
      -0.07873047888278961,
      0.013967017643153667,
      -0.003940956201404333,
      -0.02518926002085209,
      -0.011118964292109013,
      -0.01581891067326069,
      0.004976691212505102,
      -0.06849603354930878,
      -0.12013865262269974,
      0.030773021280765533,
      0.016830379143357277,
      -0.05632395297288895,
      -0.029377590864896774,
      -0.11383312940597534,
      0.02932223677635193,
      -0.00750186899676919,
      0.0958295613527298,
      0.007749603129923344,
      0.010540962219238281,
      -0.05760053172707558,
      -0.013321415521204472,
      -0.036534786224365234,
      5.024144775234163e-05,
      -0.002557366853579879,
      0.007301041390746832,
      0.057947754859924316,
      0.04553420469164848,
      0.09278126060962677,
      -0.05592947080731392,
      0.08866146206855774,
      -0.023770764470100403,
      0.007428123615682125,
      -0.09313515573740005,
      -0.0016025305958464742,
      0.04585041105747223,
      0.030501611530780792,
      0.03594699501991272,
      0.08293990045785904,
      0.010792674496769905,
      -0.07098612189292908,
      0.031022395938634872,
      -0.008197884075343609,
      -0.0969160944223404,
      0.0869082659482956,
      0.01349459495395422,
      -0.05816005915403366,
      -0.07993774861097336,
      -0.04102346673607826,
      0.03529734164476395,
      0.076938197016716,
      -0.029119517654180527,
      -0.08950171619653702,
      0.0060574570670723915,
      0.02578272856771946,
      0.015431028790771961,
      -0.012217805720865726,
      -0.009014248847961426,
      -0.040781185030937195,
      -0.0006785385776311159,
      -0.13101638853549957,
      -0.03047073632478714,
      -0.00167205766774714,
      -0.03170820325613022,
      -0.03435240313410759,
      -2.3758482031125586e-33,
      0.10126180201768875,
      0.001016798778437078,
      0.04121651500463486,
      -0.04444543272256851,
      0.07343508303165436,
      -0.046314168721437454,
      0.042202502489089966,
      0.001527551794424653,
      -0.017138991504907608,
      -0.004954799544066191,
      -0.006315550766885281,
      -0.04364706575870514,
      0.04719812795519829,
      0.007237719371914864,
      0.021692590788006783,
      0.06989384442567825,
      -0.0521794855594635,
      0.011131590232253075,
      -0.016495557501912117,
      0.04194403067231178,
      -0.10089197754859924,
      -0.04656505957245827,
      0.007061877753585577,
      -0.035829149186611176,
      -0.07860798388719559,
      -0.04595155268907547,
      0.019535664469003677,
      -0.09392848610877991,
      -0.0015958442818373442,
      -0.001700002234429121,
      -0.02726658061146736,
      -0.012770658358931541,
      -0.09689335525035858,
      0.03181916102766991,
      -0.013774200342595577,
      0.023538636043667793,
      0.02027861960232258,
      0.00012921322195325047,
      -0.004418348427861929,
      0.049645788967609406,
      0.05996271222829819,
      0.13408610224723816,
      -0.060477279126644135,
      -0.023833278566598892,
      -0.010087074711918831,
      0.024965249001979828,
      -0.04058459401130676,
      0.1153969094157219,
      -0.08095495402812958,
      -0.06331770122051239,
      0.039761412888765335,
      -0.06157933175563812,
      0.008181720972061157,
      -0.06255283206701279,
      -0.010297674685716629,
      0.001973474631085992,
      0.03438255563378334,
      -0.042007818818092346,
      -0.04648975655436516,
      -0.04029719904065132,
      -0.04114498570561409,
      -0.00680927000939846,
      -0.10117608308792114,
      0.006185613106936216,
      -0.04560939967632294,
      0.01220014039427042,
      -0.06706562638282776,
      0.06266679614782333,
      0.006950980983674526,
      -0.005839278921484947,
      0.00010201868281001225,
      0.05480286106467247,
      0.04581144452095032,
      0.09794978052377701,
      -0.03276166319847107,
      0.11704683303833008,
      -0.13902848958969116,
      -0.06799063831567764,
      0.007645440753549337,
      0.09169141948223114,
      0.03258388116955757,
      -0.02984568662941456,
      0.06689386814832687,
      -0.04596933349967003,
      0.01582317426800728,
      -0.03788946941494942,
      -0.006413735914975405,
      0.030182797461748123,
      -0.02611999399960041,
      -0.04091276600956917,
      -0.026454756036400795,
      0.05686074495315552,
      -0.00890025682747364,
      0.06783104687929153,
      0.016138454899191856,
      -2.665467491169693e-08,
      -0.05812039598822594,
      -0.009723741561174393,
      0.09313556551933289,
      -0.03623684495687485,
      0.07085707783699036,
      0.02399180829524994,
      0.04121430963277817,
      0.09784756600856781,
      0.0004783078911714256,
      0.019538553431630135,
      0.04761577770113945,
      -0.049188282340765,
      0.021019108593463898,
      0.06649928539991379,
      -0.07148969173431396,
      0.031075840815901756,
      0.056831154972314835,
      0.07856723666191101,
      0.005636339541524649,
      -0.0009130888502113521,
      -0.02850249968469143,
      0.002837309380993247,
      0.033445704728364944,
      -0.04321124032139778,
      0.01237016636878252,
      -0.013384911231696606,
      -0.013421992771327496,
      0.08628175407648087,
      -0.021676041185855865,
      -0.08100713044404984,
      0.07664534449577332,
      0.022940618917346,
      -0.0073638977482914925,
      0.03338252380490303,
      0.008610597811639309,
      0.051774848252534866,
      0.005938820540904999,
      0.052300531417131424,
      -0.011141414754092693,
      0.1002444177865982,
      -0.10692791640758514,
      -0.030981384217739105,
      -0.013060691766440868,
      0.015820475295186043,
      -0.018328936770558357,
      -0.020857270807027817,
      0.007720754481852055,
      0.05433184280991554,
      0.056822050362825394,
      0.013846533372998238,
      -0.010158992372453213,
      -0.09025907516479492,
      -0.05153149738907814,
      -0.007677464280277491,
      0.01984306611120701,
      0.036665402352809906,
      -0.0303217601031065,
      -0.017153456807136536,
      -0.08255970478057861,
      -0.06290338188409805,
      -0.05714530125260353,
      -0.01220702938735485,
      0.05863282084465027,
      0.001975934486836195
    ]
  },
  {
    "id": "tracks.py_get_single_track",
    "filename": "tracks.py",
    "function_name": "get_single_track",
    "text": "## Function: get_single_track (tracks.py)\n\n```python\n@router.get(\"/{track_id}\")\ndef get_single_track(track_id: str, db: Session = Depends(get_db)):\n    track = db.query(Track).filter(Track.id == track_id).first()\n    if not track:\n        raise HTTPException(status_code=404, detail=\"Track not found\")\n\n    return {\n        \"id\": track.id,\n        \"track_name\": track.track_name,\n        \"type\": track.type,\n        \"session_id\": track.session_id,\n        \"file_path\": track.file_path\n    }\n```\n",
    "embedding": [
      0.008286459371447563,
      0.04751450940966606,
      -0.018176961690187454,
      0.05391480773687363,
      0.058716580271720886,
      -0.02486122027039528,
      0.01302285399287939,
      0.023873375728726387,
      -0.03532393276691437,
      -0.07421416789293289,
      -0.03040705993771553,
      -0.012523251585662365,
      -0.023447923362255096,
      -0.04453357681632042,
      0.029376870021224022,
      0.06563014537096024,
      -0.04106074571609497,
      -0.00027813404449261725,
      0.004594727419316769,
      -0.05950827896595001,
      -0.0013632653281092644,
      0.07098835706710815,
      0.03811357170343399,
      0.08382686972618103,
      -0.07362096756696701,
      -0.06859802454710007,
      -0.05254478380084038,
      -0.028212547302246094,
      -0.06265915930271149,
      -0.045800935477018356,
      0.07063993066549301,
      0.019627878442406654,
      -0.08141524344682693,
      0.009185634553432465,
      0.06324842572212219,
      -0.05981563404202461,
      -0.05269356071949005,
      -0.0324336402118206,
      0.12070612609386444,
      -0.010776011273264885,
      0.009485175833106041,
      0.0289316326379776,
      0.034472089260816574,
      0.00539144454523921,
      -0.018701322376728058,
      -0.0478987880051136,
      -0.07074812799692154,
      0.03655064105987549,
      0.010335073806345463,
      -0.013228252530097961,
      0.02933303639292717,
      -0.03756018728017807,
      -0.009657374583184719,
      -0.025036977604031563,
      0.003548660082742572,
      0.04683303460478783,
      -0.07863190770149231,
      0.07291583716869354,
      -0.04472927749156952,
      0.002921862993389368,
      -0.04656270146369934,
      -0.0761861801147461,
      0.05145680531859398,
      -0.0804133415222168,
      -0.024905629456043243,
      -0.05569515377283096,
      -0.04401761665940285,
      0.010381234809756279,
      0.06632499396800995,
      0.036996029317379,
      -0.0036122791934758425,
      -0.0034412893000990152,
      -0.03045494109392166,
      0.0015699075302109122,
      0.0008017615764401853,
      -0.07983820885419846,
      -0.0007217276142910123,
      0.01626105234026909,
      -0.07003376632928848,
      0.009078490547835827,
      -0.060105517506599426,
      -0.10710491985082626,
      0.032509736716747284,
      -0.03104962781071663,
      0.1214001402258873,
      -0.05186175927519798,
      0.03610933572053909,
      -0.024464190006256104,
      0.014010133221745491,
      -0.046600788831710815,
      -0.10613367706537247,
      0.011399750597774982,
      0.010884919203817844,
      -0.047920599579811096,
      -0.00892082042992115,
      0.06874439120292664,
      -0.03188968077301979,
      0.0625835582613945,
      0.04765339568257332,
      0.07891714572906494,
      0.038148440420627594,
      -0.029726611450314522,
      0.035008396953344345,
      0.08002837002277374,
      0.023627471178770065,
      0.0291635412722826,
      0.013577822595834732,
      0.08342386037111282,
      0.042052797973155975,
      -0.0393466018140316,
      -0.010109384544193745,
      0.019887929782271385,
      0.0230712927877903,
      0.06507314741611481,
      0.0670369416475296,
      0.036287494003772736,
      -0.003392219776287675,
      0.10718026757240295,
      -0.013354566879570484,
      0.05544596165418625,
      0.032614585012197495,
      -0.07353994995355606,
      0.061767056584358215,
      0.004160600248724222,
      -0.06984459608793259,
      -0.0248689167201519,
      0.13591806590557098,
      2.9656520000218495e-35,
      0.052219800651073456,
      -0.04815687984228134,
      -0.005492063704878092,
      -0.13565361499786377,
      0.04399491474032402,
      0.040620408952236176,
      -0.03721633926033974,
      -0.006940704304724932,
      -0.02270837128162384,
      0.08091924339532852,
      -0.049353256821632385,
      0.019709184765815735,
      -0.01200963370501995,
      -0.046746209263801575,
      0.005433857440948486,
      -0.021653810515999794,
      -0.09528182446956635,
      0.055384278297424316,
      0.05546886846423149,
      0.0029729267116636038,
      0.002687924075871706,
      -0.004904930014163256,
      -0.04447799548506737,
      -0.02944849245250225,
      0.05798741802573204,
      -0.004303345922380686,
      -0.01413050852715969,
      0.023927129805088043,
      -0.03242795914411545,
      -0.003320668125525117,
      -0.030983740463852882,
      -0.024911370128393173,
      0.028578393161296844,
      -0.005859800614416599,
      0.004727144725620747,
      -0.0158123467117548,
      -0.013721034862101078,
      0.015889981761574745,
      -0.058492086827754974,
      -0.10850230604410172,
      0.03172740712761879,
      0.025193264707922935,
      -0.023363273590803146,
      -0.062103141099214554,
      -0.1113489642739296,
      -0.0005213413969613612,
      -0.07699596881866455,
      0.07702822983264923,
      0.003011414548382163,
      -0.01924966834485531,
      -0.09520559012889862,
      -0.006735951639711857,
      0.000667452986817807,
      -0.06789208948612213,
      0.0192886833101511,
      -0.059827424585819244,
      -0.006732459645718336,
      0.06025893613696098,
      0.06903062760829926,
      -0.0485311895608902,
      0.10748445242643356,
      -0.02924303151667118,
      -0.040246762335300446,
      -0.08283606171607971,
      0.05040137097239494,
      0.06780224293470383,
      0.07466737926006317,
      0.027518562972545624,
      0.10505361109972,
      -0.000596668163780123,
      -0.028521955013275146,
      -0.009855398908257484,
      -0.030031617730855942,
      -0.07784991711378098,
      0.07652364671230316,
      -0.05044889450073242,
      -0.05660759657621384,
      -0.019721845164895058,
      -0.022116225212812424,
      0.028860904276371002,
      -0.08092955499887466,
      -0.05784321576356888,
      -0.06281186640262604,
      0.07078836858272552,
      0.023327670991420746,
      0.060590799897909164,
      0.012529011815786362,
      -0.006225327029824257,
      -0.011335042305290699,
      0.023337898775935173,
      -0.06205674260854721,
      0.016724824905395508,
      -0.0839725062251091,
      -0.01407721359282732,
      0.042620789259672165,
      -1.7260911293016468e-33,
      0.05600250884890556,
      0.04583962634205818,
      0.12435317784547806,
      -0.03899170085787773,
      0.07415774464607239,
      -0.030728749930858612,
      0.1099725142121315,
      0.002061530016362667,
      0.046436700969934464,
      0.06221437826752663,
      0.0023493031039834023,
      -0.09405163675546646,
      0.012750351801514626,
      -0.0016276270616799593,
      0.04798195883631706,
      0.026793483644723892,
      -0.07920195907354355,
      0.0030417938251048326,
      -0.0021913559176027775,
      0.013565161265432835,
      -0.10256411135196686,
      0.006879113148897886,
      -0.03564642742276192,
      0.03875963017344475,
      -0.027863800525665283,
      -0.007754967547953129,
      0.08071759343147278,
      -0.07810362428426743,
      -0.025149263441562653,
      -0.022781793028116226,
      -0.053878579288721085,
      0.030417710542678833,
      -0.08508309721946716,
      -0.02157517895102501,
      -0.022558821365237236,
      -0.012002727016806602,
      -0.01770184561610222,
      0.10846300423145294,
      -0.012970072217285633,
      0.027241000905632973,
      0.04311966896057129,
      0.09514758735895157,
      -0.008064634166657925,
      0.06349436193704605,
      -0.015675265341997147,
      -0.03168940171599388,
      0.045078594237565994,
      0.1327010691165924,
      -0.10091757029294968,
      -0.006533992011100054,
      0.00985077302902937,
      -0.0246743056923151,
      0.030346933752298355,
      -0.057313039898872375,
      0.022807477042078972,
      -0.020892012864351273,
      0.03172769024968147,
      -0.0684514045715332,
      -0.06364919990301132,
      -0.024676544591784477,
      -0.005139643792062998,
      -0.007288764696568251,
      -0.12292028218507767,
      0.0777125284075737,
      0.026213400065898895,
      -0.03949912264943123,
      -0.08885140717029572,
      0.015207778662443161,
      0.0017221564194187522,
      0.054887786507606506,
      -0.01793522574007511,
      0.009774832986295223,
      0.034093212336301804,
      0.04740903154015541,
      0.07857563346624374,
      0.06023896113038063,
      -0.07787482440471649,
      0.029113242402672768,
      -0.008267347700893879,
      0.05338004231452942,
      -0.02346407249569893,
      -0.0074116927571594715,
      0.026105469092726707,
      -0.15606969594955444,
      0.04153800010681152,
      -0.006886279676109552,
      0.0008206534548662603,
      0.06331120431423187,
      -0.020824475213885307,
      -0.011065923608839512,
      0.06488443166017532,
      0.015626026317477226,
      -0.02830158919095993,
      0.0013955553295090795,
      -0.08491916954517365,
      -4.292296651442484e-08,
      -0.05960466340184212,
      0.047667454928159714,
      0.047938086092472076,
      0.007951387204229832,
      0.07673222571611404,
      0.0769977942109108,
      0.10509905964136124,
      0.03285999223589897,
      -0.022407494485378265,
      -0.01038787979632616,
      0.006601973902434111,
      -0.008209294639527798,
      -0.02338423579931259,
      0.07110307365655899,
      -0.02544347755610943,
      -0.03151337802410126,
      -0.03606615588068962,
      0.14309245347976685,
      -0.04146980494260788,
      0.0943533331155777,
      -0.04125451296567917,
      -0.039411552250385284,
      0.004858436528593302,
      -0.0340844951570034,
      0.03824608400464058,
      -0.02311832085251808,
      0.01769557036459446,
      0.051288630813360214,
      0.0005802353844046593,
      -0.009076664224267006,
      0.024681925773620605,
      0.04546366259455681,
      -0.017195886000990868,
      -0.01261475495994091,
      0.006303048692643642,
      0.04976301267743111,
      -0.03039487823843956,
      0.0656050369143486,
      -0.039618149399757385,
      0.029424535110592842,
      -0.0931381806731224,
      0.043669190257787704,
      0.04857875779271126,
      0.013974330388009548,
      0.05146921053528786,
      -0.03689759969711304,
      0.0010071274591609836,
      -0.023946965113282204,
      0.03281006962060928,
      -0.011714289896190166,
      -0.06003647670149803,
      -0.09102081507444382,
      0.02721058949828148,
      0.010109622031450272,
      0.005289755295962095,
      0.06683599203824997,
      0.012203557416796684,
      -0.018695849925279617,
      -0.07919716089963913,
      -0.03335864469408989,
      0.03314266726374626,
      -0.03409825265407562,
      0.05187757685780525,
      0.004715313203632832
    ]
  },
  {
    "id": "tracks.py_update_track",
    "filename": "tracks.py",
    "function_name": "update_track",
    "text": "## Function: update_track (tracks.py)\n\n```python\n@router.put(\"/{id}\")\ndef update_track(\n    id: str,\n    track_name: str = Form(...),\n    db: Session = Depends(get_db)\n):\n    track = db.query(Track).filter(Track.id == id).first()\n    if not track:\n        raise HTTPException(status_code=404, detail=\"Track not found\")\n    track.track_name = track_name\n    db.commit()\n    return {\"message\": \"Track updated\", \"track\": track}\n```\n",
    "embedding": [
      -0.02661772072315216,
      0.0061403620056807995,
      -0.0014370823046192527,
      0.03662378713488579,
      0.005719033535569906,
      -0.02103196270763874,
      -0.04756481945514679,
      -0.022421328350901604,
      -0.017209993675351143,
      -0.02856164611876011,
      -0.034905705600976944,
      0.0023103919811546803,
      0.0020567160099744797,
      -0.06916751712560654,
      0.005157483275979757,
      0.08530891686677933,
      -0.02282685786485672,
      -0.01527078915387392,
      -0.03775021806359291,
      -0.06354915350675583,
      -0.03366323560476303,
      0.07928463816642761,
      0.07382111996412277,
      0.12197169661521912,
      -0.04622047394514084,
      -0.037701189517974854,
      -0.03997953236103058,
      -0.016512058675289154,
      -0.06022009998559952,
      -0.016933441162109375,
      0.006431972607970238,
      -0.017657415941357613,
      -0.015475865453481674,
      0.001963484799489379,
      0.027378175407648087,
      -0.05801282078027725,
      -0.09147843718528748,
      -0.017426997423171997,
      0.0940118208527565,
      -0.019744539633393288,
      0.0055496846325695515,
      -0.043862875550985336,
      0.011523312889039516,
      0.012995941564440727,
      -0.019913705065846443,
      -0.010940050706267357,
      -0.07402730733156204,
      0.01926000788807869,
      -0.02409101091325283,
      -0.006545579992234707,
      0.015073401853442192,
      -0.10128003358840942,
      -0.00016110313299577683,
      -0.04029533267021179,
      -0.021047232672572136,
      0.047492027282714844,
      -0.004483276978135109,
      0.08164268732070923,
      -0.015700435265898705,
      -0.059044454246759415,
      0.02041739597916603,
      -0.058878619223833084,
      0.0839848592877388,
      -0.06322383135557175,
      -0.07146868854761124,
      -0.09037912636995316,
      -0.034694332629442215,
      0.016059717163443565,
      0.0570252425968647,
      0.056245725601911545,
      0.05009333789348602,
      0.04964352771639824,
      -0.04299108684062958,
      -0.03618456423282623,
      -0.022418998181819916,
      -0.06756195425987244,
      0.005668812897056341,
      0.053128235042095184,
      -0.05657758191227913,
      0.045185089111328125,
      -0.030668482184410095,
      -0.12410010397434235,
      0.0014403729001060128,
      -0.04188402369618416,
      0.09639687091112137,
      -0.07697819918394089,
      0.05719997361302376,
      -0.04307379946112633,
      -0.003785304492339492,
      -0.04917706549167633,
      -0.07569063454866409,
      -0.01801757887005806,
      0.04679166525602341,
      -0.055551640689373016,
      -0.04603249952197075,
      0.07460211962461472,
      -0.039124295115470886,
      0.07503687590360641,
      0.024848563596606255,
      0.04412350058555603,
      0.06355925649404526,
      -0.017548540607094765,
      -0.05756339058279991,
      0.06623493880033493,
      0.05891723185777664,
      0.016455134376883507,
      0.03581199422478676,
      0.10281021147966385,
      0.043901000171899796,
      -0.030145518481731415,
      -0.0073296017944812775,
      0.003711676923558116,
      0.012421535328030586,
      0.0263613760471344,
      0.033479150384664536,
      0.05365964025259018,
      0.0196404866874218,
      0.10854215919971466,
      -0.053009286522865295,
      0.02561316452920437,
      0.067006915807724,
      -0.043418411165475845,
      0.004073637537658215,
      -0.019284214824438095,
      -0.08290538191795349,
      -0.03830575942993164,
      0.13319796323776245,
      6.724178957476289e-34,
      0.09719453752040863,
      0.0020520398393273354,
      -0.030559489503502846,
      -0.11618101596832275,
      0.06252952665090561,
      0.04074299708008766,
      -0.06519327312707901,
      -0.02626570500433445,
      0.021145682781934738,
      0.038807179778814316,
      -0.06480677425861359,
      0.0017217769054695964,
      0.005548881832510233,
      -0.051855672150850296,
      0.004994585644453764,
      -0.09744508564472198,
      -0.08578181266784668,
      0.07054471969604492,
      0.056752029806375504,
      0.025338927283883095,
      0.051497526466846466,
      -0.020748242735862732,
      -0.02720004878938198,
      -0.0697321891784668,
      0.06121703237295151,
      0.05377815291285515,
      -0.013420116156339645,
      0.014997946098446846,
      -0.02402917854487896,
      -0.029554782435297966,
      -0.020482052117586136,
      -0.042097289115190506,
      0.02257351577281952,
      0.003225138410925865,
      -0.027340834960341454,
      -0.03950752690434456,
      -0.047131121158599854,
      -0.03730928897857666,
      -0.04706067219376564,
      -0.1237093061208725,
      0.09086805582046509,
      0.005781203508377075,
      -0.06647121906280518,
      -0.02728632465004921,
      -0.06614068895578384,
      0.04392782598733902,
      -0.060304801911115646,
      0.1076987162232399,
      0.0300702303647995,
      -0.038006123155355453,
      -0.04560098797082901,
      -0.025000732392072678,
      -0.03286140039563179,
      -0.08877266943454742,
      0.012242612428963184,
      -0.0105783361941576,
      -0.005992356687784195,
      -0.011682726442813873,
      0.046205971390008926,
      -0.07621648162603378,
      0.12024268507957458,
      -0.03199080005288124,
      -0.004354214295744896,
      -0.04617205262184143,
      0.039969731122255325,
      0.08226190507411957,
      0.061928559094667435,
      0.0177549347281456,
      0.08406119793653488,
      0.015922321006655693,
      -0.03782805800437927,
      0.029342519119381905,
      -0.06088973581790924,
      0.023996343836188316,
      0.048228323459625244,
      -0.067621149122715,
      -0.10795419663190842,
      -0.013463118113577366,
      -0.04292650520801544,
      0.032732438296079636,
      -0.001983118709176779,
      -0.10183210670948029,
      -0.1400955319404602,
      0.08654560893774033,
      0.08009689301252365,
      0.07538896799087524,
      0.0019408134976401925,
      0.07398533076047897,
      -0.03473331034183502,
      0.044129230082035065,
      -0.029180562123656273,
      0.024786697700619698,
      -0.06600847840309143,
      -0.005138092208653688,
      0.05703170597553253,
      -2.7622229106522748e-33,
      0.04035907983779907,
      0.013486635871231556,
      0.06679956614971161,
      0.003119239117950201,
      0.049825556576251984,
      -0.05682412162423134,
      0.06366860866546631,
      0.02837854065001011,
      0.0891740471124649,
      0.06022706627845764,
      -0.07121651619672775,
      -0.06575876474380493,
      -0.0010407603112980723,
      -0.02748146653175354,
      -0.014822818338871002,
      0.012188217602670193,
      -0.09736958146095276,
      0.032710909843444824,
      -0.033553387969732285,
      -0.013083770871162415,
      -0.09035461395978928,
      0.011003355495631695,
      -0.06218157336115837,
      0.0505765825510025,
      -0.05545739084482193,
      -0.015272856689989567,
      0.09328513592481613,
      -0.05871671065688133,
      -0.006814875639975071,
      -0.024259347468614578,
      -0.05153622850775719,
      0.03119250200688839,
      -0.08032812178134918,
      0.013427447527647018,
      0.003318769158795476,
      -0.010996673256158829,
      0.06294731795787811,
      0.04971909150481224,
      -0.048615776002407074,
      0.03061952441930771,
      0.06088812276721001,
      0.11665786057710648,
      -0.003128941636532545,
      0.06706029921770096,
      0.021216941997408867,
      -0.022424545139074326,
      0.015539873391389847,
      0.09792128950357437,
      -0.11234273761510849,
      -0.02264496125280857,
      0.005777221173048019,
      -0.06563752889633179,
      0.03638395667076111,
      -0.011430791579186916,
      0.05196988582611084,
      0.018409226089715958,
      -0.005722742527723312,
      -0.07101268321275711,
      -0.01682691089808941,
      -0.00134609907399863,
      -0.06253307312726974,
      0.050213005393743515,
      -0.048840612173080444,
      0.033506304025650024,
      0.02020115964114666,
      -0.00218444736674428,
      -0.0893402099609375,
      0.010974028147757053,
      0.03682214394211769,
      0.030481651425361633,
      -0.0023827252443879843,
      -0.0048208897933363914,
      0.01447289064526558,
      0.0333358459174633,
      0.06339713931083679,
      -0.01414590235799551,
      -0.08345209062099457,
      0.021962309256196022,
      -0.010531248524785042,
      0.04900117591023445,
      -0.007171107456088066,
      0.0037308859173208475,
      0.0738314613699913,
      -0.08749721199274063,
      0.004658137448132038,
      0.011622346937656403,
      0.029694760218262672,
      0.06027967110276222,
      -0.03255012258887291,
      -0.057628076523542404,
      0.05179046466946602,
      0.018744735047221184,
      -0.006023173686116934,
      0.017222005873918533,
      -0.10860586166381836,
      -4.262907893348711e-08,
      -0.048270802944898605,
      0.0933506116271019,
      0.02287561632692814,
      0.04085225611925125,
      0.08367481827735901,
      0.05072963982820511,
      0.08426932990550995,
      0.0028936932794749737,
      -0.007475414779037237,
      -0.05313233286142349,
      -0.018195506185293198,
      0.03894759342074394,
      -0.00410537701100111,
      0.049825239926576614,
      -0.018145063892006874,
      -0.030174411833286285,
      -0.03290257602930069,
      0.11760964244604111,
      -0.0013801900204271078,
      0.033005714416503906,
      -0.016078408807516098,
      -0.013447696343064308,
      -0.0002495889493729919,
      -0.02076134830713272,
      0.07378807663917542,
      -0.04702572897076607,
      0.053944431245326996,
      0.0724589079618454,
      -0.006885729730129242,
      -0.02038486674427986,
      0.06037069857120514,
      0.013095689006149769,
      0.035134490579366684,
      0.0343850702047348,
      0.008605028502643108,
      -0.018868660554289818,
      0.030682552605867386,
      0.042662765830755234,
      0.0008176674018613994,
      0.07212618738412857,
      -0.07324188947677612,
      0.05425375699996948,
      0.002434419235214591,
      -0.00796925276517868,
      0.02333776466548443,
      -0.042632684111595154,
      -0.01934192329645157,
      -0.06663934141397476,
      0.02022544853389263,
      -0.0009555696160532534,
      -0.03328732028603554,
      -0.05716507136821747,
      0.01802101731300354,
      -0.010652206838130951,
      0.040325094014406204,
      0.061229102313518524,
      -0.0012250725412741303,
      -0.023637695237994194,
      -0.07195167988538742,
      -0.04307152330875397,
      0.029736191034317017,
      -0.0378069169819355,
      0.09307881444692612,
      -0.006581469438970089
    ]
  },
  {
    "id": "tracks.py_delete_track",
    "filename": "tracks.py",
    "function_name": "delete_track",
    "text": "## Function: delete_track (tracks.py)\n\n```python\n@router.delete(\"/{id}\")\ndef delete_track(id: str, db: Session = Depends(get_db)):\n    print(\"Deleting track:\", id)\n    track = db.query(Track).filter(Track.id == id).first()\n    if not track:\n        raise HTTPException(status_code=404, detail=\"Track not found\")\n\n    # Delete associated analysis result if any\n    if track.analysis:\n        db.delete(track.analysis)\n\n    # Delete related chat messages\n    deleted_chats = db.query(ChatMessage).filter(ChatMessage.track_id == track.id).delete()\n    print(f\"Deleted {deleted_chats} chat messages for track {track.id}\")\n\n    # Safely delete file if file_path is set and file exists\n    if track.file_path:\n        try:\n            if os.path.exists(track.file_path):\n                os.remove(track.file_path)\n                print(f\"Deleted file: {track.file_path}\")\n            else:\n                print(f\"File path does not exist: {track.file_path}\")\n        except Exception as e:\n            print(f\"Warning: Failed to delete file {track.file_path}: {e}\")\n\n    # Delete track from DB\n    db.delete(track)\n    db.commit()\n\n    return {\"message\": \"Track, analysis, and chat messages deleted\"}\n```\n",
    "embedding": [
      -0.04550745710730553,
      0.0167773999273777,
      -0.013083374127745628,
      0.018766114488244057,
      0.09980002790689468,
      -0.041942283511161804,
      0.06026852875947952,
      -0.06533142179250717,
      0.0586063377559185,
      -0.03422720730304718,
      0.010549456812441349,
      0.04485127702355385,
      0.01528298482298851,
      0.011590870097279549,
      -0.03722750395536423,
      0.04571688920259476,
      -0.06774052232503891,
      -0.03440921753644943,
      -0.06419899314641953,
      -0.009344853460788727,
      0.015828941017389297,
      0.08704441040754318,
      0.10726289451122284,
      0.10053549706935883,
      -0.003855796530842781,
      -0.049668967723846436,
      0.01997467130422592,
      -0.0306481271982193,
      -0.11416725814342499,
      -0.005796471145004034,
      0.054528143256902695,
      0.010741200298070908,
      -0.013670582324266434,
      0.008640757761895657,
      0.0534018911421299,
      -0.02125638537108898,
      -0.04944277182221413,
      -0.04735884442925453,
      0.09498145431280136,
      -0.022168023511767387,
      -0.03513157367706299,
      0.007096908055245876,
      -0.000269554351689294,
      -0.01000240258872509,
      0.02729540504515171,
      -0.035873521119356155,
      -0.14927487075328827,
      0.010438719764351845,
      -0.014508332125842571,
      0.0022802746389061213,
      -0.006381931249052286,
      -0.007036123890429735,
      -0.015510128811001778,
      0.040096476674079895,
      0.03517530858516693,
      0.04066641256213188,
      -0.022707026451826096,
      0.039332784712314606,
      -0.05319220945239067,
      -0.041558247059583664,
      0.018201421946287155,
      -0.036278750747442245,
      0.03784111887216568,
      -0.10520589351654053,
      -0.03994958475232124,
      -0.01873096264898777,
      -0.013280203565955162,
      0.025189362466335297,
      0.12153319269418716,
      0.07920367270708084,
      -0.010959526523947716,
      0.007405470125377178,
      -0.09277666360139847,
      0.028267815709114075,
      -0.054972730576992035,
      0.049639008939266205,
      0.035989485681056976,
      0.0021873703226447105,
      -0.12011265009641647,
      -0.0035235737450420856,
      -0.06974667310714722,
      -0.11301629990339279,
      0.06664656102657318,
      -0.03970622643828392,
      0.019666137173771858,
      -0.0629606768488884,
      0.02369409240782261,
      -0.09141670167446136,
      0.00789500679820776,
      -0.026770778000354767,
      -0.03025621734559536,
      0.01340312696993351,
      0.06636759638786316,
      0.012535789050161839,
      0.06071922183036804,
      0.02244023233652115,
      -0.019778665155172348,
      0.08286627382040024,
      0.03190673887729645,
      0.08331149816513062,
      0.027013123035430908,
      0.003642902709543705,
      -0.011575994081795216,
      0.011299481615424156,
      0.016427701339125633,
      0.08998827636241913,
      0.022058937698602676,
      0.0508400984108448,
      -0.005518132355064154,
      0.009715694934129715,
      -0.06946039944887161,
      -0.029096471145749092,
      0.00961136445403099,
      0.08113507181406021,
      0.07415523380041122,
      0.06133044511079788,
      0.0590674951672554,
      0.13398659229278564,
      -0.04104218631982803,
      0.05720098689198494,
      0.07936834543943405,
      -0.0780605673789978,
      0.010325873270630836,
      0.019238075241446495,
      -0.060365598648786545,
      0.006560855079442263,
      0.06865492463111877,
      4.6575069826296044e-33,
      0.047180645167827606,
      -0.057765718549489975,
      -0.06771501153707504,
      -0.05062965303659439,
      0.08815815299749374,
      0.062191881239414215,
      -0.07962709665298462,
      0.020986903458833694,
      0.0063243587501347065,
      0.045694056898355484,
      -0.06832391023635864,
      -0.012042085640132427,
      0.026505624875426292,
      -0.08786684274673462,
      0.029361587017774582,
      -0.029498998075723648,
      -0.02306930162012577,
      0.08166830241680145,
      0.051486510783433914,
      -0.014676449820399284,
      0.05794202536344528,
      -0.016802029684185982,
      -0.019430704414844513,
      0.010540940798819065,
      0.04706103727221489,
      0.046914033591747284,
      0.047516483813524246,
      -0.04889469966292381,
      -0.03709012642502785,
      -0.016348380595445633,
      -0.06622172147035599,
      -0.006252265069633722,
      -0.019954388961195946,
      8.017224172363058e-05,
      0.015760991722345352,
      0.012383515015244484,
      -0.015894098207354546,
      -0.05261099338531494,
      -0.08967731148004532,
      -0.03352110832929611,
      0.029502714052796364,
      0.015524161048233509,
      -0.0694788247346878,
      -0.055982258170843124,
      -0.04908449947834015,
      -0.0222058966755867,
      -0.030680077150464058,
      0.05011819675564766,
      -0.012599349953234196,
      0.0014827458653599024,
      -0.02074105106294155,
      -0.025191059336066246,
      0.04334281384944916,
      -0.04840271919965744,
      0.005591688212007284,
      -0.031537674367427826,
      0.02729209139943123,
      -0.019360842183232307,
      0.11174334585666656,
      -0.037603314965963364,
      0.10128789395093918,
      -0.056938979774713516,
      -0.005746164824813604,
      -0.04170893132686615,
      0.05686235800385475,
      0.013633553870022297,
      0.006427189335227013,
      0.041555292904376984,
      0.022799348458647728,
      -0.048352256417274475,
      -0.00047356943832710385,
      0.04850682616233826,
      0.0009360061958432198,
      -0.059139687567949295,
      0.03796962648630142,
      -0.06288265436887741,
      -0.05864233896136284,
      0.027710827067494392,
      0.0031937607564032078,
      0.013764097355306149,
      -0.004223670344799757,
      -0.07036282867193222,
      -0.06524922698736191,
      0.0007824538042768836,
      -0.016861064359545708,
      -0.01422459352761507,
      0.03578587993979454,
      -0.030984122306108475,
      -0.04775836691260338,
      0.07740224152803421,
      -0.07487015426158905,
      0.0615442655980587,
      -0.05973997339606285,
      -0.005550422705709934,
      0.04589800909161568,
      -4.7450188636284774e-33,
      0.022599397227168083,
      0.053599756211042404,
      0.047187674790620804,
      -0.09112859517335892,
      0.06475124508142471,
      -0.06531844288110733,
      0.0901351124048233,
      0.021139690652489662,
      0.060409065335989,
      -0.009523802436888218,
      -0.04487599432468414,
      -0.11915254592895508,
      0.0372411385178566,
      -0.04213397577404976,
      0.05445718392729759,
      0.020775338634848595,
      -0.024532737210392952,
      -0.029476193711161613,
      -0.11329050362110138,
      -0.0034060217440128326,
      -0.06623171269893646,
      0.0065609426237642765,
      -0.04039658233523369,
      0.044815171509981155,
      -0.0600372776389122,
      -0.02409622073173523,
      0.03955195099115372,
      -0.06698880344629288,
      -0.04256601259112358,
      -0.01835007593035698,
      -0.010993532836437225,
      0.02449772134423256,
      -0.05567067861557007,
      -0.0243776086717844,
      0.017120886594057083,
      -0.02629617601633072,
      0.0240127295255661,
      0.06345289200544357,
      -0.03836513310670853,
      -0.03749633952975273,
      0.09379840642213821,
      0.12495233118534088,
      -0.07888973504304886,
      0.03122580051422119,
      0.005945043172687292,
      0.029506875202059746,
      0.006899424362927675,
      0.10933169722557068,
      -0.041074249893426895,
      -0.00581651134416461,
      0.06328079849481583,
      -0.10808998346328735,
      0.07406502962112427,
      -0.0331793949007988,
      0.032285138964653015,
      -0.0011305403895676136,
      0.060954850167036057,
      -0.05909880995750427,
      -0.04346907138824463,
      -0.03367096185684204,
      0.0032917489297688007,
      0.033788662403821945,
      -0.0903480276465416,
      0.08890577405691147,
      0.04585673660039902,
      -0.043429650366306305,
      -0.058277230709791183,
      0.0677536353468895,
      0.02617141790688038,
      0.00019620494276750833,
      -0.017942585051059723,
      0.05014549568295479,
      0.0033335359767079353,
      0.051648255437612534,
      0.12084738910198212,
      0.045040108263492584,
      -0.054141487926244736,
      -0.007418118417263031,
      -0.058281999081373215,
      0.060344647616147995,
      0.015312946401536465,
      0.008440021425485611,
      0.02074841782450676,
      -0.06155705451965332,
      -0.040153637528419495,
      -0.05126480758190155,
      -0.04254406318068504,
      0.0380641408264637,
      -0.04438631609082222,
      -0.013352392241358757,
      0.022958679124712944,
      -0.05494898185133934,
      -0.004468337632715702,
      0.004112123977392912,
      -0.025552187114953995,
      -4.3238394198397145e-08,
      -0.05461977422237396,
      0.015116583555936813,
      0.006941526662558317,
      0.0323033481836319,
      0.08341523259878159,
      0.009144853800535202,
      0.03615535423159599,
      0.11781302094459534,
      0.014485245570540428,
      -0.025389989838004112,
      0.0006612422876060009,
      -0.011402461677789688,
      -0.10545271635055542,
      0.024684445932507515,
      -0.01656273752450943,
      -0.12345516681671143,
      -0.030940033495426178,
      0.0427754670381546,
      -0.02029089815914631,
      0.05423516780138016,
      -0.00039783320971764624,
      0.006292300298810005,
      -0.018031399697065353,
      0.03159862756729126,
      0.03547864779829979,
      -0.02477598376572132,
      0.06669756770133972,
      0.05966271087527275,
      -0.04181204363703728,
      -0.0230468288064003,
      0.00866421777755022,
      -0.008445743471384048,
      0.0303321685642004,
      0.013230687938630581,
      0.006792884320020676,
      0.010522386059165001,
      -0.004253814462572336,
      0.04544813930988312,
      -0.06899461150169373,
      0.09004534035921097,
      -0.06297317147254944,
      0.08948315680027008,
      -0.005515391938388348,
      -0.01527500618249178,
      0.03372150659561157,
      -0.10294078290462494,
      -0.03781897947192192,
      -0.07262784987688065,
      0.014555280096828938,
      0.002732778899371624,
      -0.08196981251239777,
      -0.040227774530649185,
      -0.024785326793789864,
      0.0677080750465393,
      -0.01741955615580082,
      0.02612394653260708,
      0.07726557552814484,
      -0.005662145093083382,
      -0.05555790662765503,
      -0.04538922384381294,
      0.13278760015964508,
      0.008816666901111603,
      0.06503374129533768,
      -0.0502474419772625
    ]
  },
  {
    "id": "upload.py_upload_audio",
    "filename": "upload.py",
    "function_name": "upload_audio",
    "text": "## Function: upload_audio (upload.py)\n\n```python\n@router.post(\"/\")\ndef upload_audio(\n    file: UploadFile = File(...),\n    ref_file: Optional[UploadFile] = File(None),\n    session_id: str = Form(...),\n    session_name: Optional[str] = Form(default=\"Untitled Session\"),\n    track_name: Optional[str] = Form(default=None),\n    type: str = Form(...),\n    genre: str = Form(...),\n    subgenre: Optional[str] = Form(default=None),\n    feedback_profile: str = Form(...),\n):\n    # Normalize inputs\n    session_id = normalize_session_name(session_id)\n    session_name = normalize_session_name(session_name)\n    type = type.strip().lower()\n    genre = normalize_genre(genre)\n    subgenre = normalize_subgenre(subgenre) if subgenre else \"\"\n    feedback_profile = normalize_profile(feedback_profile)\n    group_id = str(uuid.uuid4())\n\n    try:\n        print(\"Incoming upload:\", {\n            \"session_id\": session_id,\n            \"track_name\": track_name,\n            \"type\": type,\n            \"genre\": genre,\n            \"subgenre\": subgenre,\n            \"feedback_profile\": feedback_profile\n        })\n\n        # Save original track\n        ext = os.path.splitext(file.filename)[1]\n        timestamped_name = f\"{int(time.time())}_{file.filename}\"\n        file_location = os.path.join(UPLOAD_FOLDER, timestamped_name)\n        with open(file_location, \"wb\") as buffer:\n            shutil.copyfileobj(file.file, buffer)\n\n        # Save reference track if uploaded\n        ref_file_location = None\n        ref_analysis = None\n        ref_timestamped_name = None\n\n        if ref_file and ref_file.filename:\n            ref_ext = os.path.splitext(ref_file.filename)[1]\n            ref_timestamped_name = f\"{int(time.time())}_ref_{ref_file.filename}\"\n            ref_file_location = os.path.join(UPLOAD_FOLDER, ref_timestamped_name)\n            with open(ref_file_location, \"wb\") as buffer:\n                shutil.copyfileobj(ref_file.file, buffer)\n\n            ref_analysis = analyze_audio(ref_file_location, genre=genre)\n        else:\n            ref_file_location = None\n            ref_analysis = None\n\n        print(\"Passing ref_analysis to prompt:\", ref_analysis is not None)\n\n            # Optional: delete reference file after analysis if you don't want to keep it on disk\n            # os.remove(ref_file_location)\n\n        BASE_DIR = Path(__file__).resolve().parents[3]\n        rms_filename = f\"{timestamped_name}_rms.json\"\n        rms_output_path = BASE_DIR / \"frontend-html\" / \"static\" / \"analysis\" / rms_filename\n        compute_rms_chunks(file_location, json_output_path=str(rms_output_path))\n        print(\"✅ RMS saved to:\", rms_output_path)\n\n        # Analyze original track\n        analysis = analyze_audio(file_location, genre=genre)\n\n        # Database operations\n        db = SessionLocal()\n\n        # Cleanup old main track files for the same session before saving new upload\n        old_tracks = db.query(Track).filter(Track.session_id == session_id).all()\n        for old_track in old_tracks:\n            # Delete audio file\n            try:\n                if old_track.file_path and os.path.exists(old_track.file_path):\n                    os.remove(old_track.file_path)\n                    print(f\"Deleted old main track file: {old_track.file_path}\")\n            except Exception as e:\n                print(f\"Error deleting old main track file {old_track.file_path}: {e}\")\n\n        existing_session = db.query(UserSession).filter(UserSession.id == session_id).first()\n        if not existing_session:\n            new_session = UserSession(id=session_id, user_id=1, session_name=session_name)\n            db.add(new_session)\n            db.commit()\n\n        filename_without_ext = os.path.splitext(file.filename)[0]\n        safe_name = safe_track_name(filename_without_ext, file.filename)\n        track_name = track_name or safe_name\n\n        track = Track(\n            session_id=session_id,\n            track_name=track_name,\n            file_path=file_location,\n            type=type.lower(),\n            upload_group_id = group_id\n        )\n        db.add(track)\n        db.commit()\n        db.refresh(track)\n\n        result = AnalysisResult(track_id=track.id, **analysis)\n        db.add(result)\n        db.commit()\n\n        print(\"Analysis data for main track:\", analysis)\n        if ref_file_location:\n            # Analyze reference track first\n            ref_analysis = analyze_audio(ref_file_location, genre=genre)\n            print(\"Reference track analysis data:\", ref_analysis)\n\n            # Create the reference track in DB with same upload_group_id\n            ref_track_name = f\"{track_name} (Reference)\"\n            ref_track = Track(\n                session_id=session_id,\n                track_name=ref_track_name,\n                file_path=ref_file_location,\n                type=\"reference\",\n                upload_group_id=group_id  # assign the same group id here!\n            )\n            db.add(ref_track)\n            db.commit()\n            db.refresh(ref_track)\n\n            # Save analysis result for reference track\n            ref_result = AnalysisResult(track_id=ref_track.id, **ref_analysis)\n            db.add(ref_result)\n            db.commit()\n        else:\n            ref_analysis = None\n\n        print(\"Passing ref_analysis to prompt:\", ref_analysis is not None)\n\n        # Generate GPT feedback with both original and ref analysis\n        prompt = generate_feedback_prompt(\n            genre=genre,\n            subgenre=subgenre,\n            type=type,\n            analysis_data=analysis,\n            feedback_profile=feedback_profile,\n            ref_analysis_data=ref_analysis  # pass ref analysis here\n        )\n\n        feedback = generate_feedback_response(prompt)\n\n        chat = ChatMessage(\n            session_id=session_id,\n            track_id=track.id,\n            sender=\"assistant\",\n            message=feedback,\n            feedback_profile=feedback_profile\n        )\n        db.add(chat)\n        db.commit()\n        db.close()\n\n        return {\n            \"track_name\": track_name,\n            \"genre\": genre,\n            \"subgenre\": subgenre,\n            \"type\": type,\n            \"analysis\": analysis,\n            \"ref_analysis\": ref_analysis,  # included in response\n            \"feedback\": feedback,\n            \"track_path\": f\"/uploads/{timestamped_name}\",\n            \"ref_track_path\": f\"/uploads/{ref_timestamped_name}\" if ref_timestamped_name else None,\n            \"rms_path\": f\"/static/analysis/{rms_filename}\"\n        }\n\n\n    except Exception as e:\n        import traceback\n        traceback.print_exc()  # prints full stack trace in console\n        print(\"UPLOAD ERROR:\", e)\n        return JSONResponse(status_code=500, content={\"detail\": str(e)})\n```\n",
    "embedding": [
      -0.012077653780579567,
      0.0075053079053759575,
      0.009461299516260624,
      -0.014914554543793201,
      0.03729039430618286,
      0.0430154874920845,
      -0.0031012834515422583,
      0.002650212962180376,
      -0.061145029962062836,
      -0.06465038657188416,
      -0.05627402663230896,
      -0.04355155676603317,
      -0.01056109182536602,
      0.017471084371209145,
      0.015869826078414917,
      -0.0007103574462234974,
      -0.051181625574827194,
      0.0068819886073470116,
      -0.03419961407780647,
      -0.09383893013000488,
      0.06358062475919724,
      0.0793641209602356,
      0.11152586340904236,
      0.033028118312358856,
      0.007332463748753071,
      -0.03988708555698395,
      0.011225990019738674,
      0.05105631425976753,
      0.014763809740543365,
      -0.019998706877231598,
      0.0671534612774849,
      0.09754125773906708,
      0.010470714420080185,
      -0.04833492264151573,
      0.05185695365071297,
      -0.023793643340468407,
      -0.06970211863517761,
      -0.03678292781114578,
      0.052657097578048706,
      -0.03941219672560692,
      -0.022851357236504555,
      -0.03960787504911423,
      -0.005150259006768465,
      -0.004132166504859924,
      -0.12387079000473022,
      -0.03547822684049606,
      -0.1113937646150589,
      -0.0235646553337574,
      0.0014778213808313012,
      0.0038079628720879555,
      -0.006140617188066244,
      -0.020778728649020195,
      -0.033722586929798126,
      0.05690306797623634,
      -0.05837986618280411,
      -0.021391568705439568,
      -0.008294384926557541,
      0.031014183536171913,
      0.051432766020298004,
      -0.06096040457487106,
      -0.08538496494293213,
      -0.08702168613672256,
      0.022960711270570755,
      -0.07042943686246872,
      -0.005029154475778341,
      -0.004235402215272188,
      -0.028345083817839622,
      0.0233053807169199,
      -0.00806981511414051,
      0.07207468152046204,
      -0.07369289547204971,
      0.04079360514879227,
      -0.02115083672106266,
      0.04685111343860626,
      0.021642059087753296,
      -0.07897727936506271,
      0.01272375788539648,
      0.047097526490688324,
      -0.10294730216264725,
      -0.02149433270096779,
      0.05076311156153679,
      -0.040413957089185715,
      -0.00022090970014687628,
      -0.05047687515616417,
      0.06021057814359665,
      -0.08310367912054062,
      0.016152167692780495,
      -0.06955885887145996,
      -0.01702556572854519,
      -0.05470515042543411,
      -0.1689079999923706,
      0.01509172935038805,
      0.006546740885823965,
      -0.018927250057458878,
      -0.012515037320554256,
      0.044542163610458374,
      -0.02069537155330181,
      0.04449205473065376,
      0.09757721424102783,
      0.07812976837158203,
      0.03543699160218239,
      -0.07012081891298294,
      -0.028301047161221504,
      0.030417311936616898,
      0.05657840147614479,
      -0.03239322081208229,
      0.044726841151714325,
      0.04458918794989586,
      0.049169108271598816,
      -0.023236773908138275,
      -0.08545053005218506,
      -0.014333629049360752,
      0.004618413280695677,
      0.02608592063188553,
      0.10682333260774612,
      0.07699038088321686,
      0.03073527105152607,
      0.09803295135498047,
      -0.01854468137025833,
      0.05235195532441139,
      0.08667066693305969,
      -0.037194132804870605,
      -0.02438063733279705,
      0.042230598628520966,
      -0.004443766083568335,
      -0.08901733160018921,
      0.05677781626582146,
      4.555461216008768e-33,
      0.03392169252038002,
      -0.026651768013834953,
      -0.001282248180359602,
      0.03843056410551071,
      0.01970566064119339,
      -0.0046380748972296715,
      -0.03817856311798096,
      0.028018271550536156,
      -0.0030379705131053925,
      0.0011879961239174008,
      -0.0910211056470871,
      -0.006680795457214117,
      -0.015252036042511463,
      -0.005471791606396437,
      -0.047246359288692474,
      -0.030660903081297874,
      -0.10796461999416351,
      0.09312204271554947,
      0.03786507993936539,
      -0.018868936225771904,
      -0.00712761702015996,
      0.014265614561736584,
      -0.0014142781728878617,
      0.03656276315450668,
      0.004267870914191008,
      -0.008082498796284199,
      0.017897697165608406,
      -0.047661177814006805,
      0.021153872832655907,
      -0.04377254843711853,
      -0.02640542946755886,
      -0.07614102959632874,
      0.06875564903020859,
      -0.0321042537689209,
      0.01758173480629921,
      0.021834149956703186,
      -0.007639281451702118,
      0.04092031344771385,
      -0.015053502283990383,
      -0.05810558423399925,
      0.014513923786580563,
      0.011852646246552467,
      -0.05048731341958046,
      -0.03739594668149948,
      -0.0775555893778801,
      -0.003924146760255098,
      -0.032209280878305435,
      0.0859048143029213,
      -0.0690920501947403,
      0.027508385479450226,
      0.012462935410439968,
      0.014704929664731026,
      0.029009833931922913,
      0.003501664847135544,
      -0.05979576334357262,
      -0.014251120388507843,
      0.016573060303926468,
      0.039295170456171036,
      0.015140141360461712,
      -0.12103502452373505,
      0.12684358656406403,
      0.003776273690164089,
      0.005473927594721317,
      -0.08804185688495636,
      -0.022455360740423203,
      0.04361608624458313,
      0.05902737006545067,
      0.04077496752142906,
      0.09261114150285721,
      -0.04047275707125664,
      -0.10096763074398041,
      0.043825626373291016,
      -0.049560897052288055,
      -0.0033225847873836756,
      0.007110975217074156,
      -0.05012922361493111,
      -0.026901209726929665,
      -0.014033216051757336,
      -0.06306233257055283,
      0.042977266013622284,
      -0.06977146118879318,
      0.0538845919072628,
      -0.0896819531917572,
      -0.004215894266963005,
      -0.022846028208732605,
      -0.01924244500696659,
      0.04981626197695732,
      -0.10408000648021698,
      -0.038992200046777725,
      -0.011546716094017029,
      -0.11035715788602829,
      0.023189369589090347,
      -0.01778411492705345,
      -0.022160975262522697,
      0.09364630281925201,
      -4.806416035597879e-33,
      0.06191645562648773,
      0.061790451407432556,
      -0.007909713312983513,
      0.00218593911267817,
      0.05129663273692131,
      0.016888592392206192,
      0.1545722335577011,
      0.06165793165564537,
      0.045704085379838943,
      9.642718941904604e-05,
      0.002491987543180585,
      -0.0839025005698204,
      0.05763113871216774,
      -0.1277996152639389,
      -0.029497185721993446,
      -0.034615810960531235,
      -0.13223227858543396,
      0.12083395570516586,
      -0.0016557470662519336,
      0.07300685346126556,
      -0.03214222937822342,
      0.09020254760980606,
      -0.000848031195346266,
      0.05480135232210159,
      -0.005399532150477171,
      0.04217541217803955,
      -0.009475119411945343,
      0.03609063848853111,
      0.045509546995162964,
      0.034686822444200516,
      -0.0012806708691641688,
      0.020763659849762917,
      -0.09327749907970428,
      -0.035461027175188065,
      0.014408196322619915,
      -0.021987728774547577,
      0.035267554223537445,
      0.07738938182592392,
      -0.0362548790872097,
      0.0194773618131876,
      0.0538688562810421,
      0.07835143804550171,
      -0.018746016547083855,
      0.003852753434330225,
      0.017609497532248497,
      -0.03571652993559837,
      0.03459252417087555,
      0.06266836076974869,
      -0.09332035481929779,
      -0.004879733081907034,
      0.009421071968972683,
      -0.06894011795520782,
      -0.014439764432609081,
      -0.012853573076426983,
      0.037063077092170715,
      -0.0034211406018584967,
      -0.0005567172775045037,
      -0.08453432470560074,
      -0.024100618436932564,
      0.00251780659891665,
      -0.004802048671990633,
      0.01878291182219982,
      -0.07565099745988846,
      -0.05615606531500816,
      0.026603877544403076,
      -0.04297024756669998,
      0.0004380323807708919,
      0.006185195408761501,
      0.025175150483846664,
      0.07491181045770645,
      -0.03141111880540848,
      0.020496293902397156,
      0.07850893586874008,
      0.05899007245898247,
      0.0693196952342987,
      0.05856458097696304,
      -0.04185270518064499,
      -0.06158093363046646,
      -0.08155655860900879,
      -0.004760873969644308,
      -0.10893646627664566,
      0.004336342215538025,
      -2.4877363102859817e-05,
      0.01106038223952055,
      -0.0113458801060915,
      0.11591280996799469,
      0.041386500000953674,
      0.07176398485898972,
      -0.0244655292481184,
      -0.026085179299116135,
      0.024270156398415565,
      0.043289914727211,
      0.07997681945562363,
      0.050231900066137314,
      -0.03613173961639404,
      -5.322297624843486e-08,
      -0.01362607441842556,
      -0.016307104378938675,
      -0.0025718887336552143,
      0.05438444763422012,
      0.004871746990829706,
      0.015336318872869015,
      -0.028641609475016594,
      -0.08370505273342133,
      0.09192970395088196,
      -0.06153353676199913,
      0.028472432866692543,
      -0.0274261012673378,
      0.029924629256129265,
      0.02964811772108078,
      -0.09160226583480835,
      -0.008211233653128147,
      0.003317637834697962,
      0.16415205597877502,
      -0.05570615828037262,
      -0.022789672017097473,
      0.02969343587756157,
      -0.0106123685836792,
      -0.03083917684853077,
      -0.020780589431524277,
      0.08002715557813644,
      -0.005302618723362684,
      0.01859883777797222,
      0.002385992556810379,
      -0.029091881588101387,
      -0.04883447289466858,
      0.01540561206638813,
      0.04643481597304344,
      0.0073560732416808605,
      0.02530520036816597,
      -0.030827607959508896,
      0.045192375779151917,
      0.021069558337330818,
      0.05708872526884079,
      -0.07122928649187088,
      0.058198634535074234,
      -0.03126407042145729,
      0.06407538056373596,
      -0.04324646294116974,
      -0.035971641540527344,
      0.0326487198472023,
      0.01733519695699215,
      0.0074854446575045586,
      0.013322780840098858,
      0.006267461460083723,
      0.05644602328538895,
      -0.04849877208471298,
      0.009013761766254902,
      0.02474167011678219,
      0.024435173720121384,
      0.05584806203842163,
      0.02732107974588871,
      -0.02165231481194496,
      0.10442587733268738,
      -0.04508321359753609,
      -0.06997168064117432,
      0.003099954454228282,
      0.03895385563373566,
      0.011782252229750156,
      -0.04725811630487442
    ]
  },
  {
    "id": "export.py_get_db",
    "filename": "export.py",
    "function_name": "get_db",
    "text": "## Function: get_db (export.py)\n\n```python\ndef get_db():\n    db = SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n```\n",
    "embedding": [
      0.0019644855055958033,
      0.04832081496715546,
      -0.06801335513591766,
      0.08228306472301483,
      0.03843000531196594,
      -0.04046846926212311,
      0.05153612419962883,
      0.05830196291208267,
      -0.0007825186476111412,
      0.004472813569009304,
      -0.038380805402994156,
      -0.018292658030986786,
      -0.02942846342921257,
      -0.042946282774209976,
      0.05196654796600342,
      0.011597109027206898,
      -0.06396559625864029,
      -0.03352097049355507,
      0.04169173911213875,
      0.04493985325098038,
      0.03466862067580223,
      0.1331787407398224,
      0.04635937511920929,
      0.07589592784643173,
      0.027471300214529037,
      -0.1058356985449791,
      -0.01458131242543459,
      0.032165780663490295,
      -0.033089615404605865,
      0.003454892197623849,
      -0.022989192977547646,
      0.06427565962076187,
      -0.10521917790174484,
      0.010221179574728012,
      0.11148308962583542,
      0.07850749790668488,
      -0.011790873482823372,
      -0.03464237600564957,
      0.11021304875612259,
      -0.06369953602552414,
      0.01404966227710247,
      -0.029439399018883705,
      -0.08986009657382965,
      0.028880801051855087,
      0.005242268089205027,
      0.011868916451931,
      -0.07782793045043945,
      0.04494993016123772,
      0.03583439812064171,
      -0.0027444635052233934,
      -0.014643254689872265,
      0.061058271676301956,
      -0.051308874040842056,
      -0.046911370009183884,
      0.06797746568918228,
      0.06504500657320023,
      0.05626542121171951,
      0.0178119707852602,
      -0.0455816276371479,
      0.10851307958364487,
      -0.0704687088727951,
      -0.017906680703163147,
      -0.02953820675611496,
      0.022039612755179405,
      -0.05807473883032799,
      -0.036767613142728806,
      -0.04926987737417221,
      -0.00525383185595274,
      0.05539039522409439,
      -0.04050147533416748,
      -0.08048868179321289,
      -0.03281889483332634,
      -0.09276624023914337,
      -0.06552673876285553,
      -0.011515515856444836,
      -0.11613425612449646,
      0.017675837501883507,
      -0.04259048402309418,
      -0.07941311597824097,
      0.04626892879605293,
      -0.09923055022954941,
      -0.056796539574861526,
      -0.011951708234846592,
      -0.0011255863355472684,
      0.01050709467381239,
      -0.04824107512831688,
      0.0265662781894207,
      0.028013961389660835,
      0.026515215635299683,
      0.021974822506308556,
      -0.07648690044879913,
      -0.003057439811527729,
      -0.04483005404472351,
      0.07724739611148834,
      -0.12224617600440979,
      0.029492253437638283,
      0.053181156516075134,
      -0.006611471530050039,
      0.06299468874931335,
      0.0426812469959259,
      0.0010053551523014903,
      0.060139793902635574,
      0.02997935563325882,
      -0.04126818850636482,
      0.036840006709098816,
      0.007693021092563868,
      0.006395403295755386,
      -0.09143643826246262,
      -0.025198915973305702,
      -0.01821378618478775,
      -0.011206463910639286,
      0.07466638833284378,
      -0.032491471618413925,
      0.0012071261880919337,
      0.029093869030475616,
      0.055105168372392654,
      -0.040773022919893265,
      -0.023669015616178513,
      -0.02945408970117569,
      0.031139615923166275,
      0.13226138055324554,
      0.03080965392291546,
      0.022410010918974876,
      0.05807745084166527,
      -0.02762962318956852,
      0.033389557152986526,
      0.09603370726108551,
      -8.399189989953411e-34,
      -0.011787419207394123,
      -0.15820752084255219,
      0.08129902184009552,
      0.01620640605688095,
      0.025919213891029358,
      0.11280819028615952,
      0.009662456810474396,
      -0.008331207558512688,
      -0.02700204961001873,
      0.07415954768657684,
      -0.11519310623407364,
      0.019387343898415565,
      -0.006206031888723373,
      -0.011683937162160873,
      0.0007026881794445217,
      0.04603731632232666,
      -0.013593131676316261,
      0.009840489365160465,
      0.050043486058712006,
      0.08852767944335938,
      0.07284393161535263,
      -0.027469471096992493,
      -0.0076991841197013855,
      0.036439068615436554,
      0.04926184192299843,
      0.028400525450706482,
      -0.032837122678756714,
      0.01245825458317995,
      -0.04118037968873978,
      0.01948973909020424,
      -0.08082044124603271,
      -0.06828833371400833,
      0.04443563148379326,
      -0.01964397542178631,
      -0.017668193206191063,
      -0.027111569419503212,
      -0.019234005361795425,
      0.0005643457407131791,
      -0.0925285816192627,
      -0.0545189306139946,
      -0.021117297932505608,
      0.04428564012050629,
      -0.0646706372499466,
      0.015539436601102352,
      -0.049143411219120026,
      0.02326026000082493,
      -0.010821152478456497,
      0.02897733449935913,
      0.018147174268960953,
      -0.0061066411435604095,
      -0.08724767714738846,
      -0.018964041024446487,
      0.012799001298844814,
      0.020910631865262985,
      0.0037105700466781855,
      -0.021145734935998917,
      0.04317750409245491,
      0.02547631785273552,
      0.04794025048613548,
      -0.09331000596284866,
      0.02737894095480442,
      -0.02404610998928547,
      0.0010415760334581137,
      -0.06658859550952911,
      -0.011368288658559322,
      0.030118685215711594,
      -0.0007046749233268201,
      0.07247737050056458,
      0.024059755727648735,
      -0.029405536130070686,
      -0.03601299226284027,
      0.03713895380496979,
      0.009166950359940529,
      -0.10018991678953171,
      0.08229371905326843,
      0.01847216486930847,
      -0.04384138435125351,
      -0.03681248798966408,
      0.005064960569143295,
      0.03111809678375721,
      0.11399241536855698,
      -0.008117180317640305,
      -0.09392037987709045,
      -0.017552398145198822,
      0.020561540499329567,
      0.004572745878249407,
      -0.008847127668559551,
      0.012899789959192276,
      -0.005912488326430321,
      -0.0042273737490177155,
      -0.1155976876616478,
      -0.05136804282665253,
      0.03446502611041069,
      -0.06865472346544266,
      -0.059325993061065674,
      -2.651742788393296e-33,
      0.10450951755046844,
      -0.04622324928641319,
      0.0006059355800971389,
      -0.041539352387189865,
      0.05159904435276985,
      -0.032623980194330215,
      0.04290878027677536,
      0.00603128457441926,
      -0.08426295965909958,
      -0.03544161841273308,
      -0.018701961264014244,
      -0.01259174570441246,
      0.07586996257305145,
      0.015080668963491917,
      0.0008739086915738881,
      0.09741406887769699,
      -0.016124846413731575,
      0.03635699301958084,
      -0.031447336077690125,
      0.030696410685777664,
      -0.059893347322940826,
      -0.0010253196815028787,
      0.030382094904780388,
      -0.014338777400553226,
      -0.04528433084487915,
      -0.043482765555381775,
      -0.010093927383422852,
      -0.07361707091331482,
      -0.016117041930556297,
      0.015176501125097275,
      -0.029478363692760468,
      0.029288602992892265,
      -0.041446465998888016,
      0.08574147522449493,
      -0.034451257437467575,
      0.02065935917198658,
      -0.02317889966070652,
      -0.006344590336084366,
      0.03826785832643509,
      0.09381473064422607,
      0.08009537309408188,
      0.07284633815288544,
      -0.07724329829216003,
      -0.0383872352540493,
      -0.016284337267279625,
      0.044076692312955856,
      -0.04680380970239639,
      0.03671591356396675,
      -0.06074913591146469,
      -0.04606545716524124,
      0.05921885371208191,
      -0.058669641613960266,
      -0.01275511085987091,
      -0.06262214481830597,
      -0.0004543334653135389,
      -0.05359867960214615,
      0.016495484858751297,
      -0.021404249593615532,
      -0.04155636951327324,
      -0.029309602454304695,
      -0.029593875631690025,
      -0.010888810269534588,
      -0.030421853065490723,
      -0.002489004982635379,
      -0.07694637775421143,
      -0.025602540001273155,
      -0.06275384873151779,
      0.10486438870429993,
      0.017276110127568245,
      0.00022751437791157514,
      -0.0021877919789403677,
      0.00940391793847084,
      0.03222951665520668,
      0.10808052122592926,
      0.0016847477527335286,
      0.11796549707651138,
      -0.11594091355800629,
      -0.08399328589439392,
      0.021189948543906212,
      0.10420545935630798,
      0.03506818413734436,
      -0.0034335805103182793,
      0.02754088304936886,
      -0.012947496958076954,
      -0.007686876691877842,
      -0.12362704426050186,
      -0.020958509296178818,
      0.0214261282235384,
      0.00042427369044162333,
      -0.03321041166782379,
      -0.07096771895885468,
      0.019362496212124825,
      -0.03860710561275482,
      0.027754468843340874,
      0.0444910041987896,
      -2.768441120792886e-08,
      -0.03655382990837097,
      -0.042130179703235626,
      0.10600157827138901,
      -0.04275433346629143,
      0.04762759804725647,
      -0.009913505055010319,
      0.030775010585784912,
      0.0645577609539032,
      0.0258682519197464,
      0.02532997913658619,
      0.02940192073583603,
      -0.024379227310419083,
      0.02325326018035412,
      0.06147569417953491,
      -0.05688042193651199,
      0.03705770522356033,
      0.10084229707717896,
      0.052376680076122284,
      0.014248986728489399,
      -0.057575102895498276,
      -0.04551434889435768,
      -0.009740068577229977,
      0.027398061007261276,
      -0.029040616005659103,
      0.022875821217894554,
      -0.013673239387571812,
      -0.04286694899201393,
      0.03960883617401123,
      -0.014519442804157734,
      -0.11225887387990952,
      0.023171544075012207,
      0.000719603500328958,
      -0.04175766557455063,
      0.03283135965466499,
      -0.0335865281522274,
      0.07349729537963867,
      0.03143883869051933,
      0.011501115746796131,
      0.010629747994244099,
      0.08073447644710541,
      -0.10089510679244995,
      -0.06907600909471512,
      -0.011054573580622673,
      0.012423641979694366,
      -0.0516069233417511,
      -0.013994886539876461,
      -0.03513471782207489,
      0.07840688526630402,
      0.02752489596605301,
      0.0170055590569973,
      0.04370559751987457,
      -0.07789071649312973,
      -0.036734629422426224,
      0.0012032910017296672,
      7.377052952506347e-06,
      0.021689720451831818,
      -0.0516609251499176,
      -0.00166756147518754,
      -0.02300892025232315,
      -0.0816333219408989,
      -0.05949204042553902,
      0.0441073514521122,
      0.04557979106903076,
      -0.014561082236468792
    ]
  },
  {
    "id": "export.py_get_feedback_text",
    "filename": "export.py",
    "function_name": "get_feedback_text",
    "text": "## Function: get_feedback_text (export.py)\n\n```python\ndef get_feedback_text(session_id: str, track_id: str, db: Session) -> str:\n    messages = (\n        db.query(ChatMessage)\n        .filter_by(session_id=session_id, track_id=track_id, sender='assistant')\n        .order_by(ChatMessage.timestamp)\n        .all()\n    )\n    return \"\\n\\n\".join(msg.message for msg in messages)\n```\n",
    "embedding": [
      -0.009892119094729424,
      0.08672650903463364,
      0.03158426657319069,
      0.08340205252170563,
      0.028955843299627304,
      -0.0005659023299813271,
      0.10484249144792557,
      0.023922020569443703,
      0.05002439394593239,
      -0.0633261501789093,
      0.004888997878879309,
      -0.00925108976662159,
      -0.009455792605876923,
      -0.026339411735534668,
      -0.0031306210439652205,
      0.06330441683530807,
      0.019108228385448456,
      -0.06456778943538666,
      -0.006931922398507595,
      -0.09662245959043503,
      0.05370238795876503,
      0.16042110323905945,
      0.09201358258724213,
      0.0958169549703598,
      0.023652778938412666,
      -0.0414237342774868,
      -0.06583958864212036,
      0.05910000205039978,
      -0.017608709633350372,
      -0.02830798551440239,
      -0.0411362387239933,
      -0.00959295779466629,
      0.021407589316368103,
      0.08891399204730988,
      0.03538777679204941,
      0.021437514573335648,
      0.0022362242452800274,
      -0.037242259830236435,
      0.11602774262428284,
      -0.007993744686245918,
      -0.04217218980193138,
      -0.015209025703370571,
      0.01309848390519619,
      -0.04407181963324547,
      0.010176560841500759,
      -0.01947166956961155,
      -0.07089368253946304,
      0.026995858177542686,
      0.031565722078084946,
      0.047599341720342636,
      -0.042243197560310364,
      0.030836613848805428,
      -0.02113267034292221,
      0.05502999201416969,
      0.03805502504110336,
      0.09450212121009827,
      -0.02635171450674534,
      -0.024477070197463036,
      -0.014742221683263779,
      -0.013416261412203312,
      -0.03866926580667496,
      -0.06823541969060898,
      0.03673183545470238,
      -0.03172966092824936,
      -0.0671004056930542,
      -0.04413347691297531,
      -0.07015851885080338,
      0.05931517481803894,
      -0.023020006716251373,
      0.030764011666178703,
      -0.0540410540997982,
      -0.02113351598381996,
      -0.04440724104642868,
      0.015195409767329693,
      -0.026738055050373077,
      -0.03763420879840851,
      -0.07985534518957138,
      0.0013045549858361483,
      -0.07433514297008514,
      0.02022007666528225,
      -0.08855559676885605,
      -0.07348989695310593,
      0.01517179049551487,
      0.029087020084261894,
      0.060013387352228165,
      -0.09459438920021057,
      0.014984049834311008,
      0.03248685970902443,
      0.0251692533493042,
      0.006070898380130529,
      -0.058536604046821594,
      -0.04945353791117668,
      0.02846352569758892,
      0.07994940131902695,
      -0.12544041872024536,
      0.04989871755242348,
      -0.007447999436408281,
      0.029318924993276596,
      0.024152548983693123,
      0.08339939266443253,
      -0.0025601941160857677,
      0.02131767012178898,
      0.015047029592096806,
      -0.046620022505521774,
      -0.018490931019186974,
      0.04550255462527275,
      0.030462713912129402,
      -0.02546033076941967,
      -0.008852616883814335,
      -0.05636055767536163,
      -0.08076050132513046,
      0.03770103678107262,
      -0.009684203192591667,
      0.015836602076888084,
      0.07836085557937622,
      0.0023627334740012884,
      -0.01994512788951397,
      0.03389079496264458,
      0.03216848522424698,
      0.010017948225140572,
      0.14154142141342163,
      -0.0376921147108078,
      -0.038694996386766434,
      0.039926543831825256,
      -0.01808210462331772,
      0.08832556754350662,
      0.1358276903629303,
      3.607794200765148e-33,
      0.04097935929894447,
      -0.020101625472307205,
      0.05909264087677002,
      0.0006754687055945396,
      0.03933531790971756,
      0.10289552062749863,
      -0.040660642087459564,
      -0.040557898581027985,
      -0.0020552531350404024,
      -0.024244334548711777,
      -0.09140168875455856,
      -0.007698950357735157,
      0.03763112798333168,
      -0.03718336299061775,
      -0.06307917088270187,
      -0.03738498315215111,
      -0.031061634421348572,
      0.05046238750219345,
      0.0829598605632782,
      0.04819526895880699,
      -0.005795512348413467,
      -0.0057427529245615005,
      -0.010614398866891861,
      0.0360952690243721,
      0.06444816291332245,
      0.0361480675637722,
      -0.0061334469355642796,
      -0.03105921670794487,
      -0.03590750694274902,
      -0.009217256680130959,
      -0.0885949581861496,
      -0.0293622687458992,
      0.05498161539435387,
      -0.018414832651615143,
      0.014410201460123062,
      0.02170960046350956,
      -0.01268925704061985,
      -0.04379459097981453,
      -0.033989910036325455,
      -0.01640109345316887,
      -0.0024040956050157547,
      0.009479387663304806,
      -0.048123400658369064,
      -0.0689588412642479,
      -0.08758401870727539,
      0.016239125281572342,
      -0.08413893729448318,
      0.04664970934391022,
      0.003017550567165017,
      0.013380605727434158,
      -0.05974902585148811,
      -0.013035805895924568,
      0.009638317860662937,
      0.015178794041275978,
      0.015578901395201683,
      -0.07885673642158508,
      0.03239045292139053,
      0.042714666575193405,
      0.015459270216524601,
      -0.058154258877038956,
      0.04047572240233421,
      0.0032774177379906178,
      0.04538179188966751,
      -0.08362129330635071,
      0.061203114688396454,
      -0.0012589574325829744,
      0.022130440920591354,
      0.02801058068871498,
      0.025187330320477486,
      -0.05118480324745178,
      -0.03811441361904144,
      0.05121730640530586,
      -0.005328219849616289,
      0.014446306973695755,
      0.03754475712776184,
      -0.0650019720196724,
      -0.06680786609649658,
      -0.03279881924390793,
      0.022870518267154694,
      0.013095110654830933,
      -0.0024249963462352753,
      -0.09707357734441757,
      -0.05849577486515045,
      -0.004526759497821331,
      0.016496114432811737,
      0.028709236532449722,
      0.06952454894781113,
      -0.02195737324655056,
      0.017411846667528152,
      0.052123378962278366,
      -0.17374666035175323,
      0.0002714140573516488,
      0.022509373724460602,
      0.025999967008829117,
      0.0068222288973629475,
      -4.246798072659928e-33,
      0.04425673559308052,
      0.01787109486758709,
      -0.00992958340793848,
      -0.03282809257507324,
      0.06548450887203217,
      -0.014186873100697994,
      0.046168047934770584,
      0.007102971896529198,
      0.017197778448462486,
      0.02336505800485611,
      -0.013691084459424019,
      -0.08887334913015366,
      0.03929504007101059,
      -0.0409117117524147,
      0.08039046078920364,
      0.0783766582608223,
      -0.009811321273446083,
      0.012022580951452255,
      -0.003337699454277754,
      -0.0662492886185646,
      -0.04118765890598297,
      0.060266342014074326,
      -0.005107716657221317,
      0.04847628250718117,
      -0.04695475473999977,
      -0.022175289690494537,
      0.08924517035484314,
      -0.021442141383886337,
      0.017166195437312126,
      -0.06015569344162941,
      -0.0057486132718622684,
      0.037771061062812805,
      -0.04432681202888489,
      0.10569296032190323,
      -0.01092428620904684,
      -0.04923565313220024,
      0.01386275328695774,
      -0.058134257793426514,
      -0.0028090656269341707,
      0.07935179769992828,
      0.1570887416601181,
      0.0794132798910141,
      -0.1196194514632225,
      -0.006095379590988159,
      -0.006962955929338932,
      0.04142751172184944,
      -0.051163360476493835,
      -0.01968151330947876,
      -0.10959327220916748,
      0.018749862909317017,
      0.041898421943187714,
      -0.08712708204984665,
      -0.02436766028404236,
      -0.05921361222863197,
      -0.033178966492414474,
      -0.04546235874295235,
      0.06963108479976654,
      -0.015036853961646557,
      -0.027526365593075752,
      -0.05701439455151558,
      -0.07953473180532455,
      -0.001798597164452076,
      0.035409193485975266,
      -0.043719831854104996,
      0.039882540702819824,
      -0.03720813989639282,
      -0.0028259793762117624,
      0.051966454833745956,
      0.04739208146929741,
      -0.01689535193145275,
      0.0628785565495491,
      -0.06730447709560394,
      -0.01626259833574295,
      0.09041929244995117,
      0.04525015503168106,
      0.09816557914018631,
      -0.08548638969659805,
      -0.04891510307788849,
      -0.08409858494997025,
      0.013136126101016998,
      -0.03247004747390747,
      0.013665258884429932,
      0.11351844668388367,
      0.04935707151889801,
      -0.069937564432621,
      -0.049532804638147354,
      0.0016005901852622628,
      0.08720001578330994,
      -0.017063669860363007,
      -0.032281067222356796,
      0.028808658942580223,
      -0.018489593639969826,
      0.04384984076023102,
      0.035808343440294266,
      0.013303753919899464,
      -4.4383650532608954e-08,
      -0.08005251735448837,
      -0.11011215299367905,
      0.00965488888323307,
      -0.0021654032170772552,
      0.04336016625165939,
      0.053586166352033615,
      0.03082280606031418,
      0.024056339636445045,
      0.009533737786114216,
      -0.0478295274078846,
      0.038584914058446884,
      -0.04621707275509834,
      0.007568445522338152,
      -0.06360577791929245,
      0.004394523799419403,
      0.008772123605012894,
      -0.028725529089570045,
      0.08148494362831116,
      -0.009941449388861656,
      -0.08081065863370895,
      0.07260739058256149,
      0.02312662824988365,
      0.011942294426262379,
      -0.01481489185243845,
      -0.017801610752940178,
      -0.018705736845731735,
      -0.029873307794332504,
      0.09355491399765015,
      -0.07817079871892929,
      -0.06329821795225143,
      0.04504998028278351,
      -0.016672460362315178,
      -0.04324890673160553,
      -0.0157792791724205,
      0.021908029913902283,
      -0.01050649955868721,
      0.03527175262570381,
      -0.08673746138811111,
      0.03989097476005554,
      0.054709456861019135,
      -0.05090080201625824,
      0.018788272514939308,
      -0.08258993178606033,
      -0.034864865243434906,
      0.007288010325282812,
      -0.032547131180763245,
      -0.03715028986334801,
      -0.1284475326538086,
      0.02083575911819935,
      0.02778780087828636,
      -0.011133012361824512,
      -0.04873437061905861,
      0.03348953276872635,
      0.001209972077049315,
      -0.067278653383255,
      0.03415900468826294,
      0.018389595672488213,
      0.005025813356041908,
      -0.03886501491069794,
      -0.08264420181512833,
      0.01937948539853096,
      0.09405960142612457,
      0.03157787770032883,
      -0.01023047138005495
    ]
  },
  {
    "id": "export.py_generate_preset_text_from_feedback",
    "filename": "export.py",
    "function_name": "generate_preset_text_from_feedback",
    "text": "## Function: generate_preset_text_from_feedback (export.py)\n\n```python\ndef generate_preset_text_from_feedback(feedback_text: str) -> str:\n    prompt = f\"\"\"\n\nHere is the AI feedback you generated previously:\n\n\\\"\\\"\\\"\n{feedback_text}\n\\\"\\\"\\\"\n\nYou are generating a report for ZoundZcope AI.\n\nPlease output the content exactly as follows, with these section headings and formatting:\n\n---\n\nZoundZcope AI\n\nMixing & Mastering Feedback and Presets Report\n\nAI Feedback:\n\n- ISSUE:\n  [Describe the issue clearly in a few sentences.]\n\n- IMPROVEMENT:\n  [Describe the suggested improvement clearly.]\n\n(Repeat multiple ISSUE and IMPROVEMENT pairs as needed.)\n\nRecommended Ableton Preset Parameters:\n\nEQ8:\n- Band 1: [parameters like frequency, gain, Q, shelf/bell + a brief note in brackets]\n- Band 2: [parameters like frequency, gain, Q, shelf/bell + a brief note in brackets]\n(Repeat for more bands if needed)\n\nCompressor:\n- Threshold: [value]\n- Ratio: [value]\n- Attack: [value]\n- Release: [value]\n- Makeup Gain: [value]\n\nTransient Shaper:\n- [Parameters]: [value]\n(Repeat for more parameters if needed)\n\nMultiband Dynamics:\n- [Parameters]: [value]\n(Repeat for more parameters if needed)\n\nLimiter:\n- [Parameters]: [value]\n(Repeat for more parameters if needed)\n\nUtils:\n- [Parameters]: [value]\n(Repeat for more parameters if needed)\n\n\n(Include plugins relevant to the feedback. Provide brief notes in parentheses explaining the purpose of adjustments.)\n\n---\n\nNotes:\n\n- Use exactly the headings and labels shown above.\n- Keep \"ZoundZcope AI\" as the main title.\n- Use \"Mixing & Mastering Feedback and Presets Report\" as the subtitle.\n- Use \"AI Feedback:\" and \"Recommended Ableton Preset Parameters:\" as section headers.\n- Use uppercase \"ISSUE:\" and \"IMPROVEMENT:\" labels.\n- List plugin names like \"EQ8:\" and \"Compressor:\" exactly as shown.\n- Use simple bullet points with dashes (-) for parameters.\n- Do NOT include any markdown formatting, HTML tags, or extra decorations.\n- Only output plain text with line breaks as shown.\n\nGenerate the content now:\n\"\"\"\n    return generate_feedback_response(prompt)\n```\n",
    "embedding": [
      -0.05282129347324371,
      0.0712398812174797,
      -0.030193263664841652,
      0.05025390535593033,
      -0.04594619199633598,
      0.07466809451580048,
      0.06200891733169556,
      0.027771633118391037,
      -0.07730147242546082,
      -0.06148490682244301,
      -0.012124459259212017,
      -0.08639761060476303,
      0.04930379241704941,
      -0.0746314525604248,
      0.004922935273498297,
      0.08890179544687271,
      0.06482760608196259,
      -0.05087661370635033,
      -0.06884463131427765,
      -0.08640303462743759,
      0.09198974817991257,
      0.17775879800319672,
      0.07597598433494568,
      0.0375676155090332,
      -0.0012162106577306986,
      0.01196773536503315,
      -0.09347071498632431,
      0.10937943309545517,
      0.08166570961475372,
      0.011572739109396935,
      0.012277874164283276,
      0.03161388263106346,
      0.13796627521514893,
      0.0039243027567863464,
      0.03644238039851189,
      0.028479404747486115,
      -0.018600227311253548,
      -0.03125718608498573,
      0.008361054584383965,
      -0.0026696640998125076,
      0.05184076353907585,
      0.03369845077395439,
      0.04592369869351387,
      -0.04366862773895264,
      -0.04683095961809158,
      0.005156640894711018,
      -0.05818576365709305,
      -0.045123618096113205,
      -0.038204126060009,
      0.038304802030324936,
      -0.08808921277523041,
      -0.04635833576321602,
      0.03499527648091316,
      -0.021512432023882866,
      0.01140386052429676,
      0.10145238041877747,
      -0.013749766163527966,
      0.0168367438018322,
      0.006660427898168564,
      -0.09882226586341858,
      -0.04257451742887497,
      -0.05515385791659355,
      -0.011869747191667557,
      -0.004559939261525869,
      0.05350525304675102,
      0.03920044004917145,
      -0.03810051456093788,
      0.040826763957738876,
      -0.04096367955207825,
      0.03564644232392311,
      -0.051560625433921814,
      0.013252879492938519,
      -0.001331976498477161,
      0.03523897007107735,
      0.03481099382042885,
      0.05351065844297409,
      -0.027473917230963707,
      -0.029166391119360924,
      -0.02265559881925583,
      -0.02299192175269127,
      0.01056107971817255,
      -0.0728689506649971,
      0.004264032002538443,
      0.007573619019240141,
      0.04395223408937454,
      0.00645658653229475,
      0.038580071181058884,
      -0.005942361429333687,
      -0.028383610770106316,
      0.000812710146419704,
      -0.020753512158989906,
      -0.09267982095479965,
      0.0264387596398592,
      0.0015850291820243,
      -0.07035237550735474,
      0.0981752946972847,
      -0.04275425150990486,
      -0.12353863567113876,
      0.039250824600458145,
      0.08529175817966461,
      0.023594053462147713,
      -0.02073730155825615,
      0.09104356914758682,
      -0.023146724328398705,
      -0.12197013944387436,
      -0.038170792162418365,
      0.09832999855279922,
      0.05773274227976799,
      -0.04562309384346008,
      0.007224597502499819,
      0.0263364277780056,
      -0.00627000629901886,
      -0.030154502019286156,
      -0.06723315268754959,
      0.09847236424684525,
      0.05193762853741646,
      -0.0296027809381485,
      0.039663851261138916,
      0.01701180823147297,
      0.019490748643875122,
      0.0475936196744442,
      -0.07409319281578064,
      -0.07392621785402298,
      0.059049323201179504,
      0.027393938973546028,
      0.008269273675978184,
      -0.03829352557659149,
      2.973239023975253e-33,
      -0.03839576244354248,
      0.002816622843965888,
      0.009068151004612446,
      -0.01811346597969532,
      0.043844737112522125,
      0.02584325522184372,
      -0.05013914778828621,
      0.021171998232603073,
      0.011381766758859158,
      0.02825288474559784,
      -0.07853585481643677,
      -0.012727038934826851,
      -0.011948217637836933,
      -0.009281465783715248,
      -0.07247543334960938,
      -0.08276005834341049,
      -0.02789013274013996,
      0.03996625915169716,
      -0.030487636104226112,
      0.0662752091884613,
      0.03693123161792755,
      -0.004246111959218979,
      -0.022992683574557304,
      -0.032136667519807816,
      0.014171307906508446,
      0.04772608354687691,
      0.041387367993593216,
      -0.05788160488009453,
      -0.06456819176673889,
      -0.03499048948287964,
      -0.06102318689227104,
      -0.013635871931910515,
      0.02267504297196865,
      -0.03195212408900261,
      -0.018451770767569542,
      -0.017311254516243935,
      0.0082625737413764,
      0.047676872462034225,
      -0.023833002895116806,
      -0.01880248822271824,
      -0.03332744166254997,
      0.04680832847952843,
      -0.06484123319387436,
      0.027493441477417946,
      -0.005758788902312517,
      -0.004432511981576681,
      -0.038817159831523895,
      0.02976003661751747,
      0.06258238106966019,
      -0.03440183028578758,
      -0.008791021071374416,
      0.024389516562223434,
      -0.026003049686551094,
      -0.012075705453753471,
      0.01887868158519268,
      -0.06585534662008286,
      0.05090745911002159,
      0.04403608292341232,
      0.04590301588177681,
      -0.040661074221134186,
      0.03493278846144676,
      0.06447587162256241,
      0.045558493584394455,
      -0.04419196397066116,
      0.059306856244802475,
      0.07864664494991302,
      0.06552886962890625,
      -0.0066894711926579475,
      0.028760045766830444,
      -0.019678322598338127,
      -0.10147660970687866,
      -0.0500384196639061,
      -0.04865293577313423,
      -0.0044702584855258465,
      0.013060424476861954,
      -0.03642557933926582,
      -0.08652158081531525,
      -0.0804683119058609,
      0.018236540257930756,
      -0.03590329363942146,
      -0.007103028241544962,
      0.00998359639197588,
      -0.058972638100385666,
      0.02225101925432682,
      -0.0087254848331213,
      -0.05474581941962242,
      0.011672592721879482,
      -0.06254790723323822,
      0.024746451526880264,
      -0.018468372523784637,
      -0.054706934839487076,
      -0.005046966020017862,
      -0.02162749692797661,
      -0.02394506148993969,
      -0.013114900328218937,
      -3.926532800068473e-33,
      0.03587765246629715,
      0.0820036306977272,
      -0.03439519926905632,
      0.03958336263895035,
      0.041068900376558304,
      0.019362878054380417,
      0.0362287200987339,
      0.03451593965291977,
      0.044973649084568024,
      -0.028003880754113197,
      0.029604315757751465,
      -0.058340832591056824,
      -0.04868259280920029,
      -0.10656395554542542,
      -0.025403091683983803,
      -0.004948359448462725,
      -0.10640887916088104,
      0.061528660356998444,
      0.0855112075805664,
      -0.021934928372502327,
      0.03236470744013786,
      0.01844670996069908,
      -0.016534052789211273,
      0.03054957091808319,
      -0.06169933080673218,
      0.008256922475993633,
      0.08325862139463425,
      0.02983449213206768,
      0.07822393625974655,
      0.04819181561470032,
      -0.035111915320158005,
      -0.0019394824048504233,
      -0.013499935157597065,
      0.03718770295381546,
      -0.014267465099692345,
      0.002237341832369566,
      0.04904503375291824,
      -0.0763704925775528,
      -0.02495243027806282,
      -0.0013081689830869436,
      0.10135959833860397,
      0.0319335050880909,
      -0.05680655315518379,
      0.04136151820421219,
      -0.011472483165562153,
      0.006839467212557793,
      0.03449924662709236,
      -0.02444637380540371,
      -0.006629166658967733,
      0.012214831076562405,
      0.06152099370956421,
      -0.008833322674036026,
      -0.0712648257613182,
      -0.10516708344221115,
      -0.0876883864402771,
      -0.02544456534087658,
      0.009607703424990177,
      -0.09295444190502167,
      -0.0333898589015007,
      -0.0014453086769208312,
      -0.08103680610656738,
      -0.024714156985282898,
      0.003969634883105755,
      -0.13775518536567688,
      0.031674597412347794,
      -0.03837812319397926,
      0.054831363260746,
      0.03702029585838318,
      0.0669357106089592,
      0.01801619678735733,
      -0.02060685120522976,
      -0.014495381154119968,
      0.04741060733795166,
      -0.0028661538381129503,
      -0.0037061574403196573,
      0.09700831025838852,
      -0.08058647811412811,
      -0.04895220696926117,
      -0.03518924117088318,
      0.0038439007475972176,
      -0.023925073444843292,
      0.05970361456274986,
      0.03679164499044418,
      0.09381578862667084,
      0.0053556933999061584,
      0.028644829988479614,
      0.034110989421606064,
      0.06106526777148247,
      0.02900816686451435,
      0.03953022509813309,
      0.0265019740909338,
      0.09484116733074188,
      0.05314623564481735,
      0.09997376799583435,
      -0.048474330455064774,
      -5.413573234136493e-08,
      -0.028181185945868492,
      -0.037130363285541534,
      -0.01475327368825674,
      0.07369718700647354,
      -0.0027937600389122963,
      0.01720740646123886,
      -0.009295366704463959,
      -0.09394174814224243,
      -0.028680413961410522,
      -0.07709366083145142,
      0.03278264030814171,
      -0.030015895143151283,
      -0.04453296959400177,
      -0.021937916055321693,
      -0.016237426549196243,
      -0.0019205305725336075,
      -0.04696622118353844,
      0.135677769780159,
      -0.03834708034992218,
      -0.09255162626504898,
      0.05243148282170296,
      0.023154962807893753,
      0.016793467104434967,
      -0.13976220786571503,
      0.002007205504924059,
      -0.05310530215501785,
      -0.028895825147628784,
      0.07562272250652313,
      -0.09355202317237854,
      -0.022840768098831177,
      0.04321129620075226,
      -0.03098597191274166,
      0.004118429031223059,
      -0.0014478523517027497,
      0.0178489051759243,
      -0.012939236126840115,
      0.009186741895973682,
      -0.04409172385931015,
      0.07346973568201065,
      -0.0053022559732198715,
      -0.07284016162157059,
      0.11336103826761246,
      -0.10694748163223267,
      0.020406370982527733,
      -0.035745102912187576,
      -0.08107694983482361,
      0.02458815649151802,
      -0.09249776601791382,
      0.013929849490523338,
      0.019152771681547165,
      0.006190779153257608,
      -0.0018864116864278913,
      0.00429985485970974,
      0.005939091090112925,
      0.05945008620619774,
      0.07840796560049057,
      -0.0268000066280365,
      0.04398762807250023,
      -0.07401454448699951,
      0.04077240824699402,
      -0.010304219089448452,
      0.05341906100511551,
      0.046470753848552704,
      -0.02125582844018936
    ]
  },
  {
    "id": "export.py_draw_wrapped_text",
    "filename": "export.py",
    "function_name": "draw_wrapped_text",
    "text": "## Function: draw_wrapped_text (export.py)\n\n```python\ndef draw_wrapped_text(p, text, x, y, max_width, line_height=14):\n    lines = simpleSplit(text, \"Helvetica\", 10, max_width)\n    for line in lines:\n        if y < 50:\n            p.showPage()\n            y = letter[1] - 40\n            p.setFont(\"Helvetica\", 10)\n        p.drawString(x, y, line)\n        y -= line_height\n    return y\n```\n",
    "embedding": [
      -0.008667705580592155,
      0.06236610561609268,
      -0.031887494027614594,
      0.03180606663227081,
      -0.05485627055168152,
      0.055117279291152954,
      0.013451259583234787,
      0.07121355831623077,
      -0.09293433278799057,
      -0.029629956930875778,
      0.01695825532078743,
      0.026514749974012375,
      0.0017485925927758217,
      0.06831230968236923,
      -0.01886443793773651,
      -0.0035741059109568596,
      -0.07983177155256271,
      -0.049970194697380066,
      -0.06703108549118042,
      -0.03029601275920868,
      0.09344561398029327,
      -0.025549039244651794,
      0.06737613677978516,
      0.014406944625079632,
      0.005595171824097633,
      0.03776850551366806,
      0.018252702429890633,
      0.04139763116836548,
      0.022291606292128563,
      -0.01070147380232811,
      -0.05727945268154144,
      -0.0040662046521902084,
      -0.01000824011862278,
      0.01467593852430582,
      0.0857165977358818,
      0.041998665779829025,
      -0.055986642837524414,
      0.04359731078147888,
      0.008515171706676483,
      0.005379439797252417,
      0.06119251996278763,
      -0.03731347247958183,
      -0.06855463981628418,
      0.05168388411402702,
      0.012671582400798798,
      -0.02647562138736248,
      -0.04749755188822746,
      0.05859317258000374,
      0.02301650308072567,
      -0.0406399667263031,
      0.017863541841506958,
      0.023512208834290504,
      -0.05699487030506134,
      -0.05166448652744293,
      -0.00012449303176254034,
      -0.015320055186748505,
      0.033489737659692764,
      -0.10865426063537598,
      -0.00742909824475646,
      -0.034311190247535706,
      -0.023595472797751427,
      0.052940115332603455,
      0.015511646866798401,
      0.0006602729554288089,
      -0.05008486658334732,
      -0.022696174681186676,
      -0.008276100270450115,
      0.06809379160404205,
      -0.04563503339886665,
      0.01839044690132141,
      -0.030424440279603004,
      -0.0005964351003058255,
      -0.013246291317045689,
      -0.014748454093933105,
      0.039157383143901825,
      -0.14081822335720062,
      -0.046967823058366776,
      -0.035805266350507736,
      -0.03491467237472534,
      0.07139427214860916,
      -0.029615379869937897,
      0.004529581870883703,
      -0.0007369426311925054,
      0.173444002866745,
      -0.0030078899580985308,
      0.026870068162679672,
      -0.027895063161849976,
      -0.0391126424074173,
      -0.0035534461494535208,
      0.03065960854291916,
      0.02676692046225071,
      -0.0180845707654953,
      -0.022718699648976326,
      0.03830042853951454,
      -0.17498429119586945,
      0.03870580717921257,
      0.01836615428328514,
      -0.033874813467264175,
      -0.1390051394701004,
      -0.009748903103172779,
      0.031357698142528534,
      -0.0609574131667614,
      0.08225414156913757,
      -0.017823606729507446,
      0.01483406126499176,
      0.03058292716741562,
      0.05339665710926056,
      -0.06378044188022614,
      0.023493902757763863,
      -0.019415173679590225,
      -0.0061910985969007015,
      -0.03860681504011154,
      -0.028658531606197357,
      -0.06588494032621384,
      -0.045815158635377884,
      0.00808072742074728,
      -0.022602591663599014,
      0.032086875289678574,
      0.08472380042076111,
      0.03357488289475441,
      0.0167830977588892,
      0.07269872725009918,
      0.00666190218180418,
      0.028880072757601738,
      -0.028047507628798485,
      -0.005156434141099453,
      0.06094184145331383,
      2.428948589017063e-33,
      -0.05898886173963547,
      0.02057074010372162,
      -0.017790615558624268,
      0.07972007989883423,
      0.010572952218353748,
      0.04295024648308754,
      -0.06233017519116402,
      -0.027142884209752083,
      -0.022172003984451294,
      0.010154088959097862,
      -0.05818456783890724,
      -0.06283137202262878,
      -0.05112450197339058,
      0.10696350038051605,
      0.002192525891587138,
      -0.02664976380765438,
      0.02803308703005314,
      -0.038578376173973083,
      -0.008332203142344952,
      0.049665939062833786,
      -0.056375615298748016,
      -0.04137805104255676,
      0.07937425374984741,
      -0.04106452316045761,
      -0.02377448044717312,
      -0.005384779069572687,
      -0.06595095247030258,
      -0.00884965155273676,
      -0.039098888635635376,
      0.00303784036077559,
      -0.02791699953377247,
      0.00030511757358908653,
      0.08826764672994614,
      0.035898029804229736,
      -0.108989417552948,
      -0.02321571484208107,
      -0.027340659871697426,
      -0.06824319809675217,
      -0.051673226058483124,
      0.09038000553846359,
      -0.045660749077796936,
      0.030526991933584213,
      0.09405435621738434,
      -0.043065160512924194,
      0.04042522609233856,
      0.08453033119440079,
      0.021365445107221603,
      0.09952862560749054,
      -0.027570784091949463,
      0.006904963403940201,
      0.007892019115388393,
      0.06793372333049774,
      0.06062135472893715,
      -0.042242541909217834,
      0.06663087755441666,
      -0.06099527329206467,
      0.1015862300992012,
      0.01529275719076395,
      0.017717914655804634,
      -0.01756400428712368,
      0.023326732218265533,
      0.04446464776992798,
      0.02912016399204731,
      0.059212956577539444,
      0.08629950135946274,
      0.04278147593140602,
      0.02227656915783882,
      -0.039190299808979034,
      -0.06676872074604034,
      -0.0486898235976696,
      -0.09411095082759857,
      -0.001829076441936195,
      -0.047019876539707184,
      -2.6789410185301676e-05,
      -0.01833275705575943,
      -0.008578219451010227,
      -0.004353844095021486,
      0.02739865519106388,
      0.06669969111680984,
      -0.04945549741387367,
      0.03824479132890701,
      -0.08500054478645325,
      0.02651841938495636,
      -0.1487850695848465,
      -0.03247129172086716,
      -0.026349354535341263,
      0.07027895748615265,
      -0.03993009403347969,
      -0.02345929853618145,
      -0.03276516869664192,
      -0.10112998634576797,
      -0.05332304164767265,
      0.08153665065765381,
      -0.05557018518447876,
      0.031081078574061394,
      -4.480172272206539e-33,
      -0.02996993251144886,
      0.029721418395638466,
      -0.004520326387137175,
      0.025651345029473305,
      -0.026079557836055756,
      0.04227769747376442,
      0.04973951354622841,
      0.12101466208696365,
      0.059278979897499084,
      0.05587448179721832,
      -0.02329573594033718,
      0.034599076956510544,
      -0.03161435201764107,
      -0.049216773360967636,
      0.04644864425063133,
      0.06970470398664474,
      0.055852193385362625,
      0.14609935879707336,
      0.019754622131586075,
      -0.11332271248102188,
      -0.07608145475387573,
      -0.0367436483502388,
      -0.05672977492213249,
      0.028118949383497238,
      0.03066064789891243,
      -0.02316099964082241,
      0.07376983016729355,
      -0.009182503446936607,
      -0.02583402767777443,
      0.006543748080730438,
      0.025142131373286247,
      -0.039895325899124146,
      0.01103273406624794,
      0.0725371316075325,
      -0.06545320898294449,
      -0.021723058074712753,
      0.027319999411702156,
      -0.05330359935760498,
      0.019148726016283035,
      0.030346866697072983,
      0.0791158676147461,
      -0.01094010379165411,
      0.023576833307743073,
      -0.01677718572318554,
      -0.07972695678472519,
      0.0403352715075016,
      -0.18074078857898712,
      -0.001927841454744339,
      0.006206875201314688,
      -0.024769123643636703,
      -0.030799254775047302,
      0.061228781938552856,
      0.03701060265302658,
      -0.030603840947151184,
      -0.06905978918075562,
      -0.037979401648044586,
      -0.0646066889166832,
      0.0368739478290081,
      -0.05288093909621239,
      -0.04745865613222122,
      -0.04286253824830055,
      -0.05383890122175217,
      -0.03961940482258797,
      -0.023100899532437325,
      0.05711537227034569,
      0.026145486161112785,
      -0.040964096784591675,
      -0.11090855300426483,
      -0.01579541712999344,
      0.05280127376317978,
      0.020815815776586533,
      0.007461164146661758,
      -0.03256179019808769,
      0.020905673503875732,
      -0.040901243686676025,
      0.09592140465974808,
      0.022218111902475357,
      0.011551077477633953,
      -0.013030057772994041,
      0.037968043237924576,
      0.04390810802578926,
      -0.054229237139225006,
      -0.01424887403845787,
      -0.0004046379472129047,
      -0.006070947740226984,
      -0.06570550799369812,
      -0.05643380805850029,
      0.058448050171136856,
      0.0483076311647892,
      0.027165215462446213,
      0.012946834787726402,
      0.03751551732420921,
      -0.03186509758234024,
      0.0011953259818255901,
      0.013189764693379402,
      -4.29332303042429e-08,
      0.005313231144100428,
      -0.04243948683142662,
      0.017401574179530144,
      -0.03931989148259163,
      0.012072863057255745,
      0.061828695237636566,
      0.04770840331912041,
      -0.1685287356376648,
      0.001441323198378086,
      0.006107896566390991,
      0.03510411083698273,
      0.012385108508169651,
      -0.009215361438691616,
      0.004895871039479971,
      0.009010742418467999,
      0.007088949903845787,
      0.016418268904089928,
      0.07299020141363144,
      0.013559515587985516,
      -0.026813773438334465,
      0.017388615757226944,
      -0.003770762123167515,
      -0.005205830559134483,
      0.005991884972900152,
      -0.061417438089847565,
      -0.03596460819244385,
      -0.028585165739059448,
      0.07130201160907745,
      -0.008438104763627052,
      -0.02614504098892212,
      0.08305495232343674,
      -0.05363371595740318,
      0.06699180603027344,
      0.06330417096614838,
      -0.03411011025309563,
      -0.004762404132634401,
      0.011886673048138618,
      -0.04589859023690224,
      0.013290705159306526,
      0.10611429810523987,
      0.024252397939562798,
      -0.02955276146531105,
      -0.004263306502252817,
      -0.02635146677494049,
      0.032694559544324875,
      -0.007911979220807552,
      0.07377426326274872,
      -0.03551122173666954,
      -0.07639756053686142,
      0.022817162796854973,
      -0.01795494183897972,
      0.027711985632777214,
      0.014749385416507721,
      -0.0698506087064743,
      -0.031591255217790604,
      -0.05959230661392212,
      0.0674850344657898,
      0.1403438001871109,
      -0.08353336155414581,
      0.0044822231866419315,
      -0.07305575162172318,
      0.060250796377658844,
      0.026614181697368622,
      -0.0033102158922702074
    ]
  },
  {
    "id": "export.py_create_pdf",
    "filename": "export.py",
    "function_name": "create_pdf",
    "text": "## Function: create_pdf (export.py)\n\n```python\ndef create_pdf(full_report_text: str) -> BytesIO:\n    buffer = BytesIO()\n    doc = SimpleDocTemplate(buffer, pagesize=letter,\n                            rightMargin=40, leftMargin=40,\n                            topMargin=40, bottomMargin=40)\n\n    # Define styles\n    styles = getSampleStyleSheet()\n\n    company_title_style = ParagraphStyle(\n        'CompanyTitle',\n        fontName='Helvetica-Bold',\n        fontSize=24,\n        leading=28,\n        alignment=TA_CENTER,\n        spaceAfter=20\n    )\n\n    subheadline_style = ParagraphStyle(\n        'Subheadline',\n        fontName='Helvetica-Bold',\n        fontSize=16,\n        leading=20,\n        alignment=TA_CENTER,\n        spaceAfter=18\n    )\n\n    section_header_style = ParagraphStyle(\n        'SectionHeader',\n        fontName='Helvetica-Bold',\n        fontSize=12,\n        leading=14,\n        spaceAfter=10\n    )\n\n    uppercase_bold_style = ParagraphStyle(\n        'UppercaseBold',\n        fontName='Helvetica-Bold',\n        fontSize=10,\n        leading=14,\n        spaceAfter=6\n    )\n\n    normal_style = ParagraphStyle(\n        'Normal',\n        fontName='Helvetica',\n        fontSize=10,\n        leading=14,\n        spaceAfter=6\n    )\n\n    plugin_name_style = ParagraphStyle(\n        'PluginName',\n        fontName='Helvetica-Bold',\n        fontSize=10,\n        leading=14,\n        spaceAfter=2\n    )\n\n    plugin_data_style = ParagraphStyle(\n        'PluginData',\n        fontName='Helvetica',\n        fontSize=10,\n        leading=14,\n        leftIndent=12,\n        spaceAfter=2\n    )\n\n    elements = []\n\n    # Split lines\n    lines = [line.strip() for line in full_report_text.strip().split(\"\\n\")]\n\n    # For grouping bullet points (plugin parameters)\n    bullet_group = []\n\n    def flush_bullet_group():\n        nonlocal bullet_group\n        if bullet_group:\n            bullet_items = [ListItem(Paragraph(item, plugin_data_style)) for item in bullet_group]\n            elements.append(ListFlowable(bullet_items, bulletType='bullet'))\n            bullet_group = []\n\n    for line in lines:\n        if not line:\n            flush_bullet_group()\n            elements.append(Spacer(1, 8))\n            continue\n\n        # Company title\n        if line.lower().startswith(\"zoundzcope ai\"):\n            flush_bullet_group()\n            elements.append(Paragraph(line, company_title_style))\n            continue\n\n        # Subheadline\n        if \"feedback and presets report\" in line.lower():\n            flush_bullet_group()\n            elements.append(Paragraph(line, subheadline_style))\n            continue\n\n        # Section headers\n        if line in [\"AI Feedback:\", \"Recommended Ableton Preset Parameters:\"]:\n            flush_bullet_group()\n            elements.append(Paragraph(line, section_header_style))\n            continue\n\n        # Uppercase ISSUE / IMPROVEMENT labels\n        if line.startswith(\"- ISSUE:\") or line.startswith(\"- IMPROVEMENT:\"):\n            flush_bullet_group()\n            label, _, rest = line.partition(\":\")\n            label = label.replace(\"- \", \"\").upper() + \":\"\n            elements.append(Paragraph(label, uppercase_bold_style))\n            if rest.strip():\n                elements.append(Paragraph(rest.strip(), normal_style))\n            continue\n\n        # Plugin names (bold)\n        if any(line.startswith(plugin) for plugin in [\"EQ8:\", \"Compressor:\", \"Glue Compressor:\", \"Limiter:\", \"Multiband Dynamics:\", \"Utils:\"]):\n            flush_bullet_group()\n            elements.append(Paragraph(line, plugin_name_style))\n            continue\n\n        # Plugin data bullet points (collect in group)\n        if line.startswith(\"- \"):\n            bullet_group.append(line[2:].strip())\n            continue\n\n        # Default normal text\n        flush_bullet_group()\n        elements.append(Paragraph(line, normal_style))\n\n    # Flush leftover bullets at the end\n    flush_bullet_group()\n\n    doc.build(elements)\n    buffer.seek(0)\n    return buffer\n```\n",
    "embedding": [
      -0.033410120755434036,
      0.021168086677789688,
      -0.07091236114501953,
      0.029384877532720566,
      -0.005071366671472788,
      0.056232672184705734,
      -0.04696149379014969,
      0.05894521623849869,
      -0.06969188898801804,
      -0.0025208068545907736,
      0.03007321059703827,
      0.0014905784046277404,
      0.03683869168162346,
      -0.027638467028737068,
      -0.01604670099914074,
      -0.07365536689758301,
      -0.061473239213228226,
      -0.09177424013614655,
      0.024142082780599594,
      0.009741738438606262,
      0.09351395815610886,
      0.09312154352664948,
      0.12998326122760773,
      -0.015400605276226997,
      -0.010215378366410732,
      -0.026989394798874855,
      -0.03656376525759697,
      0.10327483713626862,
      -0.03596563637256622,
      -0.07069464772939682,
      0.10602270066738129,
      -0.014245519414544106,
      0.10573150962591171,
      0.0190690066665411,
      0.1445126086473465,
      0.011350644752383232,
      0.018868278712034225,
      -0.03608957305550575,
      0.10244783014059067,
      0.07828399538993835,
      0.008255974389612675,
      -0.08773854374885559,
      -0.01836620643734932,
      -0.043192002922296524,
      -0.047376152127981186,
      0.03542546182870865,
      -0.05804942548274994,
      -0.0012627510586753488,
      0.07780656218528748,
      0.009225228801369667,
      -0.11134577542543411,
      0.03254755586385727,
      -0.004998696036636829,
      -0.029632464051246643,
      0.04787708818912506,
      0.02223149873316288,
      0.010142545215785503,
      -0.034534141421318054,
      -0.05058196559548378,
      -0.09405200928449631,
      -0.04993379861116409,
      -0.00898871012032032,
      0.01866808719933033,
      0.006465562619268894,
      0.0395490787923336,
      0.014500816352665424,
      -0.02193826250731945,
      0.11013010144233704,
      -0.0575006864964962,
      0.09612660855054855,
      -0.0521058589220047,
      0.06016422063112259,
      -0.023470396175980568,
      0.047140542417764664,
      -0.03356659412384033,
      -0.10697804391384125,
      0.0072281211614608765,
      0.03255115821957588,
      -0.03185885772109032,
      -0.07547222077846527,
      -0.0497630275785923,
      0.015262560918927193,
      -0.006341151427477598,
      0.13310182094573975,
      -0.029586870223283768,
      -0.07406887412071228,
      0.06611531972885132,
      -0.057160887867212296,
      -0.011149518191814423,
      0.0186585895717144,
      -0.008681505918502808,
      -0.02829139679670334,
      -0.025600459426641464,
      -0.018948109820485115,
      -0.09619016945362091,
      0.04126391187310219,
      0.03236556798219681,
      -0.08281856775283813,
      0.00038468162529170513,
      -0.0032972642220556736,
      0.04523763805627823,
      -0.1180308610200882,
      0.08409573137760162,
      -0.06370384991168976,
      -0.037980396300554276,
      -0.03335298225283623,
      0.038309257477521896,
      -0.007648067083209753,
      -0.015182895585894585,
      0.05583011731505394,
      0.0061043621972203255,
      -0.03559716045856476,
      -0.13285934925079346,
      -0.11539509147405624,
      -0.013406091369688511,
      0.053232453763484955,
      -0.05686052888631821,
      0.009912279434502125,
      -0.004490223713219166,
      0.01575952209532261,
      0.025540387257933617,
      0.04988278076052666,
      -0.08423656970262527,
      0.04101485013961792,
      -0.07783409208059311,
      0.012977194041013718,
      0.049968551844358444,
      1.0898047064723798e-32,
      -0.07023251056671143,
      -0.008520333096385002,
      -0.050330497324466705,
      0.1042611226439476,
      0.06772243231534958,
      0.07620853930711746,
      -0.0008557763649150729,
      0.015294652432203293,
      -0.07476238906383514,
      -0.02237679623067379,
      -0.066820427775383,
      -0.028167640790343285,
      -0.00944799929857254,
      0.06124154105782509,
      -0.08138148486614227,
      -0.04714081063866615,
      -0.04603831470012665,
      0.07282496988773346,
      -0.036773741245269775,
      -0.006132089998573065,
      0.013493886217474937,
      0.027088945731520653,
      0.05761986970901489,
      -0.02644593082368374,
      -0.09697128087282181,
      0.016064360737800598,
      -0.013217303901910782,
      -0.030500149354338646,
      -0.11078757047653198,
      -0.013008363544940948,
      -0.024790111929178238,
      0.06330805271863937,
      0.047068338841199875,
      -0.04912925511598587,
      -0.06544653326272964,
      -0.02657851204276085,
      -0.01718628965318203,
      -0.07033467292785645,
      -0.05211788788437843,
      0.025876978412270546,
      -0.08043563365936279,
      0.06003853678703308,
      0.02351193130016327,
      -0.03463071212172508,
      0.01322837546467781,
      0.050739046186208725,
      -0.027011465281248093,
      0.0249712523072958,
      0.06363304704427719,
      0.006459963507950306,
      -0.002929876558482647,
      -0.004384926985949278,
      0.0889464020729065,
      -0.0019180303206667304,
      0.04143109545111656,
      -0.0323994904756546,
      -0.0076524741016328335,
      0.05508086085319519,
      0.037270694971084595,
      -0.13502155244350433,
      0.09353532642126083,
      0.06796423345804214,
      0.027322599664330482,
      -0.04654427617788315,
      0.01236262172460556,
      0.03897462785243988,
      0.12626869976520538,
      0.0786525085568428,
      0.013376729562878609,
      -0.02767891436815262,
      0.00731620891019702,
      -0.015526135452091694,
      -0.012392585165798664,
      -0.0024050746578723192,
      0.034724414348602295,
      0.003473004326224327,
      0.04158850759267807,
      -0.012372912839055061,
      0.016618875786662102,
      -0.059020280838012695,
      0.03742096945643425,
      0.008982152678072453,
      0.05990791320800781,
      -0.10075230896472931,
      0.022862106561660767,
      0.0018633987056091428,
      0.05553917586803436,
      0.022808723151683807,
      -0.03935767337679863,
      -0.0023095980286598206,
      -0.07226738333702087,
      -0.11520501971244812,
      0.05088292434811592,
      -0.016759539023041725,
      0.02874789945781231,
      -1.284901283473164e-32,
      0.00368491280823946,
      0.012782406061887741,
      0.017628008499741554,
      -0.01757691614329815,
      -0.01168875303119421,
      0.057345449924468994,
      0.016210250556468964,
      0.04960978776216507,
      0.008181532844901085,
      0.021196888759732246,
      -0.019828809425234795,
      -0.06256646662950516,
      -0.039553798735141754,
      -0.09410949796438217,
      0.015565040521323681,
      0.004500138573348522,
      -0.0007588291773572564,
      0.07167167961597443,
      -0.06939353793859482,
      -0.041343823075294495,
      -0.05569375306367874,
      -0.021649004891514778,
      -0.02782735787332058,
      0.08912350237369537,
      -0.024587953463196754,
      0.0082003278657794,
      0.004892634227871895,
      0.016239173710346222,
      -0.02316795103251934,
      -0.006659804843366146,
      -0.04336317256093025,
      0.023021196946501732,
      -0.09178989380598068,
      0.12711244821548462,
      -0.004545072093605995,
      -0.05937717854976654,
      -0.03692467883229256,
      0.008513007313013077,
      0.03685273230075836,
      0.03938109427690506,
      0.02552907168865204,
      0.059201452881097794,
      0.0621870681643486,
      -0.046869225800037384,
      0.005127875134348869,
      -0.01935514248907566,
      -0.0020143131259828806,
      -0.05351058021187782,
      0.021146828308701515,
      -0.009854867123067379,
      -0.032807230949401855,
      0.02470294199883938,
      -0.03313683345913887,
      0.0025980283971875906,
      -0.12904196977615356,
      -0.015559806488454342,
      -0.03217323124408722,
      -0.03209404647350311,
      -0.08806906640529633,
      0.0061155459843575954,
      -0.036030735820531845,
      0.02467871829867363,
      -0.05102703347802162,
      0.023111876100301743,
      0.013633464463055134,
      -0.08599651604890823,
      -0.08663387596607208,
      -0.06897856295108795,
      -0.01377128902822733,
      0.018755601719021797,
      -0.060667484998703,
      -0.08701648563146591,
      -0.015774423256516457,
      -0.03420797735452652,
      -0.0033917147666215897,
      0.13146249949932098,
      0.018169311806559563,
      0.014194896444678307,
      -0.05758818984031677,
      0.05869119614362717,
      0.019893500953912735,
      0.008235456421971321,
      -0.02270772121846676,
      -0.031839873641729355,
      -0.009050237014889717,
      -0.01414581947028637,
      0.0019721670541912317,
      0.050257179886102676,
      -0.003621811280027032,
      -0.006017322652041912,
      0.030562136322259903,
      0.011890118941664696,
      0.09389153122901917,
      0.04450204595923424,
      0.012855974957346916,
      -6.600881619078791e-08,
      0.007343764416873455,
      -0.033896591514348984,
      0.04483289644122124,
      0.047114111483097076,
      0.020347675308585167,
      0.018044257536530495,
      0.037940967828035355,
      -0.05766460299491882,
      0.01141990814357996,
      0.0003856361436191946,
      -0.010532958433032036,
      -0.06777817755937576,
      -0.05726102739572525,
      -0.0012158738682046533,
      -0.017681898549199104,
      0.04203197732567787,
      -0.051656097173690796,
      0.07663049548864365,
      -0.03905966505408287,
      -0.07970216870307922,
      -0.00036470324266701937,
      -0.057440388947725296,
      -0.005164053291082382,
      -0.028899867087602615,
      -0.05231504887342453,
      0.019440628588199615,
      0.018691333010792732,
      0.01051965169608593,
      0.04689672216773033,
      -0.037240199744701385,
      0.024978898465633392,
      -0.03595194220542908,
      -0.018591301515698433,
      0.02739659883081913,
      -0.028283091261982918,
      0.04810890927910805,
      0.07371251285076141,
      0.002879614941775799,
      -0.010425617918372154,
      0.0781802162528038,
      -0.03186563774943352,
      0.04746941477060318,
      -0.07505324482917786,
      0.0021058653946965933,
      0.015734544023871422,
      0.04818401858210564,
      -0.050824832171201706,
      0.027815407142043114,
      -0.043402738869190216,
      0.01993381977081299,
      0.027307091280817986,
      0.001668861717917025,
      0.04999323934316635,
      -0.00426239799708128,
      -0.08628485351800919,
      0.04047803953289986,
      0.01966279000043869,
      0.1021321564912796,
      -0.0009331725304946303,
      -0.031194595620036125,
      0.027428219094872475,
      0.014576161280274391,
      0.06208911910653114,
      0.052684321999549866
    ]
  },
  {
    "id": "export.py_export_feedback_presets",
    "filename": "export.py",
    "function_name": "export_feedback_presets",
    "text": "## Function: export_feedback_presets (export.py)\n\n```python\n@router.get(\"/export-feedback-presets\")\ndef export_feedback_presets(\n    session_id: str = Query(...),\n    track_id: str = Query(...),\n    db: Session = Depends(get_db)\n):\n    print(f\"Export request for session {session_id}, track {track_id}\")\n\n    # Fetch the track object\n    track = db.query(Track).filter(Track.id == track_id).first()\n    if not track:\n        raise HTTPException(status_code=404, detail=\"Track not found\")\n\n    # Detect if this is a reference track by name or however you identify it\n    if \"(Reference)\" in (track.track_name or \"\"):\n        # Find main track(s) for this session excluding reference tracks\n        main_track = (\n            db.query(Track)\n            .filter(\n                Track.session_id == session_id,\n                ~Track.track_name.contains(\"(Reference)\"),\n            )\n            .order_by(Track.uploaded_at.desc())\n            .first()\n        )\n\n        if not main_track:\n            raise HTTPException(\n                status_code=404,\n                detail=\"No main track found for this session to export feedback\",\n            )\n        print(f\"Reference track detected, switching export to main track {main_track.id}\")\n        track_id = main_track.id\n\n    # Now fetch feedback messages for the track_id (could be original or switched)\n    messages = (\n        db.query(ChatMessage)\n        .filter_by(session_id=session_id, track_id=track_id, sender='assistant')\n        .order_by(ChatMessage.timestamp)\n        .all()\n    )\n\n    if not messages:\n        raise HTTPException(status_code=404, detail=\"No feedback found for this session and track\")\n\n    feedback_text = \"\\n\\n\".join(msg.message for msg in messages)\n\n    full_report = generate_preset_text_from_feedback(feedback_text)\n    pdf_buffer = create_pdf(full_report)\n\n    return StreamingResponse(\n        pdf_buffer,\n        media_type=\"application/pdf\",\n        headers={\n            \"Content-Disposition\": f\"attachment; filename=feedback_presets_{session_id}_{track_id}.pdf\"\n        }\n    )\n```\n",
    "embedding": [
      -0.013147613033652306,
      0.03360292688012123,
      -0.03272952139377594,
      0.062075190246105194,
      0.0679394081234932,
      -0.004134951625019312,
      -0.002254707273095846,
      -0.003257791278883815,
      0.007741441950201988,
      -0.035519685596227646,
      -0.05498292297124863,
      -0.032936591655015945,
      -0.025407500565052032,
      -0.09533994644880295,
      -0.018770873546600342,
      0.04873925447463989,
      0.01646474376320839,
      -0.009137241169810295,
      -0.04404504969716072,
      -0.05383561924099922,
      0.0027336054481565952,
      0.10707122087478638,
      0.04878449812531471,
      0.07934960722923279,
      -0.027936840429902077,
      -0.06076813489198685,
      -0.049858421087265015,
      0.02318679913878441,
      -0.047804106026887894,
      -0.05285089462995529,
      -0.023522263392806053,
      0.02798248454928398,
      -0.06350565701723099,
      0.033237118273973465,
      0.08587825298309326,
      0.0017942143604159355,
      -0.07495923340320587,
      -0.046881359070539474,
      0.1257360577583313,
      -0.0598757304251194,
      0.018460644409060478,
      0.033484555780887604,
      0.049216270446777344,
      -0.007013907190412283,
      -0.04942722246050835,
      0.012098738923668861,
      -0.06420504301786423,
      0.004803889896720648,
      -0.004191690590232611,
      0.0040499549359083176,
      -0.03663294017314911,
      -0.008086208254098892,
      -0.006057460326701403,
      -0.051909565925598145,
      0.022480105981230736,
      0.08217808604240417,
      -0.02265828289091587,
      0.00324607384391129,
      -0.014241347089409828,
      -0.003944046795368195,
      -0.04939598962664604,
      -0.107649065554142,
      0.02701117843389511,
      -0.08528821915388107,
      -0.08169139921665192,
      -0.014446507208049297,
      -0.05889983847737312,
      0.031309884041547775,
      0.07286973297595978,
      0.03686676546931267,
      -0.03358727693557739,
      0.048243772238492966,
      -0.041648637503385544,
      -0.00038937610224820673,
      -0.005545012652873993,
      -0.0398813858628273,
      -0.03842546045780182,
      0.05761760473251343,
      -0.11851026117801666,
      -0.03605028986930847,
      -0.06805285811424255,
      -0.06557608395814896,
      -0.0016378056025132537,
      -0.02162005566060543,
      0.09429893642663956,
      -0.07204805314540863,
      0.098288394510746,
      -0.023495987057685852,
      0.004495113622397184,
      0.011811992153525352,
      -0.12073074281215668,
      -0.014829002320766449,
      0.054674841463565826,
      -0.009925349615514278,
      -0.09594006836414337,
      0.09440262615680695,
      0.03060106374323368,
      0.048694588243961334,
      0.061238355934619904,
      0.0928356945514679,
      0.09100961685180664,
      -0.01431205216795206,
      0.03086021915078163,
      0.024755651131272316,
      -0.003416923340409994,
      0.00964345782995224,
      0.007160091307014227,
      0.07842551171779633,
      0.05473414435982704,
      -0.008458024822175503,
      -0.02906900830566883,
      0.0709104910492897,
      0.00624354463070631,
      -0.003283065976575017,
      0.041494425386190414,
      0.03042754903435707,
      0.016213523223996162,
      0.058658577501773834,
      -0.030443109571933746,
      0.025324633345007896,
      0.10463554412126541,
      -0.03612169250845909,
      0.10057536512613297,
      -0.013491899706423283,
      -0.028295431286096573,
      0.004242939408868551,
      0.09503631293773651,
      2.3832870619723482e-33,
      0.04352148622274399,
      -0.08556795120239258,
      -0.02135860174894333,
      -0.1171688437461853,
      0.015908507630228996,
      0.07654255628585815,
      -0.012872646562755108,
      -0.026940230280160904,
      0.01164642721414566,
      0.018884506076574326,
      -0.08334095031023026,
      0.027761153876781464,
      -0.02601849101483822,
      -0.014591093175113201,
      -0.03837722912430763,
      -0.07941227406263351,
      -0.031749967485666275,
      0.0546567402780056,
      0.06831913441419601,
      0.03595666587352753,
      0.039389196783304214,
      -0.06394655257463455,
      -0.044209763407707214,
      0.004706074483692646,
      0.06088324263691902,
      0.02758445218205452,
      -0.038232188671827316,
      0.022632822394371033,
      -0.07771511375904083,
      0.004448659718036652,
      -0.04746175557374954,
      -0.028120972216129303,
      0.05841304734349251,
      -0.042714450508356094,
      -0.032728519290685654,
      -0.018127411603927612,
      0.004740172531455755,
      -0.018065275624394417,
      -0.05224248021841049,
      -0.07808395475149155,
      0.018188199028372765,
      0.04324853792786598,
      -0.07217050343751907,
      -0.02403974160552025,
      -0.07504038512706757,
      0.0018990784883499146,
      -0.05502016469836235,
      0.05768292769789696,
      0.028364887461066246,
      0.01509797666221857,
      -0.08598209917545319,
      -0.052439119666814804,
      0.03758546710014343,
      -0.05270375311374664,
      -0.011611354537308216,
      -0.05992739275097847,
      0.010540581308305264,
      0.01920093595981598,
      0.06382367014884949,
      -0.049893513321876526,
      0.06218519061803818,
      0.013401145115494728,
      -0.04064415022730827,
      -0.05936784669756889,
      0.042590610682964325,
      0.07053081691265106,
      0.06070433929562569,
      0.04700620472431183,
      0.06418900191783905,
      -0.041603878140449524,
      -0.061407387256622314,
      0.01090006809681654,
      0.01370568759739399,
      -0.04960635304450989,
      0.12151084840297699,
      -0.05963258072733879,
      -0.09581213444471359,
      0.03597375378012657,
      -0.02048766240477562,
      0.0018055494874715805,
      -0.043009258806705475,
      -0.016463197767734528,
      -0.1131344884634018,
      0.037967052310705185,
      0.027195801958441734,
      0.04331495240330696,
      0.026799404993653297,
      -0.004408737178891897,
      -0.04343400523066521,
      0.060244910418987274,
      -0.06870945543050766,
      0.05111490935087204,
      -0.03561464324593544,
      0.033378761261701584,
      0.020241163671016693,
      -3.2905503159972905e-33,
      0.04572049900889397,
      0.006426722276955843,
      0.08346571028232574,
      -0.03367810696363449,
      0.05809072405099869,
      -0.04292183369398117,
      0.0634923204779625,
      0.00415588216856122,
      0.015623307786881924,
      0.028633655980229378,
      -0.02294238656759262,
      -0.14803597331047058,
      0.013734637759625912,
      -0.033190447837114334,
      0.011062048375606537,
      0.0022024069912731647,
      -0.049400653690099716,
      0.03188175708055496,
      0.03664761036634445,
      -0.03031206503510475,
      -0.049539849162101746,
      0.07158481329679489,
      -0.057113535702228546,
      0.043584730476140976,
      -0.061617009341716766,
      -0.0030296326149255037,
      0.09925783425569534,
      -0.03428444638848305,
      -0.012662958353757858,
      -0.0033121081069111824,
      -0.0035684220492839813,
      0.0518290139734745,
      -0.0441628098487854,
      0.022396257147192955,
      -0.03166591376066208,
      -0.03150022029876709,
      -0.05676141381263733,
      0.061468400061130524,
      -0.02195856347680092,
      0.08083584159612656,
      0.11065710335969925,
      0.0716254785656929,
      -0.06217832863330841,
      0.021090056747198105,
      -0.04348154738545418,
      -0.011349877342581749,
      0.016439305618405342,
      0.10513396561145782,
      -0.09008952975273132,
      0.013403287157416344,
      0.025204947218298912,
      -0.04600005969405174,
      -0.005694898311048746,
      -0.07099985331296921,
      0.027148334309458733,
      -0.04717934876680374,
      0.035402268171310425,
      -0.10245296359062195,
      -0.02433040551841259,
      -0.013584999367594719,
      -0.011989891529083252,
      0.029785389080643654,
      -0.029052792116999626,
      0.03814006224274635,
      0.039597369730472565,
      0.016909804195165634,
      -0.05177799612283707,
      0.0939328521490097,
      0.05530710145831108,
      0.08481871336698532,
      -0.054282933473587036,
      -0.003812110982835293,
      0.035312946885824203,
      0.019668862223625183,
      0.09899905323982239,
      0.051399488002061844,
      -0.10420740395784378,
      0.00911739468574524,
      0.010178621858358383,
      0.06823647767305374,
      -0.08129272609949112,
      0.05879315361380577,
      0.046614814549684525,
      -0.05744633823633194,
      0.03483820706605911,
      -0.017144152894616127,
      -0.02652512490749359,
      0.09765211492776871,
      0.015988506376743317,
      -0.0058185504749417305,
      0.08179780095815659,
      0.007588582579046488,
      0.018023084849119186,
      0.004999333061277866,
      -0.05323704332113266,
      -5.063601804522477e-08,
      -0.07789937406778336,
      0.022827930748462677,
      0.03940705209970474,
      0.07604335993528366,
      0.07003622502088547,
      0.050167009234428406,
      0.09659720212221146,
      0.046373482793569565,
      -0.030609464272856712,
      -0.022177796810865402,
      -0.005913829430937767,
      -0.014324918389320374,
      -0.028712991625070572,
      0.02682623267173767,
      -0.046302761882543564,
      -0.05308149755001068,
      0.018199456855654716,
      0.11199472844600677,
      -0.060394443571567535,
      -0.012522615492343903,
      -0.04983196407556534,
      -0.0344533696770668,
      0.03124196082353592,
      -0.033196475356817245,
      0.08642707020044327,
      -0.046518512070178986,
      0.032734356820583344,
      0.07022351026535034,
      -0.018130406737327576,
      -0.030479256063699722,
      -0.01372661255300045,
      0.03070179373025894,
      -0.05312654376029968,
      -0.0015377250965684652,
      0.003405575407668948,
      0.01761789247393608,
      -0.02309448830783367,
      0.018473893404006958,
      -0.002077137352898717,
      0.004658482037484646,
      -0.1287452131509781,
      0.027510879561305046,
      -0.028207670897245407,
      -0.004953742492944002,
      0.02484983764588833,
      -0.044541552662849426,
      -0.03593890368938446,
      -0.04489697143435478,
      0.054393962025642395,
      -0.027313776314258575,
      -0.04649112746119499,
      -0.08366581797599792,
      0.053862378001213074,
      0.054495684802532196,
      0.006840245332568884,
      0.07251978665590286,
      -0.025097280740737915,
      0.014136729761958122,
      -0.04483773186802864,
      -0.05376292020082474,
      0.07405932992696762,
      0.007164187729358673,
      0.03857623040676117,
      0.02818206325173378
    ]
  },
  {
    "id": "export.py_flush_bullet_group",
    "filename": "export.py",
    "function_name": "flush_bullet_group",
    "text": "## Function: flush_bullet_group (export.py)\n\n```python\n    def flush_bullet_group():\n        nonlocal bullet_group\n        if bullet_group:\n            bullet_items = [ListItem(Paragraph(item, plugin_data_style)) for item in bullet_group]\n            elements.append(ListFlowable(bullet_items, bulletType='bullet'))\n            bullet_group = []\n```\n",
    "embedding": [
      -0.005966393742710352,
      0.05227729678153992,
      0.024453161284327507,
      0.12444016337394714,
      0.06501204520463943,
      0.015200073830783367,
      0.01662510633468628,
      -0.08826074004173279,
      -0.0023078126832842827,
      -0.03821621462702751,
      0.01956057921051979,
      0.007078328635543585,
      -0.060119304805994034,
      -0.0606684535741806,
      0.014273473061621189,
      -0.056317541748285294,
      -0.0819411426782608,
      0.054351210594177246,
      -0.06704884767532349,
      -0.08449523895978928,
      0.056251730769872665,
      0.045515842735767365,
      0.050611864775419235,
      0.07898712158203125,
      0.033271197229623795,
      0.048718489706516266,
      0.02566160075366497,
      -0.009865357540547848,
      -0.011321723461151123,
      -0.042169492691755295,
      -0.02239285409450531,
      0.027083322405815125,
      -0.0076461974531412125,
      0.053278058767318726,
      0.1087622195482254,
      0.03558676317334175,
      -0.026301544159650803,
      0.07751823961734772,
      -0.007083036005496979,
      0.0022728340700268745,
      0.10808065533638,
      -0.058063410222530365,
      -0.017533179372549057,
      -0.09010525792837143,
      -0.06269793212413788,
      0.00021281911176629364,
      -0.06341756880283356,
      -0.011599814519286156,
      -0.05779280140995979,
      0.08741477876901627,
      0.010143555700778961,
      0.00027947183116339147,
      -0.11095355451107025,
      0.049115218222141266,
      0.021978693082928658,
      -0.035227905958890915,
      0.08017028868198395,
      -0.0054627954959869385,
      0.022390199825167656,
      -0.05634268373250961,
      -0.05624178797006607,
      -0.03410919010639191,
      -0.022464323788881302,
      0.0010901292553171515,
      -0.027764681726694107,
      0.03536739572882652,
      -0.0038495368789881468,
      0.08160045742988586,
      -0.014220386743545532,
      0.05168384313583374,
      0.06783945113420486,
      0.03347359970211983,
      -0.033889468759298325,
      0.015430246479809284,
      0.02190678007900715,
      -0.04995447397232056,
      0.011694922111928463,
      -0.0677570030093193,
      -0.10337662696838379,
      0.13296769559383392,
      0.03477257862687111,
      -0.009654254652559757,
      0.009066122584044933,
      0.07326694577932358,
      0.02399531751871109,
      -0.03384464979171753,
      -0.03765525668859482,
      -0.035930853337049484,
      -0.057541247457265854,
      -0.062005192041397095,
      -0.12157869338989258,
      0.039434339851140976,
      0.08461381494998932,
      -0.009163101203739643,
      -0.015377010218799114,
      0.057406436651945114,
      0.07022156566381454,
      -0.05121948570013046,
      -0.048499930649995804,
      -0.0009004378807730973,
      -0.003002732992172241,
      -0.043322496116161346,
      -0.04310202971100807,
      -0.03026764653623104,
      0.018380818888545036,
      -0.019802967086434364,
      -0.008909877389669418,
      -0.11732728034257889,
      -0.030576948076486588,
      0.029253406450152397,
      0.02603066898882389,
      0.038857150822877884,
      -0.008764049038290977,
      -0.031464263796806335,
      -0.006895425263792276,
      -0.06268182396888733,
      -0.0042478484101593494,
      0.018613221123814583,
      0.015424764715135098,
      0.04099731147289276,
      0.08216886222362518,
      0.037603676319122314,
      0.0242267157882452,
      -0.0020941258408129215,
      -0.016233131289482117,
      0.021467696875333786,
      0.08264622092247009,
      -1.0139084177998596e-33,
      -0.07172201573848724,
      -0.12880507111549377,
      0.040287990123033524,
      0.038047581911087036,
      0.053923554718494415,
      -0.04702293500304222,
      -0.015510424971580505,
      -0.023645084351301193,
      -0.0257699154317379,
      -0.032520223408937454,
      -0.00417484762147069,
      0.023916905745863914,
      -0.09881678223609924,
      0.09411350637674332,
      0.0024787583388388157,
      -0.05087059363722801,
      0.018597695976495743,
      0.01007864624261856,
      0.07341828942298889,
      0.06555553525686264,
      -0.0009712582686915994,
      -0.05544430390000343,
      -0.04547066614031792,
      -0.029816458001732826,
      -0.0600849986076355,
      -0.0023177398834377527,
      -0.03597051277756691,
      0.018415285274386406,
      -0.08478344231843948,
      0.018257277086377144,
      -0.03931785374879837,
      0.031021704897284508,
      0.03654387965798378,
      -0.0074474746361374855,
      -0.0615738183259964,
      0.006394552066922188,
      -0.05420056730508804,
      -0.01914370246231556,
      -0.0025912029668688774,
      -0.05182112380862236,
      0.01419988926500082,
      0.028147591277956963,
      -0.09088432043790817,
      -0.032508064061403275,
      0.017193671315908432,
      0.032771553844213486,
      -0.059904783964157104,
      0.038101259618997574,
      0.04987213760614395,
      -0.010791928507387638,
      0.05021340027451515,
      0.026893047615885735,
      0.009281321428716183,
      -0.048077382147312164,
      -0.03242572024464607,
      -0.051426682621240616,
      0.041722141206264496,
      0.031346987932920456,
      0.08114933222532272,
      -0.07840900868177414,
      0.08313048630952835,
      0.08493416756391525,
      0.014728246256709099,
      0.04381139948964119,
      0.03247814625501633,
      0.04701406881213188,
      0.0437186062335968,
      0.11682289093732834,
      0.007847717963159084,
      -0.07633063197135925,
      -0.003757067024707794,
      0.030216526240110397,
      0.010286989621818066,
      0.03020080365240574,
      -0.013788756914436817,
      -0.012970608659088612,
      0.02285623922944069,
      -0.006506231613457203,
      0.012970229610800743,
      -0.05248687043786049,
      0.03168756142258644,
      -0.06467398256063461,
      -0.023389771580696106,
      -0.05185851827263832,
      0.01302088238298893,
      -0.03508570045232773,
      -0.05321450158953667,
      -0.01274123415350914,
      -0.03582441434264183,
      -0.05039671063423157,
      -0.09435829520225525,
      -0.025513838976621628,
      0.025118935853242874,
      -0.013082985766232014,
      -0.05832100287079811,
      -3.271613836689513e-33,
      0.16797465085983276,
      0.057695578783750534,
      0.0432707741856575,
      0.08016800880432129,
      0.010798036120831966,
      0.012219629250466824,
      -0.01184583455324173,
      0.08970054239034653,
      0.08323498070240021,
      0.10427264124155045,
      -0.03171899542212486,
      0.013937199488282204,
      0.010413833893835545,
      -0.11128092557191849,
      0.10093753784894943,
      0.07878657430410385,
      -0.046698570251464844,
      0.0635453388094902,
      0.00766014913097024,
      -0.05943766236305237,
      -0.006290003191679716,
      -0.06351863592863083,
      0.007612929679453373,
      0.048756226897239685,
      -0.0639432817697525,
      -0.0584346242249012,
      -0.07494395971298218,
      -0.05517008900642395,
      0.00031404083711095154,
      -0.0016889030812308192,
      0.06245556101202965,
      0.06181163340806961,
      0.014700609259307384,
      0.0004870362172368914,
      -0.050639647990465164,
      -0.02070636861026287,
      -0.004885942209511995,
      0.07503627240657806,
      -0.005694113206118345,
      0.023805975914001465,
      0.044332604855298996,
      0.04317348822951317,
      -0.08676416426897049,
      0.03821435198187828,
      0.003570248605683446,
      -0.07030374556779861,
      0.02962559275329113,
      -0.027761200442910194,
      0.039846401661634445,
      0.043456871062517166,
      -0.03508298844099045,
      0.06609765440225601,
      -0.03689435124397278,
      0.015400977805256844,
      -0.020849769935011864,
      0.06602330505847931,
      -0.030454561114311218,
      -0.061938587576150894,
      -0.056717399507761,
      -0.056471966207027435,
      -0.08904607594013214,
      -0.03603625297546387,
      0.014547832310199738,
      -0.06530442088842392,
      0.053285278379917145,
      -0.04284346103668213,
      -0.07318203151226044,
      -0.059015870094299316,
      -0.08580190688371658,
      0.05345233902335167,
      0.03641346096992493,
      0.019818570464849472,
      -0.014174140989780426,
      -0.00328906811773777,
      -0.053051214665174484,
      -0.008792734704911709,
      0.021332507953047752,
      0.008441073819994926,
      -0.006295839324593544,
      0.036887526512145996,
      -0.0052755847573280334,
      0.014179093763232231,
      -0.05232958123087883,
      0.007857328280806541,
      -0.059299614280462265,
      -0.08329454809427261,
      -0.014511524699628353,
      0.06288094818592072,
      0.04735562205314636,
      0.040976136922836304,
      -0.02546883188188076,
      -0.100107841193676,
      0.08511928468942642,
      -0.007403884548693895,
      -0.0657731294631958,
      -3.6655901425319826e-08,
      -0.0666472315788269,
      -0.05663805082440376,
      -0.012490084394812584,
      0.01783687248826027,
      -0.0956859141588211,
      -0.015331304632127285,
      -0.05163520202040672,
      0.025171631947159767,
      0.07844098657369614,
      -0.03132125735282898,
      0.06341807544231415,
      0.05201122164726257,
      -0.018155815079808235,
      0.0038879981730133295,
      -0.021046722307801247,
      0.04173235222697258,
      -0.0335698276758194,
      0.04867235943675041,
      0.0012635024031624198,
      0.035786401480436325,
      0.04729563370347023,
      -0.04250943288207054,
      0.03292228654026985,
      0.01724475994706154,
      -0.04078889265656471,
      0.008158310316503048,
      -0.09905937314033508,
      -0.011986878700554371,
      -0.013547895476222038,
      -0.03258034959435463,
      -0.00016115365724544972,
      -0.03293752670288086,
      0.0023333122953772545,
      0.058245789259672165,
      -0.03379889950156212,
      -0.04994327947497368,
      0.0925922766327858,
      0.017837710678577423,
      0.039723534137010574,
      -0.007893557660281658,
      -0.06881014257669449,
      -0.09607081860303879,
      -0.0942881852388382,
      0.0012786744628101587,
      -0.006201548967510462,
      -0.018394574522972107,
      -0.054875265806913376,
      0.03528013825416565,
      -0.04527204483747482,
      0.1128942146897316,
      0.032225433737039566,
      0.033003613352775574,
      -0.09413547068834305,
      -0.0428038164973259,
      0.02731236070394516,
      0.026570741087198257,
      0.027969200164079666,
      0.08889982104301453,
      0.030515072867274284,
      -0.10250744968652725,
      0.051062025129795074,
      0.018232079222798347,
      0.05251174420118332,
      0.005790471099317074
    ]
  },
  {
    "id": "chat.py_get_db",
    "filename": "chat.py",
    "function_name": "get_db",
    "text": "## Function: get_db (chat.py)\n\n```python\ndef get_db():\n    db = SessionLocal()\n    try:\n        yield db\n    finally:\n        db.close()\n```\n",
    "embedding": [
      -0.00858496967703104,
      0.037550292909145355,
      -0.01638578064739704,
      0.07190222293138504,
      -0.0252755805850029,
      -0.07622738182544708,
      0.10937103629112244,
      0.011339938268065453,
      0.021276801824569702,
      -0.024888062849640846,
      -0.02521459572017193,
      -0.00788575317710638,
      -0.04407073184847832,
      0.010893136262893677,
      0.06777323782444,
      0.028030671179294586,
      -0.008301211521029472,
      -0.06495404243469238,
      0.0599190779030323,
      0.027869265526533127,
      0.021082883700728416,
      0.13526925444602966,
      0.06869141757488251,
      0.07786057144403458,
      0.005788426846265793,
      -0.08903378993272781,
      -0.026312217116355896,
      0.025784438475966454,
      -0.019071348011493683,
      0.014897710643708706,
      0.02942053973674774,
      0.07026651501655579,
      -0.07598701119422913,
      0.02981465682387352,
      0.03624732792377472,
      0.04009265825152397,
      -0.01052408292889595,
      -0.03693082556128502,
      0.09617543965578079,
      -0.0005608859937638044,
      -0.03072896972298622,
      -0.06139034777879715,
      -0.0883561372756958,
      0.04558839276432991,
      0.01008613407611847,
      -0.029009103775024414,
      -0.12634944915771484,
      0.05102831497788429,
      0.03787451237440109,
      -0.011323093436658382,
      -0.03746968135237694,
      0.06606288254261017,
      -0.014523657970130444,
      0.04561643302440643,
      0.06208282336592674,
      0.08824768662452698,
      0.0371645987033844,
      0.05266723409295082,
      -0.03606902062892914,
      0.0665338858962059,
      -0.08671659231185913,
      -0.015736810863018036,
      -0.008262468501925468,
      0.019283780828118324,
      -0.06468065083026886,
      -0.02100505121052265,
      -0.013910915702581406,
      -0.012869358994066715,
      0.06739514321088791,
      -0.005294008180499077,
      -0.04607778787612915,
      -0.04084052890539169,
      -0.06206861510872841,
      -0.036530155688524246,
      0.001472272677347064,
      -0.08207090198993683,
      0.038693446666002274,
      -0.07417841255664825,
      -0.0614713616669178,
      0.06364130973815918,
      -0.10487645864486694,
      -0.09124590456485748,
      0.030077092349529266,
      -0.016143616288900375,
      0.005877000279724598,
      -0.043642159551382065,
      0.020132223144173622,
      0.002693010261282325,
      -0.00040202116360887885,
      -0.020158084109425545,
      -0.06715867668390274,
      0.0038135198410600424,
      -0.06932549178600311,
      0.07660488039255142,
      -0.07635688781738281,
      0.009795286692678928,
      0.04619361087679863,
      -0.025982826948165894,
      0.04418404400348663,
      0.0605107843875885,
      -0.004911315627396107,
      0.08044076710939407,
      0.00558121083304286,
      -0.0763532966375351,
      0.03225507587194443,
      0.028912529349327087,
      -0.007679385133087635,
      -0.08073393255472183,
      -0.01611800119280815,
      -0.012964967638254166,
      -0.07135135680437088,
      0.022197451442480087,
      0.009227068163454533,
      0.038955554366111755,
      0.05858098715543747,
      0.06525654345750809,
      -0.0059801312163472176,
      -0.0017372685251757503,
      -0.002261557150632143,
      0.04392882436513901,
      0.16366776823997498,
      0.017143085598945618,
      -0.007550565991550684,
      0.05145658180117607,
      -0.04384634643793106,
      0.05230236425995827,
      0.05480407550930977,
      -9.777203650323147e-34,
      0.025264983996748924,
      -0.14216262102127075,
      0.05881396681070328,
      0.04835999384522438,
      0.01976882852613926,
      0.09339483827352524,
      -0.009548960253596306,
      0.0010132231982424855,
      -0.06851980835199356,
      0.04462529346346855,
      -0.09437132626771927,
      -0.010820124298334122,
      0.02575683780014515,
      -0.0608052983880043,
      0.008947163820266724,
      0.05372659116983414,
      -0.0329863466322422,
      0.024271182715892792,
      0.05914274603128433,
      0.061778757721185684,
      0.008170275017619133,
      0.002446959260851145,
      0.036477889865636826,
      0.046133220195770264,
      0.051350466907024384,
      0.08718910068273544,
      -0.01998777501285076,
      -0.020029081031680107,
      -0.037965938448905945,
      0.022966254502534866,
      -0.07838494330644608,
      -0.0635175108909607,
      -0.0031379691790789366,
      -0.0012227895203977823,
      0.0066649215295910835,
      -0.027616897597908974,
      -0.007381588686257601,
      -0.0013747072080150247,
      -0.09676574915647507,
      -0.07002723217010498,
      -0.02189652808010578,
      0.0016914528096094728,
      -0.04489907994866371,
      -0.020484477281570435,
      -0.05312541127204895,
      -0.021479202434420586,
      -0.05441977456212044,
      0.04614797607064247,
      -0.006235434208065271,
      -0.004182168748229742,
      -0.07021462917327881,
      -0.004213816020637751,
      -0.013243165798485279,
      0.06052066758275032,
      -0.020549342036247253,
      -0.03849809989333153,
      0.0282573401927948,
      0.010280626825988293,
      0.06283225119113922,
      -0.07146033644676208,
      0.031585048884153366,
      -0.07258110493421555,
      0.0018817739328369498,
      -0.08710844814777374,
      0.014620408415794373,
      -0.026921726763248444,
      -0.04673364385962486,
      0.0507303848862648,
      0.028198201209306717,
      -0.014972282573580742,
      -0.007220455911010504,
      0.04551517963409424,
      -0.0002697856689337641,
      -0.05907013639807701,
      -0.0029758168384432793,
      0.026050487533211708,
      -0.056466203182935715,
      -0.033290691673755646,
      0.006230266764760017,
      0.03871169686317444,
      0.1362338662147522,
      -0.00859718769788742,
      -0.07433735579252243,
      -0.017657529562711716,
      -0.002020720625296235,
      -0.008289958350360394,
      0.029126273468136787,
      -0.024074506014585495,
      -0.03738625720143318,
      0.03279360011219978,
      -0.166134312748909,
      -0.0499010905623436,
      0.04610181972384453,
      -0.05760340765118599,
      -0.05097397789359093,
      -2.0248799364325866e-33,
      0.07579927146434784,
      -0.0014580206479877234,
      -0.04711262881755829,
      -0.018102608621120453,
      0.07459773868322372,
      -0.042187243700027466,
      0.09102177619934082,
      -0.019693424925208092,
      -0.05317302048206329,
      -0.035161297768354416,
      0.008587720803916454,
      -0.035127170383930206,
      0.09183398634195328,
      0.011943795718252659,
      0.06259139627218246,
      0.11688493937253952,
      -0.02391156367957592,
      -0.018170779570937157,
      -0.033204447478055954,
      0.04431840032339096,
      -0.070895254611969,
      -0.019318165257573128,
      -0.010268859565258026,
      -0.023358454927802086,
      -0.05976497009396553,
      -0.05424278974533081,
      -0.01354201789945364,
      -0.09174732118844986,
      -0.01880483701825142,
      -0.006898634601384401,
      -0.011278786696493626,
      -0.004807320423424244,
      -0.08455929160118103,
      0.09086278080940247,
      0.0006801622221246362,
      0.030666641891002655,
      0.04191603511571884,
      -0.04855216667056084,
      0.006886843591928482,
      0.04440521448850632,
      0.13925902545452118,
      0.0747210904955864,
      -0.11159846186637878,
      -0.03338690102100372,
      0.018671637400984764,
      0.05673883482813835,
      -0.07510343194007874,
      0.022241642698645592,
      -0.07864633947610855,
      -0.04653405025601387,
      0.052730366587638855,
      -0.08643753081560135,
      0.032032810151576996,
      -0.06902730464935303,
      -0.03965874761343002,
      -0.046119265258312225,
      0.04903653264045715,
      0.013119871728122234,
      -0.021474318578839302,
      -0.019222097471356392,
      -0.022497426718473434,
      -0.03266332298517227,
      -0.03861086815595627,
      0.020739611238241196,
      -0.048934001475572586,
      -0.037166282534599304,
      -0.0665140375494957,
      0.08986429125070572,
      0.02921549417078495,
      -0.05431794002652168,
      0.02091200463473797,
      0.025190431624650955,
      0.03154633939266205,
      0.11345731467008591,
      0.022661592811346054,
      0.12855744361877441,
      -0.10231141000986099,
      -0.08625167608261108,
      0.014250366948544979,
      0.09106096625328064,
      0.025682050734758377,
      -0.04594377800822258,
      0.047473832964897156,
      0.008753947913646698,
      -0.005974092986434698,
      -0.06160071864724159,
      0.013784073293209076,
      0.04989444091916084,
      -0.04647953063249588,
      -0.06989576667547226,
      -0.06355144828557968,
      0.022878659889101982,
      -0.028001241385936737,
      0.04640330746769905,
      0.09052060544490814,
      -2.700084777984557e-08,
      -0.03067968040704727,
      -0.07008878886699677,
      0.08199772983789444,
      -0.021088963374495506,
      0.05888235196471214,
      0.020993806421756744,
      0.009100028313696384,
      0.06167682632803917,
      0.01701236516237259,
      0.03853802755475044,
      0.017536984756588936,
      -0.0523727685213089,
      0.05397392809391022,
      0.026479201391339302,
      -0.028038550168275833,
      0.02168729156255722,
      0.0336126871407032,
      0.04551541432738304,
      0.027730923146009445,
      -0.04235352948307991,
      -0.006363892927765846,
      -9.944970952346921e-05,
      0.004626656882464886,
      -0.007757276296615601,
      -0.01881716214120388,
      -0.035380177199840546,
      -0.01870645023882389,
      0.06578630208969116,
      -0.08484295010566711,
      -0.10020289570093155,
      0.024130910634994507,
      -0.012614487670361996,
      -0.03430600464344025,
      0.03487000614404678,
      0.007890310138463974,
      0.04775622487068176,
      -0.0015950212255120277,
      -0.01574745960533619,
      0.016608400270342827,
      0.1116207167506218,
      -0.050017278641462326,
      -0.07061509788036346,
      -0.034742314368486404,
      -0.006462411023676395,
      -0.01910577155649662,
      -0.004270592238754034,
      -0.004204694647341967,
      0.01904989220201969,
      0.03134592995047569,
      0.022215813398361206,
      0.022242028266191483,
      -0.04308527708053589,
      -0.0320926234126091,
      -0.009093202650547028,
      0.009471461176872253,
      0.008819881826639175,
      -0.00045737758046016097,
      -0.022281823679804802,
      -0.027981923893094063,
      -0.05356477573513985,
      -0.04398651421070099,
      0.0903199091553688,
      0.027536706998944283,
      -0.012786197476089
    ]
  },
  {
    "id": "chat.py_get_feedback",
    "filename": "chat.py",
    "function_name": "get_feedback",
    "text": "## Function: get_feedback (chat.py)\n\n```python\n@router.get(\"/generate_feedback\")\ndef get_feedback(\n    track_id: str = Form(...),\n    session_id: str = Form(...),\n    genre: str = Form(...),\n    type: str = Form(...),\n    feedback_profile: str = Form(...),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Handle a request to generate AI mixing/mastering feedback for a given audio track.\n\n    This function normalizes user inputs, fetches audio analysis data, builds\n    an AI prompt, sends it for feedback generation, saves the feedback in the\n    database, and returns it to the client.\n\n    Parameters:\n        track_id (str): Unique identifier of the audio track.\n        session_id (str): Current user session identifier.\n        genre (str): Genre of the track, used to tailor feedback.\n        type (str): Feedback type ('mixdown', 'mastering', 'master review').\n        feedback_profile (str): Detail level ('simple', 'detailed', 'pro').\n        db (Session): Database session for querying track data.\n\n    Returns:\n        dict: JSON response containing AI feedback text, or error message if analysis not found.\n    \"\"\"\n\n    genre = normalize_genre(genre)\n    type = normalize_type(type)\n    feedback_profile = normalize_profile(feedback_profile)\n\n    # Fetch track and analysis\n    track = db.query(Track).filter(Track.id == track_id).first()\n    if not track or not track.analysis:\n        return {\"error\": \"Track analysis not found\"}\n\n    analysis = {\n        \"peak_db\": track.analysis.peak_db,\n        \"rms_db\": track.analysis.rms_db,\n        \"lufs\": track.analysis.lufs,\n        \"dynamic_range\": track.analysis.dynamic_range,\n        \"stereo_width\": track.analysis.stereo_width,\n        \"key\": track.analysis.key,\n        \"tempo\": track.analysis.tempo,\n        \"low_end_energy_ratio\": track.analysis.low_end_energy_ratio,\n        \"bass_profile\": track.analysis.bass_profile,\n        \"band_energies\": json.loads(track.analysis.band_energies),\n        \"issues\": json.loads(track.analysis.issues),\n    }\n\n    prompt = generate_feedback_prompt(genre, type, analysis, feedback_profile)\n    feedback = generate_feedback_response(prompt)\n\n    chat = ChatMessage(\n        session_id=session_id,\n        track_id=track.id,\n        sender=\"assistant\",\n        message=feedback,\n        feedback_profile=feedback_profile\n    )\n    db.add(chat)\n    db.commit()\n\n    return {\"feedback\": feedback}\n```\n",
    "embedding": [
      -0.046185508370399475,
      -0.05158507078886032,
      -0.0690038800239563,
      0.03519280254840851,
      -0.01842821203172207,
      -0.014102516695857048,
      0.03227438032627106,
      0.01920519396662712,
      0.006604882888495922,
      -0.09198851883411407,
      -0.07644413411617279,
      -0.05500787869095802,
      -0.0027452593203634024,
      -0.054943762719631195,
      0.026243077591061592,
      0.0611630380153656,
      0.06931240856647491,
      -0.03923210874199867,
      0.017041468992829323,
      -0.09219369292259216,
      0.05980835482478142,
      0.1326119303703308,
      0.08816557377576828,
      0.05659744143486023,
      -0.05310865491628647,
      -0.05501503124833107,
      -0.009355025365948677,
      0.0395871177315712,
      0.023908132687211037,
      -0.029706625267863274,
      0.10105480998754501,
      0.04034944996237755,
      0.013474714010953903,
      0.0243856068700552,
      -0.059330347925424576,
      -0.008516272529959679,
      -0.061266154050827026,
      -0.0071707917377352715,
      0.05059357360005379,
      -0.05316409468650818,
      -0.031227659434080124,
      -0.01858793944120407,
      0.022863399237394333,
      -0.0008678243029862642,
      -0.06450159847736359,
      -0.014976190403103828,
      -0.13559696078300476,
      0.007594536989927292,
      -0.006603870075196028,
      0.05742381513118744,
      -0.0569736547768116,
      -0.00040833227103576064,
      0.023492643609642982,
      0.03985529765486717,
      -0.019562380388379097,
      0.07159514725208282,
      0.011588064022362232,
      0.067986398935318,
      0.006663826294243336,
      -0.03298946097493172,
      -0.1010647639632225,
      -0.06458531320095062,
      0.04541948810219765,
      -0.043934136629104614,
      -0.01192769780755043,
      -0.018669242039322853,
      -0.06277438998222351,
      0.039617251604795456,
      0.01054493710398674,
      0.007646873127669096,
      -0.06262630969285965,
      0.008013308048248291,
      -0.04031747579574585,
      0.03324996680021286,
      0.03395019471645355,
      -0.012968399561941624,
      -0.03812119737267494,
      -0.008032480254769325,
      -0.059133876115083694,
      0.037127312272787094,
      -0.006165813654661179,
      -0.040147095918655396,
      -0.004741189070045948,
      -0.039602309465408325,
      0.03609669208526611,
      -0.05810510367155075,
      0.07449451833963394,
      -0.02413073182106018,
      0.04388367384672165,
      0.019340571016073227,
      -0.09760713577270508,
      -0.014679367654025555,
      -0.011758128181099892,
      0.00281429011374712,
      -0.029624497517943382,
      0.07657420635223389,
      -0.013552757911384106,
      -0.048006679862737656,
      0.06292972713708878,
      0.0819571390748024,
      0.021456768736243248,
      0.014215446077287197,
      -0.013659362681210041,
      -0.023470783606171608,
      -0.002491212449967861,
      -0.011886483058333397,
      0.015889892354607582,
      0.06869243085384369,
      0.041795674711465836,
      -0.029916370287537575,
      -0.09464415162801743,
      0.01828847825527191,
      -0.018925871700048447,
      0.016498971730470657,
      0.1416279375553131,
      0.07594359666109085,
      -0.00041672997758723795,
      0.06982558965682983,
      0.02326309122145176,
      0.06057421863079071,
      0.10257846862077713,
      -0.0468839630484581,
      -0.0026755521539598703,
      0.057320427149534225,
      -0.012514830566942692,
      -0.0035848598927259445,
      0.027870625257492065,
      7.378089475271938e-34,
      0.015278426930308342,
      -0.008765948005020618,
      0.027902746573090553,
      0.036707907915115356,
      0.02816150337457657,
      0.03424563631415367,
      -0.030246153473854065,
      0.010119215585291386,
      -0.006719499360769987,
      -0.0053291767835617065,
      -0.12024153769016266,
      0.024016324430704117,
      0.007115322630852461,
      -0.010369529947638512,
      0.0013797323917970061,
      -0.032916851341724396,
      -0.089528888463974,
      0.10536903142929077,
      0.016804516315460205,
      0.017476612702012062,
      0.0408291220664978,
      0.015303163789212704,
      0.020007142797112465,
      0.028379719704389572,
      0.08142183721065521,
      0.05213912948966026,
      0.005247351247817278,
      0.022584006190299988,
      -0.018931575119495392,
      -0.020583564415574074,
      -0.07503924518823624,
      -0.04758981242775917,
      -0.018524033948779106,
      -0.04196591675281525,
      0.0016669642645865679,
      0.04910972714424133,
      -0.02053288370370865,
      0.008053336292505264,
      -0.0559261180460453,
      -0.05363529548048973,
      0.01951385848224163,
      -0.01067407801747322,
      -0.04029082879424095,
      -0.017012186348438263,
      -0.13967876136302948,
      -0.026666315272450447,
      -0.07441403716802597,
      0.06990868598222733,
      -0.03194253519177437,
      0.012172388844192028,
      -0.04731154814362526,
      0.0016033228021115065,
      0.038541555404663086,
      0.01218964159488678,
      0.020369000732898712,
      -0.0901854857802391,
      0.03204860910773277,
      0.025362785905599594,
      0.04279312863945961,
      -0.05123492330312729,
      0.10210267454385757,
      0.01619154028594494,
      0.004799263086169958,
      -0.0974748358130455,
      0.004433324560523033,
      0.05804426968097687,
      0.03992312401533127,
      0.018439803272485733,
      0.12013966590166092,
      -0.025457873940467834,
      -0.07732424139976501,
      0.06495724618434906,
      -0.043678849935531616,
      -0.046151138842105865,
      -0.013054552488029003,
      -0.06386035680770874,
      -0.13733722269535065,
      -0.07057986408472061,
      -0.00027318563661538064,
      0.01182517409324646,
      -0.036326244473457336,
      0.045388415455818176,
      -0.11582499742507935,
      0.04839441552758217,
      0.006685812957584858,
      -0.012852352112531662,
      0.020631158724427223,
      -0.05175284296274185,
      -0.04711116477847099,
      0.011156117543578148,
      -0.12803007662296295,
      0.02265186980366707,
      -0.02754715457558632,
      0.035508058965206146,
      0.004668907728046179,
      -1.8669447398889274e-33,
      -0.010167698375880718,
      0.010904611088335514,
      -0.010825208388268948,
      0.03687751293182373,
      0.025412049144506454,
      -0.03719441592693329,
      0.07472854852676392,
      0.023431137204170227,
      0.05852062627673149,
      -0.02251642756164074,
      0.0028656728100031614,
      -0.09622298181056976,
      0.021891355514526367,
      -0.04289702698588371,
      0.04096342995762825,
      -0.03216926008462906,
      -0.10105999559164047,
      0.026948807761073112,
      0.03354876860976219,
      0.0024895837996155024,
      -0.021495219320058823,
      0.08559811860322952,
      -0.032953809946775436,
      -0.012162184342741966,
      -0.060131341218948364,
      -0.006072960328310728,
      0.04043528810143471,
      0.021049056202173233,
      0.05990855395793915,
      -0.0012892675586044788,
      -0.019187267869710922,
      0.004952266346663237,
      -0.09789562970399857,
      -0.007406324148178101,
      0.006521479692310095,
      0.004675139207392931,
      0.06062164530158043,
      0.03286677598953247,
      -0.019474396482110023,
      0.025220712646842003,
      0.10490802675485611,
      0.06221318989992142,
      -0.05636429041624069,
      0.014139298349618912,
      0.006971558555960655,
      -0.0015927748754620552,
      -0.02740241214632988,
      0.08186725527048111,
      -0.04644182324409485,
      -0.01598486490547657,
      0.08680130541324615,
      -0.035787198692560196,
      0.02390461228787899,
      -0.05395051836967468,
      -0.07760892063379288,
      -0.036338116973638535,
      0.026964323595166206,
      -0.04853753000497818,
      -0.011768191121518612,
      0.019315369427204132,
      -0.05385052040219307,
      -0.028869520872831345,
      -0.02955486625432968,
      -0.028412703424692154,
      0.0002624894550535828,
      -0.005058250389993191,
      0.011486062780022621,
      0.024082545191049576,
      0.06718744337558746,
      0.025516970083117485,
      0.012736091390252113,
      0.020658399909734726,
      0.091481052339077,
      0.1020154133439064,
      0.10431791841983795,
      0.04923634231090546,
      -0.1382269710302353,
      -0.10806359350681305,
      -0.056281354278326035,
      0.0011168222408741713,
      -0.08118678629398346,
      -0.009006942622363567,
      0.06380356103181839,
      -0.004803591873496771,
      0.01614665985107422,
      0.013850953429937363,
      0.03405134752392769,
      0.06650759279727936,
      -0.012187205255031586,
      0.002507528057321906,
      0.06334036588668823,
      0.06515218317508698,
      -0.023076551035046577,
      0.05685735493898392,
      -0.05348972603678703,
      -5.73350646959625e-08,
      -0.050592221319675446,
      -0.0059913392178714275,
      0.04665431007742882,
      0.08987680822610855,
      0.021763920783996582,
      0.04970741271972656,
      0.02410988323390484,
      -0.07801021635532379,
      0.04977722093462944,
      -0.06740433722734451,
      0.03678879886865616,
      -0.044323958456516266,
      0.02107764221727848,
      0.01226278580725193,
      0.018502868711948395,
      -0.012828147038817406,
      0.0026045034173876047,
      0.14206311106681824,
      -0.036818575114011765,
      -0.06844741106033325,
      0.06782495230436325,
      -0.013365490362048149,
      -0.06614773720502853,
      -0.054527875036001205,
      0.0601947121322155,
      -0.054235417395830154,
      0.03703015670180321,
      0.10860904306173325,
      -0.13016405701637268,
      -0.034222789108753204,
      0.03253206983208656,
      0.038597967475652695,
      -0.0029278548900038004,
      0.01213663350790739,
      -0.00022578987409360707,
      0.06474960595369339,
      -0.02388729341328144,
      -0.03481372818350792,
      0.008546077646315098,
      0.060238052159547806,
      -0.10807652026414871,
      0.06997887045145035,
      -0.07832781970500946,
      -0.03915049880743027,
      0.01834319531917572,
      -0.001823601545765996,
      -0.00542390625923872,
      -0.09246407449245453,
      0.03374578058719635,
      0.03177359327673912,
      -0.04215947538614273,
      -0.03493425250053406,
      0.014251548796892166,
      0.03162585571408272,
      0.09370596706867218,
      0.03280026838183403,
      -0.044580355286598206,
      -0.004994750954210758,
      -0.04287342354655266,
      -0.023600809276103973,
      -0.0003287770668976009,
      0.11490753293037415,
      0.03274477645754814,
      0.007900473661720753
    ]
  },
  {
    "id": "chat.py_ask_followup",
    "filename": "chat.py",
    "function_name": "ask_followup",
    "text": "## Function: ask_followup (chat.py)\n\n```python\n@router.post(\"/ask-followup\")\ndef ask_followup(req: FollowUpRequest, db: Session = Depends(get_db)):\n    \"\"\"\n        Fetches the main track and optional reference track analysis from the database.\n        Retrieves the previous follow-up summary if available to provide context for the AI prompt.\n\n        Parameters:\n            req (FollowUpRequest): The follow-up request containing session, track, and follow-up group info.\n            db (Session): Database session for querying data.\n\n        Returns:\n            tuple: (main_track, ref_analysis, summary_text)\n                main_track: The primary Track object or None if not found.\n                ref_analysis: Dict of reference track analysis data or None.\n                summary_text: Previous follow-up summary string or empty string.\n        \"\"\"\n\n    profile = normalize_profile(req.feedback_profile)\n    user_question = sanitize_user_question(req.user_question)\n\n    # 1. Fetch main track\n    main_track = db.query(Track).filter(Track.id == req.track_id).first()\n    if not main_track:\n        raise HTTPException(status_code=404, detail=\"Main track not found\")\n\n    # 2. Fetch reference track by upload_group_id\n    ref_track = (\n        db.query(Track)\n        .filter(\n            Track.upload_group_id == main_track.upload_group_id,\n            Track.type == \"reference\"\n        )\n        .order_by(Track.uploaded_at.desc())\n        .first()\n    )\n\n    ref_analysis = None\n    if ref_track and ref_track.analysis:\n        ref_analysis = {\n            \"peak_db\": ref_track.analysis.peak_db,\n            \"rms_db_peak\": ref_track.analysis.rms_db_peak,\n            \"lufs\": ref_track.analysis.lufs,\n            \"transient_description\": ref_track.analysis.transient_description,\n            \"spectral_balance_description\": ref_track.analysis.spectral_balance_description,\n            \"dynamic_range\": ref_track.analysis.dynamic_range,\n            \"stereo_width\": ref_track.analysis.stereo_width,\n            \"low_end_description\": ref_track.analysis.low_end_description,\n            # add other needed fields...\n        }\n\n    # 3. Retrieve previous follow-up summary if applicable\n    summary_text = \"\"\n    if req.followup_group > 0:\n        summary_msg = (\n            db.query(ChatMessage)\n            .filter_by(\n                session_id=req.session_id,\n                track_id=req.track_id,\n                followup_group=req.followup_group - 1,\n                sender=\"assistant\",\n                feedback_profile=\"summary\"\n            )\n            .order_by(ChatMessage.timestamp.desc())\n            .first()\n        )\n        print(f\"Previous summary message for group {req.followup_group - 1}: {summary_msg.message if summary_msg else 'None'}\")\n        if summary_msg:\n            summary_text = summary_msg.message\n\n    # 3. Build prompt including ref_analysis data and summary\n    prompt = build_followup_prompt(\n        analysis_text=req.analysis_text,\n        feedback_text=req.feedback_text,\n        user_question=user_question,\n        thread_summary=summary_text,\n        ref_analysis_data=req.ref_analysis_data\n    )\n\n    try:\n        ai_response = generate_feedback_response(prompt)\n        print(\"GPT response:\", ai_response)\n    except Exception as e:\n        print(\"❌ GPT call failed:\", e)\n        raise HTTPException(status_code=500, detail=\"AI follow-up failed\")\n\n    # Save user message\n    user_msg = ChatMessage(\n        session_id=req.session_id,\n        track_id=req.track_id,\n        sender=\"user\",\n        message=user_question,\n        feedback_profile=profile,\n        followup_group=req.followup_group\n    )\n    db.add(user_msg)\n\n    # Save AI assistant response\n    assistant_msg = ChatMessage(\n        session_id=req.session_id,\n        track_id=req.track_id,\n        sender=\"assistant\",\n        message=ai_response,\n        feedback_profile=profile,\n        followup_group=req.followup_group\n    )\n    db.add(assistant_msg)\n    db.commit()\n\n\n    # --- Automatic summary creation after 4 user follow-ups ---\n    user_msgs_count = (\n        db.query(ChatMessage)\n        .filter_by(\n            session_id=req.session_id,\n            track_id=req.track_id,\n            followup_group=req.followup_group,\n            sender=\"user\"\n        )\n        .count()\n    )\n\n    response_data = {\"answer\": ai_response}\n\n    existing_summary = (\n        db.query(ChatMessage)\n        .filter_by(\n            session_id=req.session_id,\n            track_id=req.track_id,\n            followup_group=req.followup_group,\n            sender=\"assistant\",\n            feedback_profile=\"summary\"\n        )\n        .first()\n    )\n\n    if user_msgs_count >= 2 and not existing_summary:\n        # Fetch all messages in this group (user + assistant)\n        msgs = (\n            db.query(ChatMessage)\n            .filter_by(\n                session_id=req.session_id,\n                track_id=req.track_id,\n                followup_group=req.followup_group,\n            )\n            .order_by(ChatMessage.timestamp)\n            .all()\n        )\n\n        conversation = \"\\n\".join(\n            f\"{'User' if msg.sender == 'user' else 'Assistant'}: {msg.message}\"\n            for msg in msgs\n        )\n\n        summary_prompt = f\"\"\"\nSummarize this follow-up thread (up to 4 user questions and assistant responses) into a concise overall improvement strategy:\n\n{conversation}\n\"\"\"\n\n        print(f\"Generating summary for followup_group {req.followup_group} with conversation:\\n{conversation}\")\n\n        summary_text = generate_feedback_response(summary_prompt)\n\n        print(f\"✅ Auto summary saved for followup_group {req.followup_group}\")\n        print(f\"Summary content:\\n{summary_text}\\n{'-'*40}\")\n\n        summary_msg = ChatMessage(\n            session_id=req.session_id,\n            track_id=req.track_id,\n            sender=\"assistant\",\n            message=summary_text,\n            feedback_profile=\"summary\",\n            followup_group=req.followup_group\n        )\n        db.add(summary_msg)\n        db.commit()\n\n        response_data[\"summary_created\"] = True\n\n    return response_data\n```\n",
    "embedding": [
      -0.029124801978468895,
      0.014650375582277775,
      -0.054246142506599426,
      0.03545768931508064,
      0.016865326091647148,
      -0.004457258153706789,
      0.031459905207157135,
      0.03670678287744522,
      -0.004155087284743786,
      -0.04993798956274986,
      -0.009534850716590881,
      -0.016550982370972633,
      -0.014656317420303822,
      -0.03772871196269989,
      0.02974124066531658,
      0.043306656181812286,
      0.008476397953927517,
      -0.09074406325817108,
      -0.04043295606970787,
      -0.07716120034456253,
      -0.001164082670584321,
      0.07948005944490433,
      0.09022361040115356,
      0.08903831988573074,
      -0.07025006413459778,
      -0.05782278999686241,
      0.01745145209133625,
      -0.007054060231894255,
      -0.021702134981751442,
      0.06590636819601059,
      0.02937978506088257,
      0.016278183087706566,
      -0.013780329376459122,
      0.046927932649850845,
      0.015790607780218124,
      0.012196817435324192,
      -0.021032612770795822,
      -0.03360123932361603,
      0.04511569067835808,
      -0.030789203941822052,
      -0.018967540934681892,
      -0.01269850879907608,
      -0.047445207834243774,
      -0.02538371831178665,
      0.033079296350479126,
      -0.03836766630411148,
      -0.09143076837062836,
      0.024072512984275818,
      0.03783294931054115,
      0.022363360971212387,
      -0.07259760797023773,
      -0.03216000273823738,
      -0.008047603070735931,
      0.06267008185386658,
      0.020123498514294624,
      0.10118518769741058,
      -0.05405961722135544,
      0.017798680812120438,
      0.02786465547978878,
      -0.05399816110730171,
      -0.05206616222858429,
      -0.10133747011423111,
      0.07030748575925827,
      0.020004739984869957,
      -0.04803662747144699,
      -0.04877009987831116,
      -0.051008209586143494,
      0.0451088547706604,
      0.08219882845878601,
      0.04907985031604767,
      -0.042982522398233414,
      0.025000302121043205,
      -0.03243149444460869,
      0.033529866486787796,
      -0.021581526845693588,
      0.012585537508130074,
      -0.025585530325770378,
      -0.05796463042497635,
      -0.045110005885362625,
      -0.02314363606274128,
      -0.09407033026218414,
      -0.10461782664060593,
      0.010853873565793037,
      0.05565423518419266,
      0.07762521505355835,
      -0.06881603598594666,
      0.08884795010089874,
      -0.027592673897743225,
      -0.012529458850622177,
      0.02213720791041851,
      -0.010686179623007774,
      -0.003990890458226204,
      -0.00363546353764832,
      -0.0271071195602417,
      -0.010909702628850937,
      0.1127995103597641,
      -0.09734144806861877,
      -0.058444682508707047,
      0.01702932082116604,
      0.07189062982797623,
      0.023957310244441032,
      0.02832370065152645,
      0.030702240765094757,
      -0.011796548962593079,
      -0.04808842018246651,
      0.0417269766330719,
      0.03104102425277233,
      0.002957015996798873,
      0.043571826070547104,
      0.03193698078393936,
      -0.06877807527780533,
      0.0020592864602804184,
      0.026188930496573448,
      -0.006479657720774412,
      0.08157184720039368,
      -0.0270867720246315,
      0.09782592207193375,
      0.05781206861138344,
      0.012731164693832397,
      0.051440320909023285,
      0.15726524591445923,
      -0.01673726737499237,
      0.019792400300502777,
      0.04745637997984886,
      0.03101150318980217,
      -0.0010095235193148255,
      0.03447108343243599,
      4.950791721133811e-33,
      0.0806502252817154,
      -0.04071298986673355,
      0.05614706128835678,
      -0.055922821164131165,
      -0.029472555965185165,
      0.04802952706813812,
      -0.016490774229168892,
      0.05187688022851944,
      0.013417706824839115,
      -0.04507104679942131,
      -0.05382397398352623,
      0.018121713772416115,
      0.04166780412197113,
      -0.05597430467605591,
      -0.025897573679685593,
      -0.04574427381157875,
      -0.04465622827410698,
      0.10774333029985428,
      0.04080735146999359,
      0.033172544091939926,
      0.03217681124806404,
      -0.05691411346197128,
      -0.030036089941859245,
      0.027483345940709114,
      0.0661197304725647,
      0.013585745356976986,
      0.02248193323612213,
      0.010825330391526222,
      -0.04698912426829338,
      -0.01612551137804985,
      -0.042706456035375595,
      -0.034731701016426086,
      -0.08752984553575516,
      -0.032293543219566345,
      -0.00283823418430984,
      -0.001958180218935013,
      0.04316631704568863,
      -0.019923504441976547,
      -0.06773001700639725,
      -0.0668300986289978,
      0.007493432145565748,
      0.023997509852051735,
      -0.012016715481877327,
      -0.04087209329009056,
      -0.1349295973777771,
      -0.06014549732208252,
      -0.08283901959657669,
      0.03909017890691757,
      0.031374718993902206,
      0.0036771625746041536,
      -0.045570697635412216,
      -0.05505773797631264,
      -0.028525574132800102,
      -0.09343896806240082,
      -0.01447642408311367,
      -0.04631838947534561,
      -0.026237912476062775,
      0.01325010322034359,
      0.0700983852148056,
      -0.023048965260386467,
      0.060838308185338974,
      -0.008090516552329063,
      0.008315224200487137,
      0.025921229273080826,
      0.029230374842882156,
      0.05286799743771553,
      -0.01438395120203495,
      0.02396306023001671,
      0.10495705902576447,
      -0.002079377882182598,
      -0.05871017277240753,
      0.06051470711827278,
      -0.05235293135046959,
      -0.029245495796203613,
      0.0360967293381691,
      -0.054322369396686554,
      -0.11444242298603058,
      -0.08002928644418716,
      -0.01939060166478157,
      0.037215329706668854,
      0.0025970698334276676,
      -0.050484441220760345,
      -0.08630169183015823,
      0.03272631764411926,
      -0.006219051778316498,
      0.015699073672294617,
      0.05208580940961838,
      -0.013087638653814793,
      -0.039599109441041946,
      -0.055977217853069305,
      -0.04411359876394272,
      0.05294062942266464,
      -0.046836357563734055,
      0.08879404515028,
      0.003804775420576334,
      -5.765253920594157e-33,
      0.03828487545251846,
      -0.014381910674273968,
      0.036330390721559525,
      -0.012163292616605759,
      0.0836816355586052,
      -0.03542352467775345,
      0.009393061511218548,
      0.01093270257115364,
      0.13547419011592865,
      -0.010882151313126087,
      -0.06788714975118637,
      -0.08889001607894897,
      0.04350230470299721,
      0.00787360593676567,
      0.07834102213382721,
      0.03629544377326965,
      -0.03591684252023697,
      -0.0006621184293180704,
      0.017899073660373688,
      -0.004119367804378271,
      -0.07101713120937347,
      0.02678871899843216,
      -0.08681198209524155,
      -0.0647200345993042,
      -0.04548664018511772,
      0.005767574068158865,
      0.07151515781879425,
      -0.017382293939590454,
      0.019346710294485092,
      0.001753861317411065,
      -0.01650886982679367,
      -0.034212540835142136,
      -0.06833335757255554,
      0.05723962187767029,
      -0.04381944239139557,
      0.04638995975255966,
      0.011713254265487194,
      -0.02855614386498928,
      -0.0744713544845581,
      0.05470767617225647,
      0.18325389921665192,
      0.05991044268012047,
      -0.015122578479349613,
      -0.0012984627392143011,
      -0.05381552875041962,
      -0.000978153315372765,
      0.037942443042993546,
      0.11416086554527283,
      -0.12235531955957413,
      0.011539292521774769,
      0.01199414674192667,
      -0.03817858174443245,
      -0.00819061603397131,
      0.012820313684642315,
      -0.05804501846432686,
      -0.01134210079908371,
      0.04400064796209335,
      -0.0009250480215996504,
      -0.030334582552313805,
      -0.06972359865903854,
      -0.025537701323628426,
      0.05294966325163841,
      0.007951769977807999,
      0.004579584579914808,
      0.06016246974468231,
      -0.024565698578953743,
      0.020578134804964066,
      0.0023514654021710157,
      0.000690099666826427,
      -0.016094530001282692,
      -0.02952544018626213,
      0.008100654929876328,
      0.07140275090932846,
      0.04152095690369606,
      0.1515938639640808,
      0.046691183000802994,
      -0.0857081413269043,
      -0.10990454256534576,
      -0.041970714926719666,
      0.05439594015479088,
      -0.054446905851364136,
      -0.009398211725056171,
      0.034378718584775925,
      0.03380480781197548,
      -0.024698682129383087,
      -0.023621555417776108,
      -0.014667440205812454,
      0.1590108573436737,
      -0.011048355139791965,
      0.004557733424007893,
      0.07814592868089676,
      -0.051766492426395416,
      -0.03684071823954582,
      0.04381522536277771,
      -0.061701152473688126,
      -5.5604843396395154e-08,
      -0.07501386106014252,
      0.032126132398843765,
      0.017686577513813972,
      0.12397777289152145,
      0.09218475222587585,
      -0.005991633050143719,
      0.04028819873929024,
      -0.002815937390550971,
      -0.035486143082380295,
      -0.07758636772632599,
      -0.01200734544545412,
      -0.004982133395969868,
      0.026322439312934875,
      0.0005905867437832057,
      0.00011480299872346222,
      -0.03434855118393898,
      -0.0215695109218359,
      -0.007807070389389992,
      -0.030803153291344643,
      -0.02604164369404316,
      -0.011665954254567623,
      -0.06331221014261246,
      -0.06955806910991669,
      -0.008021164685487747,
      0.03931503742933273,
      0.04380595311522484,
      -0.038935936987400055,
      0.06360477209091187,
      -0.09801124036312103,
      -0.025822266936302185,
      0.038784727454185486,
      0.013521878980100155,
      -0.005800436716526747,
      -0.000559910258743912,
      0.015360989607870579,
      0.03480495139956474,
      0.014459958299994469,
      -0.0114967105910182,
      -0.013108564540743828,
      0.04578961431980133,
      -0.04284264147281647,
      0.031596750020980835,
      0.011984781362116337,
      0.006645799148827791,
      0.04215032979846001,
      -0.031324513256549835,
      -0.05216139182448387,
      -0.12446537613868713,
      0.01827200874686241,
      -0.09372170269489288,
      -0.037407416850328445,
      -0.12807616591453552,
      0.04263307526707649,
      0.058384593576192856,
      0.03348477929830551,
      0.026499759405851364,
      0.02156221680343151,
      -0.006799736525863409,
      -0.04747403413057327,
      -0.047088995575904846,
      0.08432452380657196,
      0.07380326837301254,
      -0.02417043410241604,
      0.03239964321255684
    ]
  },
  {
    "id": "chat.py_get_messages_for_track",
    "filename": "chat.py",
    "function_name": "get_messages_for_track",
    "text": "## Function: get_messages_for_track (chat.py)\n\n```python\n@router.get(\"/tracks/{track_id}/messages\")\ndef get_messages_for_track(track_id: str, db: Session = Depends(get_db)):\n    track = db.query(Track).filter_by(id=track_id).first()\n    if not track:\n        raise HTTPException(status_code=404, detail=\"Track not found\")\n\n    messages = (\n        db.query(ChatMessage)\n        .filter(ChatMessage.track_id == track_id)\n        .order_by(ChatMessage.timestamp.asc())\n        .all()\n    )\n\n    print(f\"DEBUG: Found {len(messages)} messages for track_id={track_id}\")\n    for msg in messages:\n        print(f\"DEBUG: message id={msg.id} content={msg.message[:30]}\")\n\n    return [\n        {\n            \"sender\": msg.sender,\n            \"message\": msg.message,\n            \"feedback_profile\": msg.feedback_profile,\n            \"type\": track.type,\n            \"track_name\": track.track_name\n        }\n        for msg in messages\n    ]\n```\n",
    "embedding": [
      0.007896610535681248,
      0.019838735461235046,
      0.05194864049553871,
      0.08009010553359985,
      0.06838022172451019,
      -0.025531023740768433,
      0.04615955799818039,
      -0.029171783477067947,
      0.039001837372779846,
      -0.04855665937066078,
      0.008607175201177597,
      0.014073923230171204,
      -0.00962111633270979,
      -0.0008460403187200427,
      -0.02971394918859005,
      0.05160344019532204,
      -0.01789271831512451,
      -0.061919666826725006,
      -0.019905230030417442,
      -0.0788622722029686,
      0.01730012521147728,
      0.1426200419664383,
      0.0595843680202961,
      0.08974459022283554,
      -0.041416529566049576,
      -0.0004414008872117847,
      -0.0584745816886425,
      -0.018199153244495392,
      -0.07680297642946243,
      -0.029450425878167152,
      0.02009524777531624,
      -0.02022739127278328,
      -0.0028717282693833113,
      0.09931132197380066,
      0.03522329032421112,
      -0.06849726289510727,
      -0.042999282479286194,
      -0.037722885608673096,
      0.1273290365934372,
      -0.01709376648068428,
      -0.020072445273399353,
      -0.022012557834386826,
      0.035096168518066406,
      -0.02481030486524105,
      0.032324522733688354,
      -0.04589283838868141,
      -0.09262484312057495,
      0.0755261704325676,
      0.008076786063611507,
      0.01058241631835699,
      -0.01193223800510168,
      -0.004986724816262722,
      -0.01797439344227314,
      0.05396048352122307,
      0.04577024281024933,
      0.07381478697061539,
      -0.06635888665914536,
      0.02783951908349991,
      -0.02761303260922432,
      -0.03923087939620018,
      -0.027104148641228676,
      -0.07883133739233017,
      0.05463302507996559,
      -0.09408692270517349,
      -0.0952363833785057,
      -0.05307049676775932,
      -0.005306566134095192,
      0.07052412629127502,
      0.09053841978311539,
      0.08003905415534973,
      -0.008930658921599388,
      0.023626023903489113,
      -0.051213301718235016,
      0.04567393288016319,
      -0.062115516513586044,
      -0.0027290815487504005,
      0.0038837329484522343,
      -0.0171293206512928,
      -0.13024531304836273,
      -0.021925613284111023,
      -0.10883210599422455,
      -0.10020329803228378,
      0.03869360685348511,
      0.004938419908285141,
      0.09858300536870956,
      -0.09640182554721832,
      0.02482306770980358,
      -0.00010729070345405489,
      -0.00412937393411994,
      -0.030197352170944214,
      -0.07123813778162003,
      -0.020195361226797104,
      0.013849059119820595,
      0.048459187150001526,
      0.014809262938797474,
      0.07744984328746796,
      -0.02709135413169861,
      0.08682799339294434,
      0.057279713451862335,
      0.07391336560249329,
      0.025022760033607483,
      0.007049414794892073,
      0.01429568137973547,
      -0.022071100771427155,
      0.06796785444021225,
      0.036129675805568695,
      0.007226533722132444,
      0.011659215204417706,
      -0.014078698121011257,
      -0.016243871301412582,
      -0.060382768511772156,
      0.032583944499492645,
      0.06767270714044571,
      0.05402594804763794,
      0.11519481986761093,
      -9.678283822722733e-05,
      0.03256213292479515,
      0.08263994753360748,
      0.003558745142072439,
      0.007089114282280207,
      0.09439030289649963,
      -0.0541159063577652,
      0.02429952472448349,
      0.024147409945726395,
      -0.025939714163541794,
      0.08660243451595306,
      0.11093927174806595,
      5.514732931888896e-33,
      0.07671085745096207,
      -0.005474445875734091,
      0.013887685723602772,
      -0.07915853708982468,
      0.044976186007261276,
      0.07976163178682327,
      -0.04747612029314041,
      -0.0214557945728302,
      0.03911982476711273,
      0.017207300290465355,
      -0.10085038095712662,
      0.001760282670147717,
      0.026280952617526054,
      -0.1031152606010437,
      0.007432342041283846,
      -0.06937263160943985,
      -0.035029035061597824,
      0.06969728320837021,
      0.06419301778078079,
      0.028397604823112488,
      -0.011695527471601963,
      -0.0605953186750412,
      -0.015841519460082054,
      -0.02057204768061638,
      0.07184881716966629,
      0.04784325510263443,
      0.0073680453933775425,
      -0.024751320481300354,
      -0.06461181491613388,
      -0.024603277444839478,
      -0.04642557352781296,
      0.010334009304642677,
      0.021000074222683907,
      0.016852956265211105,
      0.04804022237658501,
      -0.0006645843386650085,
      -0.004761843476444483,
      -0.022472679615020752,
      -0.07907522469758987,
      -0.06028509885072708,
      -0.006421784404665232,
      -0.008835267275571823,
      -0.06437929719686508,
      -0.05615872144699097,
      -0.10699537396430969,
      -0.0018994652200490236,
      -0.10696287453174591,
      0.06099117174744606,
      0.01185227744281292,
      -0.02403733879327774,
      -0.04449152573943138,
      -0.013334237039089203,
      0.010264144279062748,
      -0.049461379647254944,
      0.048418883234262466,
      -0.07355722784996033,
      0.021894797682762146,
      0.00363564514555037,
      0.08122513443231583,
      -0.016936758533120155,
      0.08140774071216583,
      -0.07853065431118011,
      0.02317853830754757,
      -0.04350103437900543,
      0.0883474200963974,
      0.004018676932901144,
      0.007670230697840452,
      0.05906541645526886,
      0.03419409692287445,
      -0.026115935295820236,
      0.02786208875477314,
      0.019850067794322968,
      0.040277693420648575,
      -0.009278868325054646,
      0.0492124930024147,
      -0.0367174968123436,
      -0.054550256580114365,
      0.01196209155023098,
      -0.005907856859266758,
      -0.0061791096813976765,
      -0.023385582491755486,
      -0.07410363852977753,
      -0.0647638812661171,
      0.020117096602916718,
      0.004954186733812094,
      0.05470599606633186,
      0.04838040471076965,
      -0.006241706665605307,
      -0.026655592024326324,
      0.08276237547397614,
      -0.1578037589788437,
      0.034611448645591736,
      -0.011619366705417633,
      -0.0007407567463815212,
      0.022128397598862648,
      -4.265101621728185e-33,
      0.004278881475329399,
      0.05520060285925865,
      0.06147731468081474,
      -0.03908826410770416,
      0.08545620739459991,
      -0.055842090398073196,
      0.08829598873853683,
      -0.0026587434113025665,
      0.07284128665924072,
      0.03996851295232773,
      -0.03937507048249245,
      -0.11119754612445831,
      0.011883200146257877,
      -0.021410886198282242,
      0.06390554457902908,
      0.05113440379500389,
      0.0019682389684021473,
      -0.033896058797836304,
      0.00353609723970294,
      -0.04297596216201782,
      -0.05285225808620453,
      0.04202517867088318,
      -0.07199716567993164,
      0.024111248552799225,
      -0.06146141514182091,
      0.014719574712216854,
      0.10088122636079788,
      -0.07913199812173843,
      -0.04892430827021599,
      -0.09102325886487961,
      0.013830243609845638,
      0.005416282918304205,
      -0.043604686856269836,
      0.030425842851400375,
      0.0016195325879380107,
      -0.021041948348283768,
      0.024865103885531425,
      0.05314973369240761,
      -0.025195326656103134,
      0.05546931177377701,
      0.11370191723108292,
      0.12179062515497208,
      -0.10300348699092865,
      0.016634106636047363,
      0.005038872826844454,
      0.017447397112846375,
      0.002088026376441121,
      0.06332781910896301,
      -0.10652641952037811,
      -0.00016704807057976723,
      0.0443623885512352,
      -0.08665778487920761,
      0.04953829199075699,
      -0.0054740603081882,
      -0.004661951679736376,
      -0.009725024923682213,
      0.0396873764693737,
      -0.04861391708254814,
      -0.0180825125426054,
      -0.02066715620458126,
      -0.0529077909886837,
      -0.021143518388271332,
      -0.019397467374801636,
      0.011876211501657963,
      0.016912246122956276,
      -0.01946716010570526,
      -0.04758536443114281,
      0.038444168865680695,
      0.02402391843497753,
      0.004987332969903946,
      0.00015261693624779582,
      -0.04851209744811058,
      -0.043562084436416626,
      0.0532100610435009,
      0.09205561131238937,
      0.06491708755493164,
      -0.11662585288286209,
      0.00653965724632144,
      -0.07672224193811417,
      0.042926616966724396,
      -0.04565588757395744,
      -0.01933477446436882,
      0.055846258997917175,
      -0.013337244279682636,
      -0.031581271439790726,
      -0.04530522972345352,
      0.004492262378334999,
      0.07085475325584412,
      -0.02944793924689293,
      -0.02143954671919346,
      0.05344781652092934,
      -0.019968189299106598,
      0.017327850684523582,
      0.04934291914105415,
      -0.005778552498668432,
      -4.694026145557473e-08,
      -0.0981689840555191,
      -0.049735989421606064,
      0.003994104452431202,
      0.017390131950378418,
      0.12319958955049515,
      0.06433936208486557,
      0.06334410607814789,
      0.03063504584133625,
      -0.003587233368307352,
      -0.03389021009206772,
      0.01478623691946268,
      -0.02881666272878647,
      -0.022063415497541428,
      -0.015738345682621002,
      0.010908662341535091,
      -0.051123153418302536,
      -0.06968823075294495,
      0.020160632207989693,
      -0.027266666293144226,
      0.022246772423386574,
      0.06777127087116241,
      0.046865470707416534,
      -0.01367314625531435,
      0.007104930002242327,
      -0.0015350311296060681,
      -0.030171768739819527,
      0.04613184556365013,
      0.06943979114294052,
      -0.04143620654940605,
      -0.04364771395921707,
      -0.009406429715454578,
      0.02949637547135353,
      -0.0032897815108299255,
      -0.01647518202662468,
      0.035434361547231674,
      -0.033143751323223114,
      -0.013568746857345104,
      -0.03392541781067848,
      -0.0188021007925272,
      0.09529876708984375,
      -0.06093864142894745,
      0.01630743406713009,
      -0.004683050327003002,
      -0.009182264097034931,
      0.05331197381019592,
      -0.07327380031347275,
      -0.059837706387043,
      -0.09101425856351852,
      0.04631110280752182,
      0.012318195775151253,
      -0.06291995942592621,
      -0.0394539050757885,
      0.05260077118873596,
      0.007533286232501268,
      -0.0019161549862474203,
      0.041669562458992004,
      0.03827936574816704,
      -0.027872947975993156,
      -0.03506217524409294,
      -0.047721631824970245,
      0.03083694726228714,
      0.008224483579397202,
      0.022935321554541588,
      0.0035151266492903233
    ]
  },
  {
    "id": "chat.py_summarize_thread",
    "filename": "chat.py",
    "function_name": "summarize_thread",
    "text": "## Function: summarize_thread (chat.py)\n\n```python\n@router.post(\"/summarize-thread\")\ndef summarize_thread(req: SummarizeRequest, db: Session = Depends(get_db)):\n    \"\"\"\n        Generate a summary of a follow-up conversation thread.\n\n        Retrieves chat messages for a given session, track, and follow-up group,\n        then uses AI to summarize the thread into a concise improvement strategy.\n\n        Parameters:\n            req (SummarizeRequest): Contains session_id, track_id, and followup_group.\n            db (Session): Database session for querying chat messages.\n\n        Returns:\n            dict: A JSON response with the AI-generated summary or a message if\n                  no follow-up messages are found.\n        \"\"\"\n    print(f\"Summarize request: session_id={req.session_id}, track_id={req.track_id}, group={req.followup_group}\")\n    messages = (\n        db.query(ChatMessage)\n        .filter_by(session_id=req.session_id, track_id=req.track_id, followup_group=req.followup_group)\n        .order_by(ChatMessage.timestamp)\n        .all()\n    )\n    print(f\"Found {len(messages)} messages\")\n    # Count only user messages as \"follow-up\" messages\n    user_msgs = [msg for msg in messages if msg.sender == \"user\"]\n\n    if not user_msgs:\n        return {\"summary\": \"No follow-up messages found for this thread to summarize.\"}\n\n    thread = []\n    for msg in messages:\n        if msg.sender == \"user\":\n            thread.append({\"role\": \"user\", \"content\": msg.message})\n        else:\n            thread.append({\"role\": \"assistant\", \"content\": msg.message})\n\n    conversation = \"\\n\".join([f\"{m['role'].capitalize()}: {m['content']}\" for m in thread])\n    print(f\"Conversation for summarization:\\n{conversation}\")\n\n    if not conversation.strip():\n        return {\"summary\": \"No follow-up messages found for this thread to summarize.\"}\n\n    prompt = f\"\"\"\nSummarize this follow-up thread (5 user questions with assistant responses) into a concise overall improvement strategy:\n\n{conversation}\n\"\"\"\n\n    summary = generate_feedback_response(prompt)\n    return {\"summary\": summary}\n```\n",
    "embedding": [
      -0.05213446915149689,
      0.03531108796596527,
      0.003399074310436845,
      0.035583317279815674,
      -0.01307318639010191,
      -0.016747143119573593,
      0.06202472373843193,
      -0.052283257246017456,
      0.06148545444011688,
      -0.014030192978680134,
      -0.021181507036089897,
      -0.0054635838605463505,
      -0.03791641816496849,
      0.024689676240086555,
      0.002092803595587611,
      0.03311460092663765,
      0.05035073310136795,
      -0.03460695967078209,
      -0.03373706340789795,
      -0.09768170118331909,
      0.0063254572451114655,
      0.06967567652463913,
      0.08994108438491821,
      0.1044265553355217,
      0.0041919550858438015,
      -0.042924992740154266,
      -0.03336024656891823,
      0.03750896453857422,
      -0.01648426055908203,
      0.027330271899700165,
      0.030783869326114655,
      -0.0031875541899353266,
      0.010246729478240013,
      0.057901930063962936,
      -0.05704423785209656,
      0.009116550907492638,
      -0.018093165010213852,
      -0.024381928145885468,
      0.09456007927656174,
      -0.029265016317367554,
      -0.02486708201467991,
      0.006294118240475655,
      -0.038461677730083466,
      -0.017896631732583046,
      0.002465039724484086,
      -0.03876771405339241,
      -0.10891678184270859,
      0.06204565241932869,
      0.03663323074579239,
      0.0013508782722055912,
      -0.07120712101459503,
      0.05910402908921242,
      -0.035667017102241516,
      0.05907774344086647,
      0.06248020753264427,
      0.07736632972955704,
      -0.05170629546046257,
      0.02012430503964424,
      0.005049458239227533,
      -0.07962924987077713,
      -0.004206113051623106,
      -0.10250949114561081,
      0.09358669072389603,
      -0.002404287224635482,
      0.007032910827547312,
      -0.023964155465364456,
      0.03950588405132294,
      0.11374302208423615,
      0.08909629285335541,
      0.01666799560189247,
      -0.034238871186971664,
      0.01818160153925419,
      -0.01407398097217083,
      0.0699358657002449,
      -0.06107158958911896,
      0.03540891781449318,
      -0.007063283119350672,
      -0.06395687162876129,
      -0.09384091198444366,
      0.016822010278701782,
      -0.09279479086399078,
      -0.03670983761548996,
      0.06484659761190414,
      0.045250583440065384,
      0.07080946117639542,
      -0.08028201013803482,
      0.04831922799348831,
      -0.03495027869939804,
      -0.016503190621733665,
      -0.040179293602705,
      -0.08120470494031906,
      0.009714062325656414,
      -0.02914094179868698,
      0.024512983858585358,
      0.0027005504816770554,
      0.06682047247886658,
      -0.04908213019371033,
      -0.003580037970095873,
      0.015554603189229965,
      0.08942816406488419,
      0.0568719282746315,
      0.01173705980181694,
      -0.009359021671116352,
      -0.10831385105848312,
      -0.011774367652833462,
      0.029324853792786598,
      0.02145848423242569,
      0.008195231668651104,
      -0.04967762902379036,
      0.0010188388405367732,
      -0.011554271914064884,
      0.07481196522712708,
      0.02313726767897606,
      0.030412383377552032,
      0.05557991564273834,
      -0.03617411106824875,
      0.14272941648960114,
      0.044010404497385025,
      0.06805821508169174,
      0.05133713781833649,
      0.18548034131526947,
      -0.02147047035396099,
      -0.001177530037239194,
      0.036070939153432846,
      0.07331588864326477,
      0.039521124213933945,
      0.051445841789245605,
      4.117392307681718e-33,
      0.02381017990410328,
      -0.04148988425731659,
      0.02937309630215168,
      0.015262807719409466,
      0.01992606557905674,
      0.08291969448328018,
      -0.034011341631412506,
      0.021674634888768196,
      0.0071156141348183155,
      -0.054189544171094894,
      -0.08526287972927094,
      0.018727358430624008,
      0.027987822890281677,
      -0.07720410823822021,
      0.006797549314796925,
      -0.071256123483181,
      -0.06752859801054001,
      0.11506031453609467,
      0.06902171671390533,
      0.04686466231942177,
      -0.004541682545095682,
      -0.06710901111364365,
      -0.0007195596117526293,
      0.05762045085430145,
      0.03739176318049431,
      0.03661737218499184,
      0.02968405932188034,
      -0.0353507436811924,
      -0.08329582214355469,
      0.006021830718964338,
      -0.030580885708332062,
      -0.05212629586458206,
      -0.05459942668676376,
      -0.000688089698087424,
      0.030220290645956993,
      -0.016126083210110664,
      -0.024246472865343094,
      -0.04503101482987404,
      -0.02798641473054886,
      -0.03166153281927109,
      -0.07794499397277832,
      0.0001885544043034315,
      -0.09744445234537125,
      -0.1047632172703743,
      -0.11924026161432266,
      0.022955941036343575,
      -0.1130310520529747,
      0.042454201728105545,
      0.010812221094965935,
      -0.03306036442518234,
      -0.018926307559013367,
      -0.06738998740911484,
      0.029163045808672905,
      -0.06954222172498703,
      0.014149371534585953,
      -0.06636252254247665,
      0.042646653950214386,
      0.016716253012418747,
      0.08171052485704422,
      0.025172701105475426,
      0.01579081267118454,
      -0.01907871477305889,
      -0.015036412514746189,
      0.027540095150470734,
      0.07914620637893677,
      0.03915132209658623,
      -0.031763955950737,
      0.07914570719003677,
      0.060228314250707626,
      -0.011163248680531979,
      -0.003700769040733576,
      0.07616136968135834,
      -0.00788786169141531,
      0.044905662536621094,
      0.029999321326613426,
      -0.024169277399778366,
      -0.02873115986585617,
      -0.018347885459661484,
      -0.029184622690081596,
      0.03332892432808876,
      0.029613325372338295,
      -0.03093658573925495,
      -0.013979208655655384,
      0.0014700900064781308,
      -0.05425335094332695,
      0.0672321692109108,
      0.04740399122238159,
      -0.004040773492306471,
      -0.042970575392246246,
      -0.01875593699514866,
      -0.11310350894927979,
      0.021597053855657578,
      0.018803516402840614,
      0.05981837213039398,
      -0.022860586643218994,
      -4.5202628743833175e-33,
      -0.016970986500382423,
      0.024447817355394363,
      -0.019592873752117157,
      -0.013924848288297653,
      0.09872110933065414,
      -0.0008727555396035314,
      0.022409262135624886,
      0.005193945020437241,
      0.04699615761637688,
      -0.006743131671100855,
      -0.05087818205356598,
      -0.10728001594543457,
      0.006827183999121189,
      -0.0035091908648610115,
      0.06418856233358383,
      0.008619819767773151,
      0.014103598892688751,
      -0.03719237446784973,
      0.02758512645959854,
      0.041056837886571884,
      -0.059172373265028,
      0.017921363934874535,
      -0.03247838094830513,
      -0.041361160576343536,
      -0.0064174337312579155,
      -0.017818104475736618,
      0.045287106186151505,
      -0.06051211431622505,
      -0.009689485654234886,
      -0.02864394336938858,
      0.030715685337781906,
      -0.056548506021499634,
      -0.0325099416077137,
      -0.00867553986608982,
      -0.05274065211415291,
      0.004278210457414389,
      0.028384681791067123,
      -0.014763863757252693,
      -0.03999439254403114,
      0.04909086599946022,
      0.15186986327171326,
      0.03956412523984909,
      -0.03026004694402218,
      -0.020208943635225296,
      -0.030050691217184067,
      -0.0022642200347036123,
      -0.01983540505170822,
      -0.01098751462996006,
      -0.11532268673181534,
      0.03713316097855568,
      -0.009796161204576492,
      -0.06304743140935898,
      0.022228626534342766,
      0.01654970645904541,
      -0.08013775199651718,
      -0.04131900146603584,
      0.038385674357414246,
      -0.040459100157022476,
      -0.027497783303260803,
      -0.07919654995203018,
      -0.11739831417798996,
      -0.011687228456139565,
      -0.01619561016559601,
      0.005039331503212452,
      0.07027902454137802,
      -0.07128449529409409,
      0.028163550421595573,
      -0.062983937561512,
      -0.015697067603468895,
      0.02288101240992546,
      0.07685070484876633,
      -0.03188396617770195,
      0.05313125252723694,
      0.09545086324214935,
      0.12569501996040344,
      0.05371597036719322,
      -0.058806050568819046,
      -0.08674943447113037,
      -0.07875443994998932,
      0.03827665001153946,
      -0.08874722570180893,
      -0.04466703534126282,
      0.08590976148843765,
      0.03693418204784393,
      -0.03931074216961861,
      -0.01994423009455204,
      0.0029946304857730865,
      0.1366180181503296,
      -0.01570640318095684,
      0.018983591347932816,
      0.04274791479110718,
      -0.050824739038944244,
      -0.01483587920665741,
      -0.021218692883849144,
      0.0020098648965358734,
      -4.91405032221337e-08,
      -0.06806283444166183,
      -0.042354516685009,
      -0.020637989044189453,
      0.06783921271562576,
      0.08282838016748428,
      0.03300687298178673,
      0.016818180680274963,
      0.020491061732172966,
      -0.014852982014417648,
      -0.01843588799238205,
      0.03548013046383858,
      0.009634613990783691,
      0.019070234149694443,
      0.010187783278524876,
      -0.04304133355617523,
      0.00641658715903759,
      -0.044821929186582565,
      0.022593360394239426,
      -0.016681065782904625,
      -0.06497103720903397,
      0.052599068731069565,
      -0.024352069944143295,
      -0.0502258762717247,
      -0.008031380362808704,
      -0.011280005797743797,
      0.03672698512673378,
      -0.01574843004345894,
      0.06380865722894669,
      -0.060503967106342316,
      -0.10566746443510056,
      -0.02086593210697174,
      0.03468598052859306,
      -0.017412597313523293,
      0.022684618830680847,
      -0.032524224370718,
      0.02677900157868862,
      -0.039313819259405136,
      0.01339967641979456,
      0.013756582513451576,
      0.05899632349610329,
      -0.06307271867990494,
      0.01999421790242195,
      0.019182000309228897,
      0.023573171347379684,
      0.10037093609571457,
      -0.050584957003593445,
      -0.11212874948978424,
      -0.06982682645320892,
      -0.012987921945750713,
      -0.04526273533701897,
      0.015414239838719368,
      -0.08773173391819,
      0.031743377447128296,
      0.024227986112236977,
      -0.0049099973402917385,
      0.049126360565423965,
      0.04248926416039467,
      -0.057426419109106064,
      0.02100319042801857,
      -0.04006987810134888,
      0.06939663738012314,
      0.061957862228155136,
      -0.06044745817780495,
      -0.030841082334518433
    ]
  },
  {
    "id": "chat.py_test",
    "filename": "chat.py",
    "function_name": "test",
    "text": "## Function: test (chat.py)\n\n```python\n@router.get(\"/test\")\ndef test():\n    return {\"message\": \"Chat router works\"}\n```\n",
    "embedding": [
      -0.041759196668863297,
      0.028841961175203323,
      0.03603840991854668,
      0.06027989834547043,
      -0.007610139902681112,
      -0.10184852033853531,
      0.014638945460319519,
      -0.0018056726548820734,
      0.008418872952461243,
      -0.08016848564147949,
      -0.006436042487621307,
      0.06783231347799301,
      -0.09209124743938446,
      0.08200414478778839,
      0.14692409336566925,
      0.047297582030296326,
      0.024094626307487488,
      -0.04874153435230255,
      0.06414885818958282,
      -0.04499049857258797,
      0.06394645571708679,
      0.15032333135604858,
      0.08986672759056091,
      0.06293683499097824,
      -0.039585892111063004,
      -0.09487461298704147,
      0.0057554771192371845,
      0.035126008093357086,
      -0.010102083906531334,
      0.02211158163845539,
      0.0966009572148323,
      0.013686488382518291,
      -0.08901306986808777,
      0.04928366094827652,
      4.512952364166267e-05,
      0.04189532995223999,
      0.01612609624862671,
      0.01025470346212387,
      0.07272506505250931,
      0.01195274107158184,
      -0.041033122688531876,
      -0.04727170243859291,
      -0.031825121492147446,
      -0.040064889937639236,
      0.010337311774492264,
      -0.08643576502799988,
      -0.03508593514561653,
      0.06542808562517166,
      -0.010016215965151787,
      -0.02060561813414097,
      -0.027379274368286133,
      0.05301179736852646,
      -0.00608700281009078,
      0.03781154006719589,
      0.05538701266050339,
      0.043228235095739365,
      -0.048820629715919495,
      0.04216967523097992,
      0.014916977845132351,
      -0.030641837045550346,
      -0.05159652978181839,
      -0.06743402034044266,
      0.06389091163873672,
      -0.016574284061789513,
      -0.07084498554468155,
      -0.06035654619336128,
      0.0018417774699628353,
      0.034118615090847015,
      -0.037232596427202225,
      0.035017769783735275,
      -0.03279799595475197,
      -0.035781316459178925,
      -0.0010493380250409245,
      0.050519391894340515,
      0.032238662242889404,
      -0.014768133871257305,
      0.0031473056878894567,
      -0.05604030191898346,
      -0.023974018171429634,
      0.06779668480157852,
      -0.02925337292253971,
      -0.10598043352365494,
      -0.02857876382768154,
      0.060615573078393936,
      0.052610427141189575,
      -0.009494991041719913,
      -0.02554711326956749,
      -0.025247670710086823,
      0.005088643170893192,
      -0.026420321315526962,
      -0.05424295738339424,
      -0.0837613120675087,
      -0.06912057846784592,
      0.04906697943806648,
      -0.07471521943807602,
      -0.008091690950095654,
      -0.020587453618645668,
      -0.01171795092523098,
      -0.0337597094476223,
      0.04218234494328499,
      0.010951923206448555,
      -0.030992867425084114,
      0.04036140814423561,
      -0.07322239130735397,
      0.05532999336719513,
      0.049530453979969025,
      0.016124306246638298,
      -0.054687902331352234,
      0.06824585795402527,
      0.02616218477487564,
      -0.10170983523130417,
      -0.036948464810848236,
      0.0354766845703125,
      0.08493123948574066,
      0.0780273899435997,
      -0.061612166464328766,
      0.006374504417181015,
      0.05700899288058281,
      0.009003980085253716,
      0.08433694392442703,
      0.12440067529678345,
      -0.08157948404550552,
      0.020579839125275612,
      0.013559514656662941,
      0.029814328998327255,
      0.01026607770472765,
      0.09367654472589493,
      -4.064125240351687e-34,
      0.03985031321644783,
      -0.005968598183244467,
      0.008447716943919659,
      0.08721502870321274,
      0.03504446521401405,
      0.0045218695886433125,
      0.018467174842953682,
      0.004080900922417641,
      -0.049794767051935196,
      0.014717419631779194,
      -0.0893883928656578,
      0.0023023253306746483,
      0.039700038731098175,
      -0.030509427189826965,
      -0.0011989749036729336,
      0.05402390658855438,
      -0.027868328616023064,
      -0.005369829013943672,
      0.07153414189815521,
      0.02722329832613468,
      -0.009435553103685379,
      0.00601032143458724,
      0.018117854371666908,
      0.02893582358956337,
      -0.010230773128569126,
      -0.021834900602698326,
      0.034223102033138275,
      -0.04609135538339615,
      -0.072353295981884,
      -0.03710125759243965,
      0.00857724342495203,
      -0.023291880264878273,
      0.04868762567639351,
      0.056399229913949966,
      0.014263472519814968,
      -0.0005755313904955983,
      -0.011194990947842598,
      0.02737310901284218,
      -0.1281023472547531,
      -0.03318178653717041,
      -0.041053321212530136,
      -0.04556287080049515,
      -0.051981158554553986,
      -0.013316000811755657,
      -0.0341065376996994,
      -0.0687204897403717,
      -0.0859292522072792,
      0.05702422186732292,
      0.021289432421326637,
      0.03186260163784027,
      -0.030616743490099907,
      0.01164870336651802,
      0.010212797671556473,
      0.01835390366613865,
      0.07892507314682007,
      -0.05219075828790665,
      -0.01538928784430027,
      -0.027740618214011192,
      0.019082490354776382,
      -0.10994943976402283,
      0.006744047626852989,
      -0.06938645243644714,
      0.01981297694146633,
      -0.031603049486875534,
      0.004401190206408501,
      -0.046990156173706055,
      -0.009521369822323322,
      0.030855542048811913,
      0.014163980260491371,
      0.01035979948937893,
      0.0049691894091665745,
      -0.0005757001345045865,
      -0.03775768727064133,
      0.04580257460474968,
      -0.04835328459739685,
      0.02691071480512619,
      -0.11458937078714371,
      0.012069398537278175,
      0.03428269922733307,
      -0.010676288045942783,
      0.03348313271999359,
      -0.04392078518867493,
      -0.025313612073659897,
      0.09787121415138245,
      0.017493896186351776,
      0.015857122838497162,
      0.03587595000863075,
      -0.05762000381946564,
      0.059975627809762955,
      0.02020629681646824,
      -0.1299114227294922,
      -0.030962077900767326,
      -0.013732049614191055,
      -0.006550079211592674,
      0.02153313159942627,
      -1.1567808480991813e-33,
      0.039036259055137634,
      0.08116146177053452,
      -0.08005388081073761,
      0.05348050221800804,
      -0.03531069681048393,
      -0.07834604382514954,
      0.15793803334236145,
      -0.021172290667891502,
      0.025374403223395348,
      0.03296680003404617,
      1.9879591491189785e-05,
      -0.042071618139743805,
      0.07149766385555267,
      -0.04262124374508858,
      0.07966767251491547,
      0.04631385579705238,
      -0.041137244552373886,
      -0.04830429330468178,
      0.023709984496235847,
      -0.02549268677830696,
      -0.0713106170296669,
      0.013387148268520832,
      -0.03971667215228081,
      -0.071519635617733,
      -0.08555043488740921,
      -0.006117686629295349,
      0.06858226656913757,
      -0.04640574753284454,
      -0.03752993792295456,
      -0.019602669402956963,
      -0.014930454082787037,
      0.03625422716140747,
      0.00508013553917408,
      0.04713421314954758,
      0.06991393864154816,
      0.04283267259597778,
      0.055039454251527786,
      -0.03474909067153931,
      0.047715190798044205,
      -0.04051370918750763,
      0.16164204478263855,
      0.0658784955739975,
      -0.0646592304110527,
      0.04387658089399338,
      0.023020846769213676,
      -0.012050359509885311,
      0.028609609231352806,
      -0.05725047364830971,
      -0.06310674548149109,
      0.009469962678849697,
      0.08600363880395889,
      -0.03172554820775986,
      0.06831391155719757,
      0.0026355849113315344,
      -0.016175223514437675,
      -0.013976497575640678,
      -0.006708946544677019,
      -0.033535562455654144,
      -0.023864049464464188,
      0.01980806700885296,
      -0.07837438583374023,
      -0.07069431245326996,
      -0.009250696748495102,
      0.10175719112157822,
      -0.04954911768436432,
      -0.11478353291749954,
      -0.06066630780696869,
      0.004892610479146242,
      0.08935603499412537,
      -0.03826329484581947,
      0.04306234046816826,
      -0.00290247006341815,
      0.06056706979870796,
      0.08094968646764755,
      0.09335507452487946,
      0.04312342777848244,
      -0.041004978120326996,
      -0.057583119720220566,
      -0.04878377541899681,
      0.08156093209981918,
      0.0002785417891573161,
      -0.07036982476711273,
      -0.02443058043718338,
      -0.0393875315785408,
      -0.04370852932333946,
      -0.018142051994800568,
      -0.006197099108248949,
      0.09576138108968735,
      -0.020124031230807304,
      -0.06258673965930939,
      0.09507787972688675,
      0.0026245492044836283,
      -0.0014993130462244153,
      0.02483750693500042,
      0.019291391596198082,
      -3.109025215053407e-08,
      -0.05954834073781967,
      -0.03914423659443855,
      0.04506140947341919,
      -0.015586837194859982,
      -0.02261148765683174,
      0.07811678200960159,
      0.04023054242134094,
      -0.08416140079498291,
      -0.0062444633804261684,
      0.006411084905266762,
      -0.017964646220207214,
      0.014124208129942417,
      -0.019979331642389297,
      -0.022983714938163757,
      0.002442358760163188,
      -0.0024765755515545607,
      -0.013160932809114456,
      0.09200258553028107,
      0.004951286129653454,
      0.019772492349147797,
      -0.008862091228365898,
      -0.006107543129473925,
      -0.013079606927931309,
      0.03538565710186958,
      -0.05355497822165489,
      0.01467579510062933,
      0.0027374045457690954,
      0.010847695171833038,
      -0.12385095655918121,
      -0.03283000364899635,
      -0.019653014838695526,
      0.014988865703344345,
      0.0036257514730095863,
      0.010449351742863655,
      -0.03895727917551994,
      0.040094826370477676,
      -0.007992686703801155,
      -0.027130601927638054,
      0.06259194761514664,
      0.12236105650663376,
      -0.02518284320831299,
      -0.018929801881313324,
      -0.0626334697008133,
      -0.04208625853061676,
      -0.02056710235774517,
      -0.037141479551792145,
      -0.08050916343927383,
      -0.04603790491819382,
      0.006724448408931494,
      4.551811798592098e-05,
      -0.017249682918190956,
      -0.022239362820982933,
      -0.04095882549881935,
      -0.03308262676000595,
      0.019949570298194885,
      -0.008519954048097134,
      0.02148275263607502,
      -0.05775134637951851,
      -0.10403266549110413,
      -0.05808538198471069,
      0.01950822025537491,
      0.1185329332947731,
      0.0335482656955719,
      -0.04089648649096489
    ]
  }
]