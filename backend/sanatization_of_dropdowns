The sanitize_input() helper does both:

goes to gpt_utils, upload, chat

Validation â€“ making sure the input is not empty, too long, or malformed.

Sanitization â€“ trimming whitespace, normalizing formatting (like .lower()), and escaping risky characters.

It replaces the need for separate validators in many cases, especially when:

You're only dealing with strings,

You donâ€™t need to raise detailed validation errors for users,

And you're prepping data primarily for use in prompts or storage.

For more complex scenarios (like form submissions or database inserts), you might combine sanitization with stricter schema validation (e.g. with pydantic or marshmallow), but for prompt hygiene and app stability â€” your current approach is ğŸ‘Œ and future-ready.

Want a reusable utils.py version of this that you can import into any script?




Validation for tracks.py and sessions.py still planned:

Field	              Needs Sanitization?	Needs Validation?	          Notes
track_name            âŒ (no mapping)	    âœ… (trim + not empty)	      Strip and check
session_name	      âŒ (no mapping)	    âœ… (trim + not empty)	      Strip and check
user_id	              âŒ	                âœ… (FastAPI handles type)     Ensure itâ€™s valid if not trusted
session_id (UUID)	  âŒ	                âœ… (check format)	          Optional, but useful


